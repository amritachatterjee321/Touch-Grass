function lI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function $_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sp={exports:{}},$l={},op={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function cI(){if(h0)return Ge;h0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,k={};function A(B,Z,ie){this.props=B,this.context=Z,this.refs=k,this.updater=ie||C}A.prototype.isReactComponent={},A.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},A.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function V(){}V.prototype=A.prototype;function U(B,Z,ie){this.props=B,this.context=Z,this.refs=k,this.updater=ie||C}var I=U.prototype=new V;I.constructor=U,P(I,A.prototype),I.isPureReactComponent=!0;var W=Array.isArray,X=Object.prototype.hasOwnProperty,ne={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function S(B,Z,ie){var ue,ge={},xe=null,ee=null;if(Z!=null)for(ue in Z.ref!==void 0&&(ee=Z.ref),Z.key!==void 0&&(xe=""+Z.key),Z)X.call(Z,ue)&&!M.hasOwnProperty(ue)&&(ge[ue]=Z[ue]);var fe=arguments.length-2;if(fe===1)ge.children=ie;else if(1<fe){for(var Ne=Array(fe),De=0;De<fe;De++)Ne[De]=arguments[De+2];ge.children=Ne}if(B&&B.defaultProps)for(ue in fe=B.defaultProps,fe)ge[ue]===void 0&&(ge[ue]=fe[ue]);return{$$typeof:n,type:B,key:xe,ref:ee,props:ge,_owner:ne.current}}function N(B,Z){return{$$typeof:n,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function j(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function O(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ie){return Z[ie]})}var F=/\/+/g;function D(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):Z.toString(36)}function ye(B,Z,ie,ue,ge){var xe=typeof B;(xe==="undefined"||xe==="boolean")&&(B=null);var ee=!1;if(B===null)ee=!0;else switch(xe){case"string":case"number":ee=!0;break;case"object":switch(B.$$typeof){case n:case e:ee=!0}}if(ee)return ee=B,ge=ge(ee),B=ue===""?"."+D(ee,0):ue,W(ge)?(ie="",B!=null&&(ie=B.replace(F,"$&/")+"/"),ye(ge,Z,ie,"",function(De){return De})):ge!=null&&(j(ge)&&(ge=N(ge,ie+(!ge.key||ee&&ee.key===ge.key?"":(""+ge.key).replace(F,"$&/")+"/")+B)),Z.push(ge)),1;if(ee=0,ue=ue===""?".":ue+":",W(B))for(var fe=0;fe<B.length;fe++){xe=B[fe];var Ne=ue+D(xe,fe);ee+=ye(xe,Z,ie,Ne,ge)}else if(Ne=x(B),typeof Ne=="function")for(B=Ne.call(B),fe=0;!(xe=B.next()).done;)xe=xe.value,Ne=ue+D(xe,fe++),ee+=ye(xe,Z,ie,Ne,ge);else if(xe==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ee}function ke(B,Z,ie){if(B==null)return B;var ue=[],ge=0;return ye(B,ue,"","",function(xe){return Z.call(ie,xe,ge++)}),ue}function le(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(ie){(B._status===0||B._status===-1)&&(B._status=1,B._result=ie)},function(ie){(B._status===0||B._status===-1)&&(B._status=2,B._result=ie)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var pe={current:null},H={transition:null},J={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:H,ReactCurrentOwner:ne};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:ke,forEach:function(B,Z,ie){ke(B,function(){Z.apply(this,arguments)},ie)},count:function(B){var Z=0;return ke(B,function(){Z++}),Z},toArray:function(B){return ke(B,function(Z){return Z})||[]},only:function(B){if(!j(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ge.Component=A,Ge.Fragment=t,Ge.Profiler=i,Ge.PureComponent=U,Ge.StrictMode=r,Ge.Suspense=p,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Ge.act=se,Ge.cloneElement=function(B,Z,ie){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ue=P({},B.props),ge=B.key,xe=B.ref,ee=B._owner;if(Z!=null){if(Z.ref!==void 0&&(xe=Z.ref,ee=ne.current),Z.key!==void 0&&(ge=""+Z.key),B.type&&B.type.defaultProps)var fe=B.type.defaultProps;for(Ne in Z)X.call(Z,Ne)&&!M.hasOwnProperty(Ne)&&(ue[Ne]=Z[Ne]===void 0&&fe!==void 0?fe[Ne]:Z[Ne])}var Ne=arguments.length-2;if(Ne===1)ue.children=ie;else if(1<Ne){fe=Array(Ne);for(var De=0;De<Ne;De++)fe[De]=arguments[De+2];ue.children=fe}return{$$typeof:n,type:B.type,key:ge,ref:xe,props:ue,_owner:ee}},Ge.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Ge.createElement=S,Ge.createFactory=function(B){var Z=S.bind(null,B);return Z.type=B,Z},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(B){return{$$typeof:h,render:B}},Ge.isValidElement=j,Ge.lazy=function(B){return{$$typeof:_,_payload:{_status:-1,_result:B},_init:le}},Ge.memo=function(B,Z){return{$$typeof:g,type:B,compare:Z===void 0?null:Z}},Ge.startTransition=function(B){var Z=H.transition;H.transition={};try{B()}finally{H.transition=Z}},Ge.unstable_act=se,Ge.useCallback=function(B,Z){return pe.current.useCallback(B,Z)},Ge.useContext=function(B){return pe.current.useContext(B)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(B){return pe.current.useDeferredValue(B)},Ge.useEffect=function(B,Z){return pe.current.useEffect(B,Z)},Ge.useId=function(){return pe.current.useId()},Ge.useImperativeHandle=function(B,Z,ie){return pe.current.useImperativeHandle(B,Z,ie)},Ge.useInsertionEffect=function(B,Z){return pe.current.useInsertionEffect(B,Z)},Ge.useLayoutEffect=function(B,Z){return pe.current.useLayoutEffect(B,Z)},Ge.useMemo=function(B,Z){return pe.current.useMemo(B,Z)},Ge.useReducer=function(B,Z,ie){return pe.current.useReducer(B,Z,ie)},Ge.useRef=function(B){return pe.current.useRef(B)},Ge.useState=function(B){return pe.current.useState(B)},Ge.useSyncExternalStore=function(B,Z,ie){return pe.current.useSyncExternalStore(B,Z,ie)},Ge.useTransition=function(){return pe.current.useTransition()},Ge.version="18.3.1",Ge}var f0;function Rm(){return f0||(f0=1,op.exports=cI()),op.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function uI(){if(p0)return $l;p0=1;var n=Rm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,g){var _,y={},x=null,C=null;g!==void 0&&(x=""+g),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(C=p.ref);for(_ in p)r.call(p,_)&&!a.hasOwnProperty(_)&&(y[_]=p[_]);if(h&&h.defaultProps)for(_ in p=h.defaultProps,p)y[_]===void 0&&(y[_]=p[_]);return{$$typeof:e,type:h,key:x,ref:C,props:y,_owner:i.current}}return $l.Fragment=t,$l.jsx=c,$l.jsxs=c,$l}var m0;function dI(){return m0||(m0=1,sp.exports=uI()),sp.exports}var f=dI(),$u={},ip={exports:{}},kn={},ap={exports:{}},lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function hI(){return g0||(g0=1,(function(n){function e(H,J){var se=H.length;H.push(J);e:for(;0<se;){var B=se-1>>>1,Z=H[B];if(0<i(Z,J))H[B]=J,H[se]=Z,se=B;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],se=H.pop();if(se!==J){H[0]=se;e:for(var B=0,Z=H.length,ie=Z>>>1;B<ie;){var ue=2*(B+1)-1,ge=H[ue],xe=ue+1,ee=H[xe];if(0>i(ge,se))xe<Z&&0>i(ee,ge)?(H[B]=ee,H[xe]=se,B=xe):(H[B]=ge,H[ue]=se,B=ue);else if(xe<Z&&0>i(ee,se))H[B]=ee,H[xe]=se,B=xe;else break e}}return J}function i(H,J){var se=H.sortIndex-J.sortIndex;return se!==0?se:H.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],g=[],_=1,y=null,x=3,C=!1,P=!1,k=!1,A=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(H){for(var J=t(g);J!==null;){if(J.callback===null)r(g);else if(J.startTime<=H)r(g),J.sortIndex=J.expirationTime,e(p,J);else break;J=t(g)}}function W(H){if(k=!1,I(H),!P)if(t(p)!==null)P=!0,le(X);else{var J=t(g);J!==null&&pe(W,J.startTime-H)}}function X(H,J){P=!1,k&&(k=!1,V(S),S=-1),C=!0;var se=x;try{for(I(J),y=t(p);y!==null&&(!(y.expirationTime>J)||H&&!O());){var B=y.callback;if(typeof B=="function"){y.callback=null,x=y.priorityLevel;var Z=B(y.expirationTime<=J);J=n.unstable_now(),typeof Z=="function"?y.callback=Z:y===t(p)&&r(p),I(J)}else r(p);y=t(p)}if(y!==null)var ie=!0;else{var ue=t(g);ue!==null&&pe(W,ue.startTime-J),ie=!1}return ie}finally{y=null,x=se,C=!1}}var ne=!1,M=null,S=-1,N=5,j=-1;function O(){return!(n.unstable_now()-j<N)}function F(){if(M!==null){var H=n.unstable_now();j=H;var J=!0;try{J=M(!0,H)}finally{J?D():(ne=!1,M=null)}}else ne=!1}var D;if(typeof U=="function")D=function(){U(F)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,ke=ye.port2;ye.port1.onmessage=F,D=function(){ke.postMessage(null)}}else D=function(){A(F,0)};function le(H){M=H,ne||(ne=!0,D())}function pe(H,J){S=A(function(){H(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){P||C||(P=!0,le(X))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(H){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var se=x;x=J;try{return H()}finally{x=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var se=x;x=H;try{return J()}finally{x=se}},n.unstable_scheduleCallback=function(H,J,se){var B=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?B+se:B):se=B,H){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=se+Z,H={id:_++,callback:J,priorityLevel:H,startTime:se,expirationTime:Z,sortIndex:-1},se>B?(H.sortIndex=se,e(g,H),t(p)===null&&H===t(g)&&(k?(V(S),S=-1):k=!0,pe(W,se-B))):(H.sortIndex=Z,e(p,H),P||C||(P=!0,le(X))),H},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(H){var J=x;return function(){var se=x;x=J;try{return H.apply(this,arguments)}finally{x=se}}}})(lp)),lp}var y0;function fI(){return y0||(y0=1,ap.exports=hI()),ap.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function pI(){if(v0)return kn;v0=1;var n=Rm(),e=fI();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},y={};function x(s){return p.call(y,s)?!0:p.call(_,s)?!1:g.test(s)?y[s]=!0:(_[s]=!0,!1)}function C(s,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,o,l,d){if(o===null||typeof o>"u"||C(s,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(s,o,l,d,m,v,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=E}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];A[o]=new k(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(V,U);A[o]=new k(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(V,U);A[o]=new k(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(V,U);A[o]=new k(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function I(s,o,l,d){var m=A.hasOwnProperty(o)?A[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,l,m,d)&&(l=null),d||m===null?x(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):m.mustUseProperty?s[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?s.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?s.setAttributeNS(d,o,l):s.setAttribute(o,l))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ne=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),H=Symbol.iterator;function J(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,B;function Z(s){if(B===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var ie=!1;function ue(s,o){if(!s||ie)return"";ie=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var d=Q}Reflect.construct(s,[],o)}else{try{o.call()}catch(Q){d=Q}s.call(o.prototype)}else{try{throw Error()}catch(Q){d=Q}s()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),v=d.stack.split(`
`),E=m.length-1,L=v.length-1;1<=E&&0<=L&&m[E]!==v[L];)L--;for(;1<=E&&0<=L;E--,L--)if(m[E]!==v[L]){if(E!==1||L!==1)do if(E--,L--,0>L||m[E]!==v[L]){var z=`
`+m[E].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=E&&0<=L);break}}}finally{ie=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?Z(s):""}function ge(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=ue(s.type,!1),s;case 11:return s=ue(s.type.render,!1),s;case 1:return s=ue(s.type,!0),s;default:return""}}function xe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case ne:return"Portal";case N:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case ye:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case j:return(s._context.displayName||"Context")+".Provider";case F:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ke:return o=s.displayName||null,o!==null?o:xe(s.type)||"Memo";case le:o=s._payload,s=s._init;try{return xe(s(o))}catch{}}return null}function ee(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ne(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function De(s){var o=Ne(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){d=""+E,v.call(this,E)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Be(s){s._valueTracker||(s._valueTracker=De(s))}function We(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return s&&(d=Ne(s)?s.checked?"true":"false":s.value),s=d,s!==l?(o.setValue(s),!0):!1}function vt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Bt(s,o){var l=o.checked;return se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function kr(s,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=fe(o.value!=null?o.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Pn(s,o){o=o.checked,o!=null&&I(s,"checked",o,!1)}function Qt(s,o){Pn(s,o);var l=fe(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?nt(s,o.type,l):o.hasOwnProperty("defaultValue")&&nt(s,o.type,fe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Bs(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function nt(s,o,l){(o!=="number"||vt(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var wt=Array.isArray;function Mn(s,o,l,d){if(s=s.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=o.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&d&&(s[l].defaultSelected=!0)}else{for(l=""+fe(l),o=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Lt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Gn(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(wt(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:fe(l)}}function Li(s,o){var l=fe(o.value),d=fe(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function Nr(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Rr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $s(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Rr(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ar,Hs=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return s(o,l,d,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ar.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function xn(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cr=["Webkit","ms","Moz","O"];Object.keys(lr).forEach(function(s){cr.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),lr[o]=lr[s]})});function Ar(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||lr.hasOwnProperty(s)&&lr[s]?(""+o).trim():o+"px"}function Ws(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Ar(l,o[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,m):s[l]=m}}var Gs=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(s,o){if(o){if(Gs[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function qs(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qn=null;function mn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ur=null,dr=null,dt=null;function Ks(s){if(s=kl(s)){if(typeof ur!="function")throw Error(t(280));var o=s.stateNode;o&&(o=su(o),ur(s.stateNode,s.type,o))}}function je(s){dr?dt?dt.push(s):dt=[s]:dr=s}function it(){if(dr){var s=dr,o=dt;if(dt=dr=null,Ks(s),o)for(s=0;s<o.length;s++)Ks(o[s])}}function St(s,o){return s(o)}function $t(){}var gn=!1;function Et(s,o,l){if(gn)return s(o,l);gn=!0;try{return St(s,o,l)}finally{gn=!1,(dr!==null||dt!==null)&&($t(),it())}}function Nt(s,o){var l=s.stateNode;if(l===null)return null;var d=su(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Dn=!1;if(h)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{Dn=!1}function rn(s,o,l,d,m,v,E,L,z){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(l,Q)}catch(ae){this.onError(ae)}}var Kn=!1,Ht=null,Bo=!1,Qn=null,Oc={onError:function(s){Kn=!0,Ht=s}};function Lc(s,o,l,d,m,v,E,L,z){Kn=!1,Ht=null,rn.apply(Oc,arguments)}function nl(s,o,l,d,m,v,E,L,z){if(Lc.apply(this,arguments),Kn){if(Kn){var Q=Ht;Kn=!1,Ht=null}else throw Error(t(198));Bo||(Bo=!0,Qn=Q)}}function hr(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function rl(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Vc(s){if(hr(s)!==s)throw Error(t(188))}function Fc(s){var o=s.alternate;if(!o){if(o=hr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var l=s,d=o;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Vc(m),s;if(v===d)return Vc(m),o;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=v;else{for(var E=!1,L=m.child;L;){if(L===l){E=!0,l=m,d=v;break}if(L===d){E=!0,d=m,l=v;break}L=L.sibling}if(!E){for(L=v.child;L;){if(L===l){E=!0,l=v,d=m;break}if(L===d){E=!0,d=v,l=m;break}L=L.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:o}function Uc(s){return s=Fc(s),s!==null?$o(s):null}function $o(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=$o(s);if(o!==null)return o;s=s.sibling}return null}var sl=e.unstable_scheduleCallback,Vi=e.unstable_cancelCallback,Ho=e.unstable_shouldYield,gs=e.unstable_requestPaint,ht=e.unstable_now,Dh=e.unstable_getCurrentPriorityLevel,Fi=e.unstable_ImmediatePriority,ol=e.unstable_UserBlockingPriority,Wo=e.unstable_NormalPriority,il=e.unstable_LowPriority,Ui=e.unstable_IdlePriority,Go=null,jn=null;function zc(s){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Go,s,void 0,(s.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:qo,Pr=Math.log,Yn=Math.LN2;function qo(s){return s>>>=0,s===0?32:31-(Pr(s)/Yn|0)|0}var Mr=64,Qs=4194304;function tt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ys(s,o){var l=s.pendingLanes;if(l===0)return 0;var d=0,m=s.suspendedLanes,v=s.pingedLanes,E=l&268435455;if(E!==0){var L=E&~m;L!==0?d=tt(L):(v&=E,v!==0&&(d=tt(v)))}else E=l&~m,E!==0?d=tt(E):v!==0&&(d=tt(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)l=31-On(o),m=1<<l,d|=s[l],o&=~m;return d}function Ko(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qo(s,o){for(var l=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var E=31-On(v),L=1<<E,z=m[E];z===-1?((L&l)===0||(L&d)!==0)&&(m[E]=Ko(L,o)):z<=o&&(s.expiredLanes|=L),v&=~L}}function al(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ll(){var s=Mr;return Mr<<=1,(Mr&4194240)===0&&(Mr=64),s}function cl(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Yo(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-On(o),s[o]=l}function jh(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var m=31-On(l),v=1<<m;o[m]=0,d[m]=-1,s[m]=-1,l&=~v}}function ul(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var d=31-On(l),m=1<<d;m&o|s[d]&o&&(s[d]|=o),l&=~m}}var Ye=0;function Dr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var dl,zi,hl,fl,pl,jr=!1,Bi=[],Or=null,Lr=null,Yt=null,Xo=new Map,vs=new Map,Ln=[],Bc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ys(s,o){switch(s){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Xo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(o.pointerId)}}function fr(s,o,l,d,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=kl(o),o!==null&&zi(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function $c(s,o,l,d,m){switch(o){case"focusin":return Or=fr(Or,s,o,l,d,m),!0;case"dragenter":return Lr=fr(Lr,s,o,l,d,m),!0;case"mouseover":return Yt=fr(Yt,s,o,l,d,m),!0;case"pointerover":var v=m.pointerId;return Xo.set(v,fr(Xo.get(v)||null,s,o,l,d,m)),!0;case"gotpointercapture":return v=m.pointerId,vs.set(v,fr(vs.get(v)||null,s,o,l,d,m)),!0}return!1}function $i(s){var o=ti(s.target);if(o!==null){var l=hr(o);if(l!==null){if(o=l.tag,o===13){if(o=rl(l),o!==null){s.blockedOn=o,pl(s.priority,function(){hl(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function at(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Hi(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);qn=d,l.target.dispatchEvent(d),qn=null}else return o=kl(l),o!==null&&zi(o),s.blockedOn=l,!1;o.shift()}return!0}function Hc(s,o,l){at(s)&&l.delete(o)}function Oh(){jr=!1,Or!==null&&at(Or)&&(Or=null),Lr!==null&&at(Lr)&&(Lr=null),Yt!==null&&at(Yt)&&(Yt=null),Xo.forEach(Hc),vs.forEach(Hc)}function Xs(s,o){s.blockedOn===o&&(s.blockedOn=null,jr||(jr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Oh)))}function Js(s){function o(m){return Xs(m,s)}if(0<Bi.length){Xs(Bi[0],s);for(var l=1;l<Bi.length;l++){var d=Bi[l];d.blockedOn===s&&(d.blockedOn=null)}}for(Or!==null&&Xs(Or,s),Lr!==null&&Xs(Lr,s),Yt!==null&&Xs(Yt,s),Xo.forEach(o),vs.forEach(o),l=0;l<Ln.length;l++)d=Ln[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<Ln.length&&(l=Ln[0],l.blockedOn===null);)$i(l),l.blockedOn===null&&Ln.shift()}var ws=W.ReactCurrentBatchConfig,_s=!0;function Vr(s,o,l,d){var m=Ye,v=ws.transition;ws.transition=null;try{Ye=1,ml(s,o,l,d)}finally{Ye=m,ws.transition=v}}function Wc(s,o,l,d){var m=Ye,v=ws.transition;ws.transition=null;try{Ye=4,ml(s,o,l,d)}finally{Ye=m,ws.transition=v}}function ml(s,o,l,d){if(_s){var m=Hi(s,o,l,d);if(m===null)qh(s,o,d,Fr,l),Ys(s,d);else if($c(m,s,o,l,d))d.stopPropagation();else if(Ys(s,d),o&4&&-1<Bc.indexOf(s)){for(;m!==null;){var v=kl(m);if(v!==null&&dl(v),v=Hi(s,o,l,d),v===null&&qh(s,o,d,Fr,l),v===m)break;m=v}m!==null&&d.stopPropagation()}else qh(s,o,d,null,l)}}var Fr=null;function Hi(s,o,l,d){if(Fr=null,s=mn(d),s=ti(s),s!==null)if(o=hr(s),o===null)s=null;else if(l=o.tag,l===13){if(s=rl(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Fr=s,null}function Wi(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dh()){case Fi:return 1;case ol:return 4;case Wo:case il:return 16;case Ui:return 536870912;default:return 16}default:return 16}}var Vn=null,Gi=null,xs=null;function Gc(){if(xs)return xs;var s,o=Gi,l=o.length,d,m="value"in Vn?Vn.value:Vn.textContent,v=m.length;for(s=0;s<l&&o[s]===m[s];s++);var E=l-s;for(d=1;d<=E&&o[l-d]===m[v-d];d++);return xs=m.slice(s,1<d?1-d:void 0)}function Jo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ur(){return!0}function gl(){return!1}function sn(s){function o(l,d,m,v,E){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(l=s[L],this[L]=l?l(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ur:gl,this.isPropagationStopped=gl,this}return se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),o}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=sn(zr),Zs=se({},zr,{view:0,detail:0}),qi=sn(Zs),Ki,Qi,Fn,ei=se({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fn&&(Fn&&s.type==="mousemove"?(Ki=s.screenX-Fn.screenX,Qi=s.screenY-Fn.screenY):Qi=Ki=0,Fn=s),Ki)},movementY:function(s){return"movementY"in s?s.movementY:Qi}}),yl=sn(ei),qc=se({},ei,{dataTransfer:0}),Kc=sn(qc),Yi=se({},Zs,{relatedTarget:0}),Xt=sn(Yi),Qc=se({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yc=sn(Qc),eo=se({},zr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),u=sn(eo),w=se({},zr,{data:0}),b=sn(w),R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function me(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Y[s])?!!o[s]:!1}function Ue(){return me}var It=se({},Zs,{key:function(s){if(s.key){var o=R[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Jo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?q[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(s){return s.type==="keypress"?Jo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Jo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),st=sn(It),At=se({},ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Un=sn(At),bs=se({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),Br=sn(bs),$r=se({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xi=sn($r),vl=se({},ei,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),nS=sn(vl),rS=[9,13,27,32],Lh=h&&"CompositionEvent"in window,wl=null;h&&"documentMode"in document&&(wl=document.documentMode);var sS=h&&"TextEvent"in window&&!wl,sy=h&&(!Lh||wl&&8<wl&&11>=wl),oy=" ",iy=!1;function ay(s,o){switch(s){case"keyup":return rS.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ly(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ji=!1;function oS(s,o){switch(s){case"compositionend":return ly(o);case"keypress":return o.which!==32?null:(iy=!0,oy);case"textInput":return s=o.data,s===oy&&iy?null:s;default:return null}}function iS(s,o){if(Ji)return s==="compositionend"||!Lh&&ay(s,o)?(s=Gc(),xs=Gi=Vn=null,Ji=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return sy&&o.locale!=="ko"?null:o.data;default:return null}}var aS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!aS[s.type]:o==="textarea"}function uy(s,o,l,d){je(d),o=tu(o,"onChange"),0<o.length&&(l=new Zo("onChange","change",null,l,d),s.push({event:l,listeners:o}))}var _l=null,xl=null;function lS(s){ky(s,0)}function Xc(s){var o=ra(s);if(We(o))return s}function cS(s,o){if(s==="change")return o}var dy=!1;if(h){var Vh;if(h){var Fh="oninput"in document;if(!Fh){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),Fh=typeof hy.oninput=="function"}Vh=Fh}else Vh=!1;dy=Vh&&(!document.documentMode||9<document.documentMode)}function fy(){_l&&(_l.detachEvent("onpropertychange",py),xl=_l=null)}function py(s){if(s.propertyName==="value"&&Xc(xl)){var o=[];uy(o,xl,s,mn(s)),Et(lS,o)}}function uS(s,o,l){s==="focusin"?(fy(),_l=o,xl=l,_l.attachEvent("onpropertychange",py)):s==="focusout"&&fy()}function dS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xc(xl)}function hS(s,o){if(s==="click")return Xc(o)}function fS(s,o){if(s==="input"||s==="change")return Xc(o)}function pS(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var pr=typeof Object.is=="function"?Object.is:pS;function bl(s,o){if(pr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!p.call(o,m)||!pr(s[m],o[m]))return!1}return!0}function my(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function gy(s,o){var l=my(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=o&&d>=o)return{node:l,offset:o-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=my(l)}}function yy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?yy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function vy(){for(var s=window,o=vt();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=vt(s.document)}return o}function Uh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function mS(s){var o=vy(),l=s.focusedElem,d=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&yy(l.ownerDocument.documentElement,l)){if(d!==null&&Uh(l)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=l.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!s.extend&&v>d&&(m=d,d=v,v=m),m=gy(l,v);var E=gy(l,d);m&&E&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>d?(s.addRange(o),s.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var gS=h&&"documentMode"in document&&11>=document.documentMode,Zi=null,zh=null,El=null,Bh=!1;function wy(s,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bh||Zi==null||Zi!==vt(d)||(d=Zi,"selectionStart"in d&&Uh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),El&&bl(El,d)||(El=d,d=tu(zh,"onSelect"),0<d.length&&(o=new Zo("onSelect","select",null,o,l),s.push({event:o,listeners:d}),o.target=Zi)))}function Jc(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var ea={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},$h={},_y={};h&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function Zc(s){if($h[s])return $h[s];if(!ea[s])return s;var o=ea[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in _y)return $h[s]=o[l];return s}var xy=Zc("animationend"),by=Zc("animationiteration"),Ey=Zc("animationstart"),Ty=Zc("transitionend"),Sy=new Map,Iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(s,o){Sy.set(s,o),a(o,[s])}for(var Hh=0;Hh<Iy.length;Hh++){var Wh=Iy[Hh],yS=Wh.toLowerCase(),vS=Wh[0].toUpperCase()+Wh.slice(1);to(yS,"on"+vS)}to(xy,"onAnimationEnd"),to(by,"onAnimationIteration"),to(Ey,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(Ty,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function Cy(s,o,l){var d=s.type||"unknown-event";s.currentTarget=l,nl(d,o,void 0,s),s.currentTarget=null}function ky(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var E=d.length-1;0<=E;E--){var L=d[E],z=L.instance,Q=L.currentTarget;if(L=L.listener,z!==v&&m.isPropagationStopped())break e;Cy(m,L,Q),v=z}else for(E=0;E<d.length;E++){if(L=d[E],z=L.instance,Q=L.currentTarget,L=L.listener,z!==v&&m.isPropagationStopped())break e;Cy(m,L,Q),v=z}}}if(Bo)throw s=Qn,Bo=!1,Qn=null,s}function ft(s,o){var l=o[Zh];l===void 0&&(l=o[Zh]=new Set);var d=s+"__bubble";l.has(d)||(Ny(o,s,2,!1),l.add(d))}function Gh(s,o,l){var d=0;o&&(d|=4),Ny(l,s,d,o)}var eu="_reactListening"+Math.random().toString(36).slice(2);function Sl(s){if(!s[eu]){s[eu]=!0,r.forEach(function(l){l!=="selectionchange"&&(wS.has(l)||Gh(l,!1,s),Gh(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[eu]||(o[eu]=!0,Gh("selectionchange",!1,o))}}function Ny(s,o,l,d){switch(Wi(o)){case 1:var m=Vr;break;case 4:m=Wc;break;default:m=ml}l=m.bind(null,o,l,s),m=void 0,!Dn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,l,{capture:!0,passive:m}):s.addEventListener(o,l,!0):m!==void 0?s.addEventListener(o,l,{passive:m}):s.addEventListener(o,l,!1)}function qh(s,o,l,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var L=d.stateNode.containerInfo;if(L===m||L.nodeType===8&&L.parentNode===m)break;if(E===4)for(E=d.return;E!==null;){var z=E.tag;if((z===3||z===4)&&(z=E.stateNode.containerInfo,z===m||z.nodeType===8&&z.parentNode===m))return;E=E.return}for(;L!==null;){if(E=ti(L),E===null)return;if(z=E.tag,z===5||z===6){d=v=E;continue e}L=L.parentNode}}d=d.return}Et(function(){var Q=v,ae=mn(l),ce=[];e:{var oe=Sy.get(s);if(oe!==void 0){var ve=Zo,Ee=s;switch(s){case"keypress":if(Jo(l)===0)break e;case"keydown":case"keyup":ve=st;break;case"focusin":Ee="focus",ve=Xt;break;case"focusout":Ee="blur",ve=Xt;break;case"beforeblur":case"afterblur":ve=Xt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Br;break;case xy:case by:case Ey:ve=Yc;break;case Ty:ve=Xi;break;case"scroll":ve=qi;break;case"wheel":ve=nS;break;case"copy":case"cut":case"paste":ve=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Un}var Ie=(o&4)!==0,Ct=!Ie&&s==="scroll",G=Ie?oe!==null?oe+"Capture":null:oe;Ie=[];for(var $=Q,K;$!==null;){K=$;var de=K.stateNode;if(K.tag===5&&de!==null&&(K=de,G!==null&&(de=Nt($,G),de!=null&&Ie.push(Il($,de,K)))),Ct)break;$=$.return}0<Ie.length&&(oe=new ve(oe,Ee,null,l,ae),ce.push({event:oe,listeners:Ie}))}}if((o&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",oe&&l!==qn&&(Ee=l.relatedTarget||l.fromElement)&&(ti(Ee)||Ee[Es]))break e;if((ve||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,ve?(Ee=l.relatedTarget||l.toElement,ve=Q,Ee=Ee?ti(Ee):null,Ee!==null&&(Ct=hr(Ee),Ee!==Ct||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ve=null,Ee=Q),ve!==Ee)){if(Ie=yl,de="onMouseLeave",G="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=Un,de="onPointerLeave",G="onPointerEnter",$="pointer"),Ct=ve==null?oe:ra(ve),K=Ee==null?oe:ra(Ee),oe=new Ie(de,$+"leave",ve,l,ae),oe.target=Ct,oe.relatedTarget=K,de=null,ti(ae)===Q&&(Ie=new Ie(G,$+"enter",Ee,l,ae),Ie.target=K,Ie.relatedTarget=Ct,de=Ie),Ct=de,ve&&Ee)t:{for(Ie=ve,G=Ee,$=0,K=Ie;K;K=ta(K))$++;for(K=0,de=G;de;de=ta(de))K++;for(;0<$-K;)Ie=ta(Ie),$--;for(;0<K-$;)G=ta(G),K--;for(;$--;){if(Ie===G||G!==null&&Ie===G.alternate)break t;Ie=ta(Ie),G=ta(G)}Ie=null}else Ie=null;ve!==null&&Ry(ce,oe,ve,Ie,!1),Ee!==null&&Ct!==null&&Ry(ce,Ct,Ee,Ie,!0)}}e:{if(oe=Q?ra(Q):window,ve=oe.nodeName&&oe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&oe.type==="file")var Ce=cS;else if(cy(oe))if(dy)Ce=fS;else{Ce=dS;var Pe=uS}else(ve=oe.nodeName)&&ve.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Ce=hS);if(Ce&&(Ce=Ce(s,Q))){uy(ce,Ce,l,ae);break e}Pe&&Pe(s,oe,Q),s==="focusout"&&(Pe=oe._wrapperState)&&Pe.controlled&&oe.type==="number"&&nt(oe,"number",oe.value)}switch(Pe=Q?ra(Q):window,s){case"focusin":(cy(Pe)||Pe.contentEditable==="true")&&(Zi=Pe,zh=Q,El=null);break;case"focusout":El=zh=Zi=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,wy(ce,l,ae);break;case"selectionchange":if(gS)break;case"keydown":case"keyup":wy(ce,l,ae)}var Me;if(Lh)e:{switch(s){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ji?ay(s,l)&&(Le="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(sy&&l.locale!=="ko"&&(Ji||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ji&&(Me=Gc()):(Vn=ae,Gi="value"in Vn?Vn.value:Vn.textContent,Ji=!0)),Pe=tu(Q,Le),0<Pe.length&&(Le=new b(Le,s,null,l,ae),ce.push({event:Le,listeners:Pe}),Me?Le.data=Me:(Me=ly(l),Me!==null&&(Le.data=Me)))),(Me=sS?oS(s,l):iS(s,l))&&(Q=tu(Q,"onBeforeInput"),0<Q.length&&(ae=new b("onBeforeInput","beforeinput",null,l,ae),ce.push({event:ae,listeners:Q}),ae.data=Me))}ky(ce,o)})}function Il(s,o,l){return{instance:s,listener:o,currentTarget:l}}function tu(s,o){for(var l=o+"Capture",d=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Nt(s,l),v!=null&&d.unshift(Il(s,v,m)),v=Nt(s,o),v!=null&&d.push(Il(s,v,m))),s=s.return}return d}function ta(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ry(s,o,l,d,m){for(var v=o._reactName,E=[];l!==null&&l!==d;){var L=l,z=L.alternate,Q=L.stateNode;if(z!==null&&z===d)break;L.tag===5&&Q!==null&&(L=Q,m?(z=Nt(l,v),z!=null&&E.unshift(Il(l,z,L))):m||(z=Nt(l,v),z!=null&&E.push(Il(l,z,L)))),l=l.return}E.length!==0&&s.push({event:o,listeners:E})}var _S=/\r\n?/g,xS=/\u0000|\uFFFD/g;function Ay(s){return(typeof s=="string"?s:""+s).replace(_S,`
`).replace(xS,"")}function nu(s,o,l){if(o=Ay(o),Ay(s)!==o&&l)throw Error(t(425))}function ru(){}var Kh=null,Qh=null;function Yh(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xh=typeof setTimeout=="function"?setTimeout:void 0,bS=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,ES=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(s){return Py.resolve(null).then(s).catch(TS)}:Xh;function TS(s){setTimeout(function(){throw s})}function Jh(s,o){var l=o,d=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){s.removeChild(m),Js(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Js(o)}function no(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function My(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var na=Math.random().toString(36).slice(2),Hr="__reactFiber$"+na,Cl="__reactProps$"+na,Es="__reactContainer$"+na,Zh="__reactEvents$"+na,SS="__reactListeners$"+na,IS="__reactHandles$"+na;function ti(s){var o=s[Hr];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Es]||l[Hr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=My(s);s!==null;){if(l=s[Hr])return l;s=My(s)}return o}s=l,l=s.parentNode}return null}function kl(s){return s=s[Hr]||s[Es],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ra(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function su(s){return s[Cl]||null}var ef=[],sa=-1;function ro(s){return{current:s}}function pt(s){0>sa||(s.current=ef[sa],ef[sa]=null,sa--)}function ct(s,o){sa++,ef[sa]=s.current,s.current=o}var so={},on=ro(so),En=ro(!1),ni=so;function oa(s,o){var l=s.type.contextTypes;if(!l)return so;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=o[v];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function Tn(s){return s=s.childContextTypes,s!=null}function ou(){pt(En),pt(on)}function Dy(s,o,l){if(on.current!==so)throw Error(t(168));ct(on,o),ct(En,l)}function jy(s,o,l){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,ee(s)||"Unknown",m));return se({},l,d)}function iu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||so,ni=on.current,ct(on,s),ct(En,En.current),!0}function Oy(s,o,l){var d=s.stateNode;if(!d)throw Error(t(169));l?(s=jy(s,o,ni),d.__reactInternalMemoizedMergedChildContext=s,pt(En),pt(on),ct(on,s)):pt(En),ct(En,l)}var Ts=null,au=!1,tf=!1;function Ly(s){Ts===null?Ts=[s]:Ts.push(s)}function CS(s){au=!0,Ly(s)}function oo(){if(!tf&&Ts!==null){tf=!0;var s=0,o=Ye;try{var l=Ts;for(Ye=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}Ts=null,au=!1}catch(m){throw Ts!==null&&(Ts=Ts.slice(s+1)),sl(Fi,oo),m}finally{Ye=o,tf=!1}}return null}var ia=[],aa=0,lu=null,cu=0,Xn=[],Jn=0,ri=null,Ss=1,Is="";function si(s,o){ia[aa++]=cu,ia[aa++]=lu,lu=s,cu=o}function Vy(s,o,l){Xn[Jn++]=Ss,Xn[Jn++]=Is,Xn[Jn++]=ri,ri=s;var d=Ss;s=Is;var m=32-On(d)-1;d&=~(1<<m),l+=1;var v=32-On(o)+m;if(30<v){var E=m-m%5;v=(d&(1<<E)-1).toString(32),d>>=E,m-=E,Ss=1<<32-On(o)+m|l<<m|d,Is=v+s}else Ss=1<<v|l<<m|d,Is=s}function nf(s){s.return!==null&&(si(s,1),Vy(s,1,0))}function rf(s){for(;s===lu;)lu=ia[--aa],ia[aa]=null,cu=ia[--aa],ia[aa]=null;for(;s===ri;)ri=Xn[--Jn],Xn[Jn]=null,Is=Xn[--Jn],Xn[Jn]=null,Ss=Xn[--Jn],Xn[Jn]=null}var zn=null,Bn=null,gt=!1,mr=null;function Fy(s,o){var l=nr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function Uy(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,zn=s,Bn=no(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,zn=s,Bn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=ri!==null?{id:Ss,overflow:Is}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=nr(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,zn=s,Bn=null,!0):!1;default:return!1}}function sf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function of(s){if(gt){var o=Bn;if(o){var l=o;if(!Uy(s,o)){if(sf(s))throw Error(t(418));o=no(l.nextSibling);var d=zn;o&&Uy(s,o)?Fy(d,l):(s.flags=s.flags&-4097|2,gt=!1,zn=s)}}else{if(sf(s))throw Error(t(418));s.flags=s.flags&-4097|2,gt=!1,zn=s}}}function zy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;zn=s}function uu(s){if(s!==zn)return!1;if(!gt)return zy(s),gt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Yh(s.type,s.memoizedProps)),o&&(o=Bn)){if(sf(s))throw By(),Error(t(418));for(;o;)Fy(s,o),o=no(o.nextSibling)}if(zy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){Bn=no(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}Bn=null}}else Bn=zn?no(s.stateNode.nextSibling):null;return!0}function By(){for(var s=Bn;s;)s=no(s.nextSibling)}function la(){Bn=zn=null,gt=!1}function af(s){mr===null?mr=[s]:mr.push(s)}var kS=W.ReactCurrentBatchConfig;function Nl(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,s));var m=d,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(E){var L=m.refs;E===null?delete L[v]:L[v]=E},o._stringRef=v,o)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function du(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function $y(s){var o=s._init;return o(s._payload)}function Hy(s){function o(G,$){if(s){var K=G.deletions;K===null?(G.deletions=[$],G.flags|=16):K.push($)}}function l(G,$){if(!s)return null;for(;$!==null;)o(G,$),$=$.sibling;return null}function d(G,$){for(G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function m(G,$){return G=po(G,$),G.index=0,G.sibling=null,G}function v(G,$,K){return G.index=K,s?(K=G.alternate,K!==null?(K=K.index,K<$?(G.flags|=2,$):K):(G.flags|=2,$)):(G.flags|=1048576,$)}function E(G){return s&&G.alternate===null&&(G.flags|=2),G}function L(G,$,K,de){return $===null||$.tag!==6?($=Jf(K,G.mode,de),$.return=G,$):($=m($,K),$.return=G,$)}function z(G,$,K,de){var Ce=K.type;return Ce===M?ae(G,$,K.props.children,de,K.key):$!==null&&($.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===le&&$y(Ce)===$.type)?(de=m($,K.props),de.ref=Nl(G,$,K),de.return=G,de):(de=ju(K.type,K.key,K.props,null,G.mode,de),de.ref=Nl(G,$,K),de.return=G,de)}function Q(G,$,K,de){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=Zf(K,G.mode,de),$.return=G,$):($=m($,K.children||[]),$.return=G,$)}function ae(G,$,K,de,Ce){return $===null||$.tag!==7?($=hi(K,G.mode,de,Ce),$.return=G,$):($=m($,K),$.return=G,$)}function ce(G,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Jf(""+$,G.mode,K),$.return=G,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case X:return K=ju($.type,$.key,$.props,null,G.mode,K),K.ref=Nl(G,null,$),K.return=G,K;case ne:return $=Zf($,G.mode,K),$.return=G,$;case le:var de=$._init;return ce(G,de($._payload),K)}if(wt($)||J($))return $=hi($,G.mode,K,null),$.return=G,$;du(G,$)}return null}function oe(G,$,K,de){var Ce=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ce!==null?null:L(G,$,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case X:return K.key===Ce?z(G,$,K,de):null;case ne:return K.key===Ce?Q(G,$,K,de):null;case le:return Ce=K._init,oe(G,$,Ce(K._payload),de)}if(wt(K)||J(K))return Ce!==null?null:ae(G,$,K,de,null);du(G,K)}return null}function ve(G,$,K,de,Ce){if(typeof de=="string"&&de!==""||typeof de=="number")return G=G.get(K)||null,L($,G,""+de,Ce);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case X:return G=G.get(de.key===null?K:de.key)||null,z($,G,de,Ce);case ne:return G=G.get(de.key===null?K:de.key)||null,Q($,G,de,Ce);case le:var Pe=de._init;return ve(G,$,K,Pe(de._payload),Ce)}if(wt(de)||J(de))return G=G.get(K)||null,ae($,G,de,Ce,null);du($,de)}return null}function Ee(G,$,K,de){for(var Ce=null,Pe=null,Me=$,Le=$=0,qt=null;Me!==null&&Le<K.length;Le++){Me.index>Le?(qt=Me,Me=null):qt=Me.sibling;var et=oe(G,Me,K[Le],de);if(et===null){Me===null&&(Me=qt);break}s&&Me&&et.alternate===null&&o(G,Me),$=v(et,$,Le),Pe===null?Ce=et:Pe.sibling=et,Pe=et,Me=qt}if(Le===K.length)return l(G,Me),gt&&si(G,Le),Ce;if(Me===null){for(;Le<K.length;Le++)Me=ce(G,K[Le],de),Me!==null&&($=v(Me,$,Le),Pe===null?Ce=Me:Pe.sibling=Me,Pe=Me);return gt&&si(G,Le),Ce}for(Me=d(G,Me);Le<K.length;Le++)qt=ve(Me,G,Le,K[Le],de),qt!==null&&(s&&qt.alternate!==null&&Me.delete(qt.key===null?Le:qt.key),$=v(qt,$,Le),Pe===null?Ce=qt:Pe.sibling=qt,Pe=qt);return s&&Me.forEach(function(mo){return o(G,mo)}),gt&&si(G,Le),Ce}function Ie(G,$,K,de){var Ce=J(K);if(typeof Ce!="function")throw Error(t(150));if(K=Ce.call(K),K==null)throw Error(t(151));for(var Pe=Ce=null,Me=$,Le=$=0,qt=null,et=K.next();Me!==null&&!et.done;Le++,et=K.next()){Me.index>Le?(qt=Me,Me=null):qt=Me.sibling;var mo=oe(G,Me,et.value,de);if(mo===null){Me===null&&(Me=qt);break}s&&Me&&mo.alternate===null&&o(G,Me),$=v(mo,$,Le),Pe===null?Ce=mo:Pe.sibling=mo,Pe=mo,Me=qt}if(et.done)return l(G,Me),gt&&si(G,Le),Ce;if(Me===null){for(;!et.done;Le++,et=K.next())et=ce(G,et.value,de),et!==null&&($=v(et,$,Le),Pe===null?Ce=et:Pe.sibling=et,Pe=et);return gt&&si(G,Le),Ce}for(Me=d(G,Me);!et.done;Le++,et=K.next())et=ve(Me,G,Le,et.value,de),et!==null&&(s&&et.alternate!==null&&Me.delete(et.key===null?Le:et.key),$=v(et,$,Le),Pe===null?Ce=et:Pe.sibling=et,Pe=et);return s&&Me.forEach(function(aI){return o(G,aI)}),gt&&si(G,Le),Ce}function Ct(G,$,K,de){if(typeof K=="object"&&K!==null&&K.type===M&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case X:e:{for(var Ce=K.key,Pe=$;Pe!==null;){if(Pe.key===Ce){if(Ce=K.type,Ce===M){if(Pe.tag===7){l(G,Pe.sibling),$=m(Pe,K.props.children),$.return=G,G=$;break e}}else if(Pe.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===le&&$y(Ce)===Pe.type){l(G,Pe.sibling),$=m(Pe,K.props),$.ref=Nl(G,Pe,K),$.return=G,G=$;break e}l(G,Pe);break}else o(G,Pe);Pe=Pe.sibling}K.type===M?($=hi(K.props.children,G.mode,de,K.key),$.return=G,G=$):(de=ju(K.type,K.key,K.props,null,G.mode,de),de.ref=Nl(G,$,K),de.return=G,G=de)}return E(G);case ne:e:{for(Pe=K.key;$!==null;){if($.key===Pe)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){l(G,$.sibling),$=m($,K.children||[]),$.return=G,G=$;break e}else{l(G,$);break}else o(G,$);$=$.sibling}$=Zf(K,G.mode,de),$.return=G,G=$}return E(G);case le:return Pe=K._init,Ct(G,$,Pe(K._payload),de)}if(wt(K))return Ee(G,$,K,de);if(J(K))return Ie(G,$,K,de);du(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(l(G,$.sibling),$=m($,K),$.return=G,G=$):(l(G,$),$=Jf(K,G.mode,de),$.return=G,G=$),E(G)):l(G,$)}return Ct}var ca=Hy(!0),Wy=Hy(!1),hu=ro(null),fu=null,ua=null,lf=null;function cf(){lf=ua=fu=null}function uf(s){var o=hu.current;pt(hu),s._currentValue=o}function df(s,o,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===l)break;s=s.return}}function da(s,o){fu=s,lf=ua=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Sn=!0),s.firstContext=null)}function Zn(s){var o=s._currentValue;if(lf!==s)if(s={context:s,memoizedValue:o,next:null},ua===null){if(fu===null)throw Error(t(308));ua=s,fu.dependencies={lanes:0,firstContext:s}}else ua=ua.next=s;return o}var oi=null;function hf(s){oi===null?oi=[s]:oi.push(s)}function Gy(s,o,l,d){var m=o.interleaved;return m===null?(l.next=l,hf(o)):(l.next=m.next,m.next=l),o.interleaved=l,Cs(s,d)}function Cs(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var io=!1;function ff(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qy(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ks(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ao(s,o,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ze&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Cs(s,l)}return m=d.interleaved,m===null?(o.next=o,hf(d)):(o.next=m.next,m.next=o),d.interleaved=o,Cs(s,l)}function pu(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,ul(s,l)}}function Ky(s,o){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?m=v=o:v=v.next=o}else m=v=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function mu(s,o,l,d){var m=s.updateQueue;io=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var z=L,Q=z.next;z.next=null,E===null?v=Q:E.next=Q,E=z;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,L=ae.lastBaseUpdate,L!==E&&(L===null?ae.firstBaseUpdate=Q:L.next=Q,ae.lastBaseUpdate=z))}if(v!==null){var ce=m.baseState;E=0,ae=Q=z=null,L=v;do{var oe=L.lane,ve=L.eventTime;if((d&oe)===oe){ae!==null&&(ae=ae.next={eventTime:ve,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Ee=s,Ie=L;switch(oe=o,ve=l,Ie.tag){case 1:if(Ee=Ie.payload,typeof Ee=="function"){ce=Ee.call(ve,ce,oe);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ie.payload,oe=typeof Ee=="function"?Ee.call(ve,ce,oe):Ee,oe==null)break e;ce=se({},ce,oe);break e;case 2:io=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,oe=m.effects,oe===null?m.effects=[L]:oe.push(L))}else ve={eventTime:ve,lane:oe,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ae===null?(Q=ae=ve,z=ce):ae=ae.next=ve,E|=oe;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;oe=L,L=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);if(ae===null&&(z=ce),m.baseState=z,m.firstBaseUpdate=Q,m.lastBaseUpdate=ae,o=m.shared.interleaved,o!==null){m=o;do E|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);li|=E,s.lanes=E,s.memoizedState=ce}}function Qy(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var Rl={},Wr=ro(Rl),Al=ro(Rl),Pl=ro(Rl);function ii(s){if(s===Rl)throw Error(t(174));return s}function pf(s,o){switch(ct(Pl,o),ct(Al,s),ct(Wr,Rl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:$s(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=$s(o,s)}pt(Wr),ct(Wr,o)}function ha(){pt(Wr),pt(Al),pt(Pl)}function Yy(s){ii(Pl.current);var o=ii(Wr.current),l=$s(o,s.type);o!==l&&(ct(Al,s),ct(Wr,l))}function mf(s){Al.current===s&&(pt(Wr),pt(Al))}var _t=ro(0);function gu(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var gf=[];function yf(){for(var s=0;s<gf.length;s++)gf[s]._workInProgressVersionPrimary=null;gf.length=0}var yu=W.ReactCurrentDispatcher,vf=W.ReactCurrentBatchConfig,ai=0,xt=null,Vt=null,Wt=null,vu=!1,Ml=!1,Dl=0,NS=0;function an(){throw Error(t(321))}function wf(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!pr(s[l],o[l]))return!1;return!0}function _f(s,o,l,d,m,v){if(ai=v,xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,yu.current=s===null||s.memoizedState===null?MS:DS,s=l(d,m),Ml){v=0;do{if(Ml=!1,Dl=0,25<=v)throw Error(t(301));v+=1,Wt=Vt=null,o.updateQueue=null,yu.current=jS,s=l(d,m)}while(Ml)}if(yu.current=xu,o=Vt!==null&&Vt.next!==null,ai=0,Wt=Vt=xt=null,vu=!1,o)throw Error(t(300));return s}function xf(){var s=Dl!==0;return Dl=0,s}function Gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?xt.memoizedState=Wt=s:Wt=Wt.next=s,Wt}function er(){if(Vt===null){var s=xt.alternate;s=s!==null?s.memoizedState:null}else s=Vt.next;var o=Wt===null?xt.memoizedState:Wt.next;if(o!==null)Wt=o,Vt=s;else{if(s===null)throw Error(t(310));Vt=s,s={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Wt===null?xt.memoizedState=Wt=s:Wt=Wt.next=s}return Wt}function jl(s,o){return typeof o=="function"?o(s):o}function bf(s){var o=er(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var d=Vt,m=d.baseQueue,v=l.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}d.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,d=d.baseState;var L=E=null,z=null,Q=v;do{var ae=Q.lane;if((ai&ae)===ae)z!==null&&(z=z.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:s(d,Q.action);else{var ce={lane:ae,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};z===null?(L=z=ce,E=d):z=z.next=ce,xt.lanes|=ae,li|=ae}Q=Q.next}while(Q!==null&&Q!==v);z===null?E=d:z.next=L,pr(d,o.memoizedState)||(Sn=!0),o.memoizedState=d,o.baseState=E,o.baseQueue=z,l.lastRenderedState=d}if(s=l.interleaved,s!==null){m=s;do v=m.lane,xt.lanes|=v,li|=v,m=m.next;while(m!==s)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Ef(s){var o=er(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var d=l.dispatch,m=l.pending,v=o.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do v=s(v,E.action),E=E.next;while(E!==m);pr(v,o.memoizedState)||(Sn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,d]}function Xy(){}function Jy(s,o){var l=xt,d=er(),m=o(),v=!pr(d.memoizedState,m);if(v&&(d.memoizedState=m,Sn=!0),d=d.queue,Tf(tv.bind(null,l,d,s),[s]),d.getSnapshot!==o||v||Wt!==null&&Wt.memoizedState.tag&1){if(l.flags|=2048,Ol(9,ev.bind(null,l,d,m,o),void 0,null),Gt===null)throw Error(t(349));(ai&30)!==0||Zy(l,o,m)}return m}function Zy(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=xt.updateQueue,o===null?(o={lastEffect:null,stores:null},xt.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function ev(s,o,l,d){o.value=l,o.getSnapshot=d,nv(o)&&rv(s)}function tv(s,o,l){return l(function(){nv(o)&&rv(s)})}function nv(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!pr(s,l)}catch{return!0}}function rv(s){var o=Cs(s,1);o!==null&&wr(o,s,1,-1)}function sv(s){var o=Gr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:s},o.queue=s,s=s.dispatch=PS.bind(null,xt,s),[o.memoizedState,s]}function Ol(s,o,l,d){return s={tag:s,create:o,destroy:l,deps:d,next:null},o=xt.updateQueue,o===null?(o={lastEffect:null,stores:null},xt.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,o.lastEffect=s)),s}function ov(){return er().memoizedState}function wu(s,o,l,d){var m=Gr();xt.flags|=s,m.memoizedState=Ol(1|o,l,void 0,d===void 0?null:d)}function _u(s,o,l,d){var m=er();d=d===void 0?null:d;var v=void 0;if(Vt!==null){var E=Vt.memoizedState;if(v=E.destroy,d!==null&&wf(d,E.deps)){m.memoizedState=Ol(o,l,v,d);return}}xt.flags|=s,m.memoizedState=Ol(1|o,l,v,d)}function iv(s,o){return wu(8390656,8,s,o)}function Tf(s,o){return _u(2048,8,s,o)}function av(s,o){return _u(4,2,s,o)}function lv(s,o){return _u(4,4,s,o)}function cv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function uv(s,o,l){return l=l!=null?l.concat([s]):null,_u(4,4,cv.bind(null,o,s),l)}function Sf(){}function dv(s,o){var l=er();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&wf(o,d[1])?d[0]:(l.memoizedState=[s,o],s)}function hv(s,o){var l=er();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&wf(o,d[1])?d[0]:(s=s(),l.memoizedState=[s,o],s)}function fv(s,o,l){return(ai&21)===0?(s.baseState&&(s.baseState=!1,Sn=!0),s.memoizedState=l):(pr(l,o)||(l=ll(),xt.lanes|=l,li|=l,s.baseState=!0),o)}function RS(s,o){var l=Ye;Ye=l!==0&&4>l?l:4,s(!0);var d=vf.transition;vf.transition={};try{s(!1),o()}finally{Ye=l,vf.transition=d}}function pv(){return er().memoizedState}function AS(s,o,l){var d=ho(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},mv(s))gv(o,l);else if(l=Gy(s,o,l,d),l!==null){var m=vn();wr(l,s,d,m),yv(l,o,d)}}function PS(s,o,l){var d=ho(s),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(mv(s))gv(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var E=o.lastRenderedState,L=v(E,l);if(m.hasEagerState=!0,m.eagerState=L,pr(L,E)){var z=o.interleaved;z===null?(m.next=m,hf(o)):(m.next=z.next,z.next=m),o.interleaved=m;return}}catch{}finally{}l=Gy(s,o,m,d),l!==null&&(m=vn(),wr(l,s,d,m),yv(l,o,d))}}function mv(s){var o=s.alternate;return s===xt||o!==null&&o===xt}function gv(s,o){Ml=vu=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function yv(s,o,l){if((l&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,ul(s,l)}}var xu={readContext:Zn,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},MS={readContext:Zn,useCallback:function(s,o){return Gr().memoizedState=[s,o===void 0?null:o],s},useContext:Zn,useEffect:iv,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,wu(4194308,4,cv.bind(null,o,s),l)},useLayoutEffect:function(s,o){return wu(4194308,4,s,o)},useInsertionEffect:function(s,o){return wu(4,2,s,o)},useMemo:function(s,o){var l=Gr();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var d=Gr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=AS.bind(null,xt,s),[d.memoizedState,s]},useRef:function(s){var o=Gr();return s={current:s},o.memoizedState=s},useState:sv,useDebugValue:Sf,useDeferredValue:function(s){return Gr().memoizedState=s},useTransition:function(){var s=sv(!1),o=s[0];return s=RS.bind(null,s[1]),Gr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var d=xt,m=Gr();if(gt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Gt===null)throw Error(t(349));(ai&30)!==0||Zy(d,o,l)}m.memoizedState=l;var v={value:l,getSnapshot:o};return m.queue=v,iv(tv.bind(null,d,v,s),[s]),d.flags|=2048,Ol(9,ev.bind(null,d,v,l,o),void 0,null),l},useId:function(){var s=Gr(),o=Gt.identifierPrefix;if(gt){var l=Is,d=Ss;l=(d&~(1<<32-On(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=Dl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=NS++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},DS={readContext:Zn,useCallback:dv,useContext:Zn,useEffect:Tf,useImperativeHandle:uv,useInsertionEffect:av,useLayoutEffect:lv,useMemo:hv,useReducer:bf,useRef:ov,useState:function(){return bf(jl)},useDebugValue:Sf,useDeferredValue:function(s){var o=er();return fv(o,Vt.memoizedState,s)},useTransition:function(){var s=bf(jl)[0],o=er().memoizedState;return[s,o]},useMutableSource:Xy,useSyncExternalStore:Jy,useId:pv,unstable_isNewReconciler:!1},jS={readContext:Zn,useCallback:dv,useContext:Zn,useEffect:Tf,useImperativeHandle:uv,useInsertionEffect:av,useLayoutEffect:lv,useMemo:hv,useReducer:Ef,useRef:ov,useState:function(){return Ef(jl)},useDebugValue:Sf,useDeferredValue:function(s){var o=er();return Vt===null?o.memoizedState=s:fv(o,Vt.memoizedState,s)},useTransition:function(){var s=Ef(jl)[0],o=er().memoizedState;return[s,o]},useMutableSource:Xy,useSyncExternalStore:Jy,useId:pv,unstable_isNewReconciler:!1};function gr(s,o){if(s&&s.defaultProps){o=se({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function If(s,o,l,d){o=s.memoizedState,l=l(d,o),l=l==null?o:se({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var bu={isMounted:function(s){return(s=s._reactInternals)?hr(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var d=vn(),m=ho(s),v=ks(d,m);v.payload=o,l!=null&&(v.callback=l),o=ao(s,v,m),o!==null&&(wr(o,s,m,d),pu(o,s,m))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var d=vn(),m=ho(s),v=ks(d,m);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=ao(s,v,m),o!==null&&(wr(o,s,m,d),pu(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=vn(),d=ho(s),m=ks(l,d);m.tag=2,o!=null&&(m.callback=o),o=ao(s,m,d),o!==null&&(wr(o,s,d,l),pu(o,s,d))}};function vv(s,o,l,d,m,v,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,E):o.prototype&&o.prototype.isPureReactComponent?!bl(l,d)||!bl(m,v):!0}function wv(s,o,l){var d=!1,m=so,v=o.contextType;return typeof v=="object"&&v!==null?v=Zn(v):(m=Tn(o)?ni:on.current,d=o.contextTypes,v=(d=d!=null)?oa(s,m):so),o=new o(l,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=bu,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function _v(s,o,l,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==s&&bu.enqueueReplaceState(o,o.state,null)}function Cf(s,o,l,d){var m=s.stateNode;m.props=l,m.state=s.memoizedState,m.refs={},ff(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Zn(v):(v=Tn(o)?ni:on.current,m.context=oa(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(If(s,o,v,l),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&bu.enqueueReplaceState(m,m.state,null),mu(s,l,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function fa(s,o){try{var l="",d=o;do l+=ge(d),d=d.return;while(d);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function kf(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function Nf(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var OS=typeof WeakMap=="function"?WeakMap:Map;function xv(s,o,l){l=ks(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Nu||(Nu=!0,Hf=d),Nf(s,o)},l}function bv(s,o,l){l=ks(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){Nf(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Nf(s,o),typeof d!="function"&&(co===null?co=new Set([this]):co.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),l}function Ev(s,o,l){var d=s.pingCache;if(d===null){d=s.pingCache=new OS;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),s=YS.bind(null,s,o,l),o.then(s,s))}function Tv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Sv(s,o,l,d,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=ks(-1,1),o.tag=2,ao(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var LS=W.ReactCurrentOwner,Sn=!1;function yn(s,o,l,d){o.child=s===null?Wy(o,null,l,d):ca(o,s.child,l,d)}function Iv(s,o,l,d,m){l=l.render;var v=o.ref;return da(o,m),d=_f(s,o,l,d,v,m),l=xf(),s!==null&&!Sn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ns(s,o,m)):(gt&&l&&nf(o),o.flags|=1,yn(s,o,d,m),o.child)}function Cv(s,o,l,d,m){if(s===null){var v=l.type;return typeof v=="function"&&!Xf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,kv(s,o,v,d,m)):(s=ju(l.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&m)===0){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:bl,l(E,d)&&s.ref===o.ref)return Ns(s,o,m)}return o.flags|=1,s=po(v,d),s.ref=o.ref,s.return=o,o.child=s}function kv(s,o,l,d,m){if(s!==null){var v=s.memoizedProps;if(bl(v,d)&&s.ref===o.ref)if(Sn=!1,o.pendingProps=d=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Sn=!0);else return o.lanes=s.lanes,Ns(s,o,m)}return Rf(s,o,l,d,m)}function Nv(s,o,l){var d=o.pendingProps,m=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(ma,$n),$n|=l;else{if((l&1073741824)===0)return s=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,ct(ma,$n),$n|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,ct(ma,$n),$n|=d}else v!==null?(d=v.baseLanes|l,o.memoizedState=null):d=l,ct(ma,$n),$n|=d;return yn(s,o,m,l),o.child}function Rv(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Rf(s,o,l,d,m){var v=Tn(l)?ni:on.current;return v=oa(o,v),da(o,m),l=_f(s,o,l,d,v,m),d=xf(),s!==null&&!Sn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ns(s,o,m)):(gt&&d&&nf(o),o.flags|=1,yn(s,o,l,m),o.child)}function Av(s,o,l,d,m){if(Tn(l)){var v=!0;iu(o)}else v=!1;if(da(o,m),o.stateNode===null)Tu(s,o),wv(o,l,d),Cf(o,l,d,m),d=!0;else if(s===null){var E=o.stateNode,L=o.memoizedProps;E.props=L;var z=E.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=Zn(Q):(Q=Tn(l)?ni:on.current,Q=oa(o,Q));var ae=l.getDerivedStateFromProps,ce=typeof ae=="function"||typeof E.getSnapshotBeforeUpdate=="function";ce||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==d||z!==Q)&&_v(o,E,d,Q),io=!1;var oe=o.memoizedState;E.state=oe,mu(o,d,E,m),z=o.memoizedState,L!==d||oe!==z||En.current||io?(typeof ae=="function"&&(If(o,l,ae,d),z=o.memoizedState),(L=io||vv(o,l,L,d,oe,z,Q))?(ce||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=z),E.props=d,E.state=z,E.context=Q,d=L):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{E=o.stateNode,qy(s,o),L=o.memoizedProps,Q=o.type===o.elementType?L:gr(o.type,L),E.props=Q,ce=o.pendingProps,oe=E.context,z=l.contextType,typeof z=="object"&&z!==null?z=Zn(z):(z=Tn(l)?ni:on.current,z=oa(o,z));var ve=l.getDerivedStateFromProps;(ae=typeof ve=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==ce||oe!==z)&&_v(o,E,d,z),io=!1,oe=o.memoizedState,E.state=oe,mu(o,d,E,m);var Ee=o.memoizedState;L!==ce||oe!==Ee||En.current||io?(typeof ve=="function"&&(If(o,l,ve,d),Ee=o.memoizedState),(Q=io||vv(o,l,Q,d,oe,Ee,z)||!1)?(ae||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,Ee,z),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,Ee,z)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||L===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Ee),E.props=d,E.state=Ee,E.context=z,d=Q):(typeof E.componentDidUpdate!="function"||L===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),d=!1)}return Af(s,o,l,d,v,m)}function Af(s,o,l,d,m,v){Rv(s,o);var E=(o.flags&128)!==0;if(!d&&!E)return m&&Oy(o,l,!1),Ns(s,o,v);d=o.stateNode,LS.current=o;var L=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&E?(o.child=ca(o,s.child,null,v),o.child=ca(o,null,L,v)):yn(s,o,L,v),o.memoizedState=d.state,m&&Oy(o,l,!0),o.child}function Pv(s){var o=s.stateNode;o.pendingContext?Dy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Dy(s,o.context,!1),pf(s,o.containerInfo)}function Mv(s,o,l,d,m){return la(),af(m),o.flags|=256,yn(s,o,l,d),o.child}var Pf={dehydrated:null,treeContext:null,retryLane:0};function Mf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Dv(s,o,l){var d=o.pendingProps,m=_t.current,v=!1,E=(o.flags&128)!==0,L;if((L=E)||(L=s!==null&&s.memoizedState===null?!1:(m&2)!==0),L?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),ct(_t,m&1),s===null)return of(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=d.children,s=d.fallback,v?(d=o.mode,v=o.child,E={mode:"hidden",children:E},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=E):v=Ou(E,d,0,null),s=hi(s,d,l,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=Mf(l),o.memoizedState=Pf,s):Df(o,E));if(m=s.memoizedState,m!==null&&(L=m.dehydrated,L!==null))return VS(s,o,E,d,L,m,l);if(v){v=d.fallback,E=o.mode,m=s.child,L=m.sibling;var z={mode:"hidden",children:d.children};return(E&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=z,o.deletions=null):(d=po(m,z),d.subtreeFlags=m.subtreeFlags&14680064),L!==null?v=po(L,v):(v=hi(v,E,l,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,E=s.child.memoizedState,E=E===null?Mf(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=s.childLanes&~l,o.memoizedState=Pf,d}return v=s.child,s=v.sibling,d=po(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=d,o.memoizedState=null,d}function Df(s,o){return o=Ou({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Eu(s,o,l,d){return d!==null&&af(d),ca(o,s.child,null,l),s=Df(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function VS(s,o,l,d,m,v,E){if(l)return o.flags&256?(o.flags&=-257,d=kf(Error(t(422))),Eu(s,o,E,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=Ou({mode:"visible",children:d.children},m,0,null),v=hi(v,m,E,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&ca(o,s.child,null,E),o.child.memoizedState=Mf(E),o.memoizedState=Pf,v);if((o.mode&1)===0)return Eu(s,o,E,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var L=d.dgst;return d=L,v=Error(t(419)),d=kf(v,d,void 0),Eu(s,o,E,d)}if(L=(E&s.childLanes)!==0,Sn||L){if(d=Gt,d!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|E))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Cs(s,m),wr(d,s,m,-1))}return Yf(),d=kf(Error(t(421))),Eu(s,o,E,d)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=XS.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,Bn=no(m.nextSibling),zn=o,gt=!0,mr=null,s!==null&&(Xn[Jn++]=Ss,Xn[Jn++]=Is,Xn[Jn++]=ri,Ss=s.id,Is=s.overflow,ri=o),o=Df(o,d.children),o.flags|=4096,o)}function jv(s,o,l){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),df(s.return,o,l)}function jf(s,o,l,d,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=m)}function Ov(s,o,l){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(yn(s,o,d.children,l),d=_t.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&jv(s,l,o);else if(s.tag===19)jv(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(ct(_t,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)s=l.alternate,s!==null&&gu(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),jf(o,!1,m,l,v);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&gu(s)===null){o.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}jf(o,!0,l,null,v);break;case"together":jf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Tu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ns(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),li|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,l=po(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=po(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function FS(s,o,l){switch(o.tag){case 3:Pv(o),la();break;case 5:Yy(o);break;case 1:Tn(o.type)&&iu(o);break;case 4:pf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;ct(hu,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(ct(_t,_t.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Dv(s,o,l):(ct(_t,_t.current&1),s=Ns(s,o,l),s!==null?s.sibling:null);ct(_t,_t.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(s.flags&128)!==0){if(d)return Ov(s,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ct(_t,_t.current),d)break;return null;case 22:case 23:return o.lanes=0,Nv(s,o,l)}return Ns(s,o,l)}var Lv,Of,Vv,Fv;Lv=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Of=function(){},Vv=function(s,o,l,d){var m=s.memoizedProps;if(m!==d){s=o.stateNode,ii(Wr.current);var v=null;switch(l){case"input":m=Bt(s,m),d=Bt(s,d),v=[];break;case"select":m=se({},m,{value:void 0}),d=se({},d,{value:void 0}),v=[];break;case"textarea":m=Lt(s,m),d=Lt(s,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=ru)}bn(l,d);var E;l=null;for(Q in m)if(!d.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var L=m[Q];for(E in L)L.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?v||(v=[]):(v=v||[]).push(Q,null));for(Q in d){var z=d[Q];if(L=m?.[Q],d.hasOwnProperty(Q)&&z!==L&&(z!=null||L!=null))if(Q==="style")if(L){for(E in L)!L.hasOwnProperty(E)||z&&z.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in z)z.hasOwnProperty(E)&&L[E]!==z[E]&&(l||(l={}),l[E]=z[E])}else l||(v||(v=[]),v.push(Q,l)),l=z;else Q==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,L=L?L.__html:void 0,z!=null&&L!==z&&(v=v||[]).push(Q,z)):Q==="children"?typeof z!="string"&&typeof z!="number"||(v=v||[]).push(Q,""+z):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(z!=null&&Q==="onScroll"&&ft("scroll",s),v||L===z||(v=[])):(v=v||[]).push(Q,z))}l&&(v=v||[]).push("style",l);var Q=v;(o.updateQueue=Q)&&(o.flags|=4)}},Fv=function(s,o,l,d){l!==d&&(o.flags|=4)};function Ll(s,o){if(!gt)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function ln(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(o)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=l,o}function US(s,o,l){var d=o.pendingProps;switch(rf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(o),null;case 1:return Tn(o.type)&&ou(),ln(o),null;case 3:return d=o.stateNode,ha(),pt(En),pt(on),yf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(uu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,mr!==null&&(qf(mr),mr=null))),Of(s,o),ln(o),null;case 5:mf(o);var m=ii(Pl.current);if(l=o.type,s!==null&&o.stateNode!=null)Vv(s,o,l,d,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return ln(o),null}if(s=ii(Wr.current),uu(o)){d=o.stateNode,l=o.type;var v=o.memoizedProps;switch(d[Hr]=o,d[Cl]=v,s=(o.mode&1)!==0,l){case"dialog":ft("cancel",d),ft("close",d);break;case"iframe":case"object":case"embed":ft("load",d);break;case"video":case"audio":for(m=0;m<Tl.length;m++)ft(Tl[m],d);break;case"source":ft("error",d);break;case"img":case"image":case"link":ft("error",d),ft("load",d);break;case"details":ft("toggle",d);break;case"input":kr(d,v),ft("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},ft("invalid",d);break;case"textarea":Gn(d,v),ft("invalid",d)}bn(l,v),m=null;for(var E in v)if(v.hasOwnProperty(E)){var L=v[E];E==="children"?typeof L=="string"?d.textContent!==L&&(v.suppressHydrationWarning!==!0&&nu(d.textContent,L,s),m=["children",L]):typeof L=="number"&&d.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&nu(d.textContent,L,s),m=["children",""+L]):i.hasOwnProperty(E)&&L!=null&&E==="onScroll"&&ft("scroll",d)}switch(l){case"input":Be(d),Bs(d,v,!0);break;case"textarea":Be(d),Nr(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=ru)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Rr(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=E.createElement(l,{is:d.is}):(s=E.createElement(l),l==="select"&&(E=s,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):s=E.createElementNS(s,l),s[Hr]=o,s[Cl]=d,Lv(s,o,!1,!1),o.stateNode=s;e:{switch(E=qs(l,d),l){case"dialog":ft("cancel",s),ft("close",s),m=d;break;case"iframe":case"object":case"embed":ft("load",s),m=d;break;case"video":case"audio":for(m=0;m<Tl.length;m++)ft(Tl[m],s);m=d;break;case"source":ft("error",s),m=d;break;case"img":case"image":case"link":ft("error",s),ft("load",s),m=d;break;case"details":ft("toggle",s),m=d;break;case"input":kr(s,d),m=Bt(s,d),ft("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=se({},d,{value:void 0}),ft("invalid",s);break;case"textarea":Gn(s,d),m=Lt(s,d),ft("invalid",s);break;default:m=d}bn(l,m),L=m;for(v in L)if(L.hasOwnProperty(v)){var z=L[v];v==="style"?Ws(s,z):v==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Hs(s,z)):v==="children"?typeof z=="string"?(l!=="textarea"||z!=="")&&xn(s,z):typeof z=="number"&&xn(s,""+z):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?z!=null&&v==="onScroll"&&ft("scroll",s):z!=null&&I(s,v,z,E))}switch(l){case"input":Be(s),Bs(s,d,!1);break;case"textarea":Be(s),Nr(s);break;case"option":d.value!=null&&s.setAttribute("value",""+fe(d.value));break;case"select":s.multiple=!!d.multiple,v=d.value,v!=null?Mn(s,!!d.multiple,v,!1):d.defaultValue!=null&&Mn(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=ru)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return ln(o),null;case 6:if(s&&o.stateNode!=null)Fv(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=ii(Pl.current),ii(Wr.current),uu(o)){if(d=o.stateNode,l=o.memoizedProps,d[Hr]=o,(v=d.nodeValue!==l)&&(s=zn,s!==null))switch(s.tag){case 3:nu(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&nu(d.nodeValue,l,(s.mode&1)!==0)}v&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Hr]=o,o.stateNode=d}return ln(o),null;case 13:if(pt(_t),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(gt&&Bn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)By(),la(),o.flags|=98560,v=!1;else if(v=uu(o),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Hr]=o}else la(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ln(o),v=!1}else mr!==null&&(qf(mr),mr=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(_t.current&1)!==0?Ft===0&&(Ft=3):Yf())),o.updateQueue!==null&&(o.flags|=4),ln(o),null);case 4:return ha(),Of(s,o),s===null&&Sl(o.stateNode.containerInfo),ln(o),null;case 10:return uf(o.type._context),ln(o),null;case 17:return Tn(o.type)&&ou(),ln(o),null;case 19:if(pt(_t),v=o.memoizedState,v===null)return ln(o),null;if(d=(o.flags&128)!==0,E=v.rendering,E===null)if(d)Ll(v,!1);else{if(Ft!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(E=gu(s),E!==null){for(o.flags|=128,Ll(v,!1),d=E.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)v=l,s=d,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,s=E.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return ct(_t,_t.current&1|2),o.child}s=s.sibling}v.tail!==null&&ht()>ga&&(o.flags|=128,d=!0,Ll(v,!1),o.lanes=4194304)}else{if(!d)if(s=gu(E),s!==null){if(o.flags|=128,d=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Ll(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!gt)return ln(o),null}else 2*ht()-v.renderingStartTime>ga&&l!==1073741824&&(o.flags|=128,d=!0,Ll(v,!1),o.lanes=4194304);v.isBackwards?(E.sibling=o.child,o.child=E):(l=v.last,l!==null?l.sibling=E:o.child=E,v.last=E)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ht(),o.sibling=null,l=_t.current,ct(_t,d?l&1|2:l&1),o):(ln(o),null);case 22:case 23:return Qf(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?($n&1073741824)!==0&&(ln(o),o.subtreeFlags&6&&(o.flags|=8192)):ln(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function zS(s,o){switch(rf(o),o.tag){case 1:return Tn(o.type)&&ou(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ha(),pt(En),pt(on),yf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return mf(o),null;case 13:if(pt(_t),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));la()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return pt(_t),null;case 4:return ha(),null;case 10:return uf(o.type._context),null;case 22:case 23:return Qf(),null;case 24:return null;default:return null}}var Su=!1,cn=!1,BS=typeof WeakSet=="function"?WeakSet:Set,be=null;function pa(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Tt(s,o,d)}else l.current=null}function Lf(s,o,l){try{l()}catch(d){Tt(s,o,d)}}var Uv=!1;function $S(s,o){if(Kh=_s,s=vy(),Uh(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,L=-1,z=-1,Q=0,ae=0,ce=s,oe=null;t:for(;;){for(var ve;ce!==l||m!==0&&ce.nodeType!==3||(L=E+m),ce!==v||d!==0&&ce.nodeType!==3||(z=E+d),ce.nodeType===3&&(E+=ce.nodeValue.length),(ve=ce.firstChild)!==null;)oe=ce,ce=ve;for(;;){if(ce===s)break t;if(oe===l&&++Q===m&&(L=E),oe===v&&++ae===d&&(z=E),(ve=ce.nextSibling)!==null)break;ce=oe,oe=ce.parentNode}ce=ve}l=L===-1||z===-1?null:{start:L,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qh={focusedElem:s,selectionRange:l},_s=!1,be=o;be!==null;)if(o=be,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,be=s;else for(;be!==null;){o=be;try{var Ee=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Ie=Ee.memoizedProps,Ct=Ee.memoizedState,G=o.stateNode,$=G.getSnapshotBeforeUpdate(o.elementType===o.type?Ie:gr(o.type,Ie),Ct);G.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(de){Tt(o,o.return,de)}if(s=o.sibling,s!==null){s.return=o.return,be=s;break}be=o.return}return Ee=Uv,Uv=!1,Ee}function Vl(s,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&Lf(o,l,v)}m=m.next}while(m!==d)}}function Iu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Vf(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function zv(s){var o=s.alternate;o!==null&&(s.alternate=null,zv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Hr],delete o[Cl],delete o[Zh],delete o[SS],delete o[IS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Bv(s){return s.tag===5||s.tag===3||s.tag===4}function $v(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Bv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ff(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=ru));else if(d!==4&&(s=s.child,s!==null))for(Ff(s,o,l),s=s.sibling;s!==null;)Ff(s,o,l),s=s.sibling}function Uf(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Uf(s,o,l),s=s.sibling;s!==null;)Uf(s,o,l),s=s.sibling}var Jt=null,yr=!1;function lo(s,o,l){for(l=l.child;l!==null;)Hv(s,o,l),l=l.sibling}function Hv(s,o,l){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Go,l)}catch{}switch(l.tag){case 5:cn||pa(l,o);case 6:var d=Jt,m=yr;Jt=null,lo(s,o,l),Jt=d,yr=m,Jt!==null&&(yr?(s=Jt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Jt.removeChild(l.stateNode));break;case 18:Jt!==null&&(yr?(s=Jt,l=l.stateNode,s.nodeType===8?Jh(s.parentNode,l):s.nodeType===1&&Jh(s,l),Js(s)):Jh(Jt,l.stateNode));break;case 4:d=Jt,m=yr,Jt=l.stateNode.containerInfo,yr=!0,lo(s,o,l),Jt=d,yr=m;break;case 0:case 11:case 14:case 15:if(!cn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,E=v.destroy;v=v.tag,E!==void 0&&((v&2)!==0||(v&4)!==0)&&Lf(l,o,E),m=m.next}while(m!==d)}lo(s,o,l);break;case 1:if(!cn&&(pa(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(L){Tt(l,o,L)}lo(s,o,l);break;case 21:lo(s,o,l);break;case 22:l.mode&1?(cn=(d=cn)||l.memoizedState!==null,lo(s,o,l),cn=d):lo(s,o,l);break;default:lo(s,o,l)}}function Wv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new BS),o.forEach(function(d){var m=JS.bind(null,s,d);l.has(d)||(l.add(d),d.then(m,m))})}}function vr(s,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var v=s,E=o,L=E;e:for(;L!==null;){switch(L.tag){case 5:Jt=L.stateNode,yr=!1;break e;case 3:Jt=L.stateNode.containerInfo,yr=!0;break e;case 4:Jt=L.stateNode.containerInfo,yr=!0;break e}L=L.return}if(Jt===null)throw Error(t(160));Hv(v,E,m),Jt=null,yr=!1;var z=m.alternate;z!==null&&(z.return=null),m.return=null}catch(Q){Tt(m,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Gv(o,s),o=o.sibling}function Gv(s,o){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(vr(o,s),qr(s),d&4){try{Vl(3,s,s.return),Iu(3,s)}catch(Ie){Tt(s,s.return,Ie)}try{Vl(5,s,s.return)}catch(Ie){Tt(s,s.return,Ie)}}break;case 1:vr(o,s),qr(s),d&512&&l!==null&&pa(l,l.return);break;case 5:if(vr(o,s),qr(s),d&512&&l!==null&&pa(l,l.return),s.flags&32){var m=s.stateNode;try{xn(m,"")}catch(Ie){Tt(s,s.return,Ie)}}if(d&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,E=l!==null?l.memoizedProps:v,L=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&Pn(m,v),qs(L,E);var Q=qs(L,v);for(E=0;E<z.length;E+=2){var ae=z[E],ce=z[E+1];ae==="style"?Ws(m,ce):ae==="dangerouslySetInnerHTML"?Hs(m,ce):ae==="children"?xn(m,ce):I(m,ae,ce,Q)}switch(L){case"input":Qt(m,v);break;case"textarea":Li(m,v);break;case"select":var oe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ve=v.value;ve!=null?Mn(m,!!v.multiple,ve,!1):oe!==!!v.multiple&&(v.defaultValue!=null?Mn(m,!!v.multiple,v.defaultValue,!0):Mn(m,!!v.multiple,v.multiple?[]:"",!1))}m[Cl]=v}catch(Ie){Tt(s,s.return,Ie)}}break;case 6:if(vr(o,s),qr(s),d&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(Ie){Tt(s,s.return,Ie)}}break;case 3:if(vr(o,s),qr(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Js(o.containerInfo)}catch(Ie){Tt(s,s.return,Ie)}break;case 4:vr(o,s),qr(s);break;case 13:vr(o,s),qr(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||($f=ht())),d&4&&Wv(s);break;case 22:if(ae=l!==null&&l.memoizedState!==null,s.mode&1?(cn=(Q=cn)||ae,vr(o,s),cn=Q):vr(o,s),qr(s),d&8192){if(Q=s.memoizedState!==null,(s.stateNode.isHidden=Q)&&!ae&&(s.mode&1)!==0)for(be=s,ae=s.child;ae!==null;){for(ce=be=ae;be!==null;){switch(oe=be,ve=oe.child,oe.tag){case 0:case 11:case 14:case 15:Vl(4,oe,oe.return);break;case 1:pa(oe,oe.return);var Ee=oe.stateNode;if(typeof Ee.componentWillUnmount=="function"){d=oe,l=oe.return;try{o=d,Ee.props=o.memoizedProps,Ee.state=o.memoizedState,Ee.componentWillUnmount()}catch(Ie){Tt(d,l,Ie)}}break;case 5:pa(oe,oe.return);break;case 22:if(oe.memoizedState!==null){Qv(ce);continue}}ve!==null?(ve.return=oe,be=ve):Qv(ce)}ae=ae.sibling}e:for(ae=null,ce=s;;){if(ce.tag===5){if(ae===null){ae=ce;try{m=ce.stateNode,Q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=ce.stateNode,z=ce.memoizedProps.style,E=z!=null&&z.hasOwnProperty("display")?z.display:null,L.style.display=Ar("display",E))}catch(Ie){Tt(s,s.return,Ie)}}}else if(ce.tag===6){if(ae===null)try{ce.stateNode.nodeValue=Q?"":ce.memoizedProps}catch(Ie){Tt(s,s.return,Ie)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;ae===ce&&(ae=null),ce=ce.return}ae===ce&&(ae=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:vr(o,s),qr(s),d&4&&Wv(s);break;case 21:break;default:vr(o,s),qr(s)}}function qr(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(Bv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(xn(m,""),d.flags&=-33);var v=$v(s);Uf(s,v,m);break;case 3:case 4:var E=d.stateNode.containerInfo,L=$v(s);Ff(s,L,E);break;default:throw Error(t(161))}}catch(z){Tt(s,s.return,z)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function HS(s,o,l){be=s,qv(s)}function qv(s,o,l){for(var d=(s.mode&1)!==0;be!==null;){var m=be,v=m.child;if(m.tag===22&&d){var E=m.memoizedState!==null||Su;if(!E){var L=m.alternate,z=L!==null&&L.memoizedState!==null||cn;L=Su;var Q=cn;if(Su=E,(cn=z)&&!Q)for(be=m;be!==null;)E=be,z=E.child,E.tag===22&&E.memoizedState!==null?Yv(m):z!==null?(z.return=E,be=z):Yv(m);for(;v!==null;)be=v,qv(v),v=v.sibling;be=m,Su=L,cn=Q}Kv(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,be=v):Kv(s)}}function Kv(s){for(;be!==null;){var o=be;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:cn||Iu(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!cn)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:gr(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Qy(o,v,d);break;case 3:var E=o.updateQueue;if(E!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Qy(o,E,l)}break;case 5:var L=o.stateNode;if(l===null&&o.flags&4){l=L;var z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&l.focus();break;case"img":z.src&&(l.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var ae=Q.memoizedState;if(ae!==null){var ce=ae.dehydrated;ce!==null&&Js(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}cn||o.flags&512&&Vf(o)}catch(oe){Tt(o,o.return,oe)}}if(o===s){be=null;break}if(l=o.sibling,l!==null){l.return=o.return,be=l;break}be=o.return}}function Qv(s){for(;be!==null;){var o=be;if(o===s){be=null;break}var l=o.sibling;if(l!==null){l.return=o.return,be=l;break}be=o.return}}function Yv(s){for(;be!==null;){var o=be;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Iu(4,o)}catch(z){Tt(o,l,z)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(z){Tt(o,m,z)}}var v=o.return;try{Vf(o)}catch(z){Tt(o,v,z)}break;case 5:var E=o.return;try{Vf(o)}catch(z){Tt(o,E,z)}}}catch(z){Tt(o,o.return,z)}if(o===s){be=null;break}var L=o.sibling;if(L!==null){L.return=o.return,be=L;break}be=o.return}}var WS=Math.ceil,Cu=W.ReactCurrentDispatcher,zf=W.ReactCurrentOwner,tr=W.ReactCurrentBatchConfig,Ze=0,Gt=null,Pt=null,Zt=0,$n=0,ma=ro(0),Ft=0,Fl=null,li=0,ku=0,Bf=0,Ul=null,In=null,$f=0,ga=1/0,Rs=null,Nu=!1,Hf=null,co=null,Ru=!1,uo=null,Au=0,zl=0,Wf=null,Pu=-1,Mu=0;function vn(){return(Ze&6)!==0?ht():Pu!==-1?Pu:Pu=ht()}function ho(s){return(s.mode&1)===0?1:(Ze&2)!==0&&Zt!==0?Zt&-Zt:kS.transition!==null?(Mu===0&&(Mu=ll()),Mu):(s=Ye,s!==0||(s=window.event,s=s===void 0?16:Wi(s.type)),s)}function wr(s,o,l,d){if(50<zl)throw zl=0,Wf=null,Error(t(185));Yo(s,l,d),((Ze&2)===0||s!==Gt)&&(s===Gt&&((Ze&2)===0&&(ku|=l),Ft===4&&fo(s,Zt)),Cn(s,d),l===1&&Ze===0&&(o.mode&1)===0&&(ga=ht()+500,au&&oo()))}function Cn(s,o){var l=s.callbackNode;Qo(s,o);var d=ys(s,s===Gt?Zt:0);if(d===0)l!==null&&Vi(l),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(l!=null&&Vi(l),o===1)s.tag===0?CS(Jv.bind(null,s)):Ly(Jv.bind(null,s)),ES(function(){(Ze&6)===0&&oo()}),l=null;else{switch(Dr(d)){case 1:l=Fi;break;case 4:l=ol;break;case 16:l=Wo;break;case 536870912:l=Ui;break;default:l=Wo}l=i0(l,Xv.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function Xv(s,o){if(Pu=-1,Mu=0,(Ze&6)!==0)throw Error(t(327));var l=s.callbackNode;if(ya()&&s.callbackNode!==l)return null;var d=ys(s,s===Gt?Zt:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=Du(s,d);else{o=d;var m=Ze;Ze|=2;var v=e0();(Gt!==s||Zt!==o)&&(Rs=null,ga=ht()+500,ui(s,o));do try{KS();break}catch(L){Zv(s,L)}while(!0);cf(),Cu.current=v,Ze=m,Pt!==null?o=0:(Gt=null,Zt=0,o=Ft)}if(o!==0){if(o===2&&(m=al(s),m!==0&&(d=m,o=Gf(s,m))),o===1)throw l=Fl,ui(s,0),fo(s,d),Cn(s,ht()),l;if(o===6)fo(s,d);else{if(m=s.current.alternate,(d&30)===0&&!GS(m)&&(o=Du(s,d),o===2&&(v=al(s),v!==0&&(d=v,o=Gf(s,v))),o===1))throw l=Fl,ui(s,0),fo(s,d),Cn(s,ht()),l;switch(s.finishedWork=m,s.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:di(s,In,Rs);break;case 3:if(fo(s,d),(d&130023424)===d&&(o=$f+500-ht(),10<o)){if(ys(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){vn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Xh(di.bind(null,s,In,Rs),o);break}di(s,In,Rs);break;case 4:if(fo(s,d),(d&4194240)===d)break;for(o=s.eventTimes,m=-1;0<d;){var E=31-On(d);v=1<<E,E=o[E],E>m&&(m=E),d&=~v}if(d=m,d=ht()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*WS(d/1960))-d,10<d){s.timeoutHandle=Xh(di.bind(null,s,In,Rs),d);break}di(s,In,Rs);break;case 5:di(s,In,Rs);break;default:throw Error(t(329))}}}return Cn(s,ht()),s.callbackNode===l?Xv.bind(null,s):null}function Gf(s,o){var l=Ul;return s.current.memoizedState.isDehydrated&&(ui(s,o).flags|=256),s=Du(s,o),s!==2&&(o=In,In=l,o!==null&&qf(o)),s}function qf(s){In===null?In=s:In.push.apply(In,s)}function GS(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],v=m.getSnapshot;m=m.value;try{if(!pr(v(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fo(s,o){for(o&=~Bf,o&=~ku,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-On(o),d=1<<l;s[l]=-1,o&=~d}}function Jv(s){if((Ze&6)!==0)throw Error(t(327));ya();var o=ys(s,0);if((o&1)===0)return Cn(s,ht()),null;var l=Du(s,o);if(s.tag!==0&&l===2){var d=al(s);d!==0&&(o=d,l=Gf(s,d))}if(l===1)throw l=Fl,ui(s,0),fo(s,o),Cn(s,ht()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,di(s,In,Rs),Cn(s,ht()),null}function Kf(s,o){var l=Ze;Ze|=1;try{return s(o)}finally{Ze=l,Ze===0&&(ga=ht()+500,au&&oo())}}function ci(s){uo!==null&&uo.tag===0&&(Ze&6)===0&&ya();var o=Ze;Ze|=1;var l=tr.transition,d=Ye;try{if(tr.transition=null,Ye=1,s)return s()}finally{Ye=d,tr.transition=l,Ze=o,(Ze&6)===0&&oo()}}function Qf(){$n=ma.current,pt(ma)}function ui(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,bS(l)),Pt!==null)for(l=Pt.return;l!==null;){var d=l;switch(rf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ou();break;case 3:ha(),pt(En),pt(on),yf();break;case 5:mf(d);break;case 4:ha();break;case 13:pt(_t);break;case 19:pt(_t);break;case 10:uf(d.type._context);break;case 22:case 23:Qf()}l=l.return}if(Gt=s,Pt=s=po(s.current,null),Zt=$n=o,Ft=0,Fl=null,Bf=ku=li=0,In=Ul=null,oi!==null){for(o=0;o<oi.length;o++)if(l=oi[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,v=l.pending;if(v!==null){var E=v.next;v.next=m,d.next=E}l.pending=d}oi=null}return s}function Zv(s,o){do{var l=Pt;try{if(cf(),yu.current=xu,vu){for(var d=xt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}vu=!1}if(ai=0,Wt=Vt=xt=null,Ml=!1,Dl=0,zf.current=null,l===null||l.return===null){Ft=1,Fl=o,Pt=null;break}e:{var v=s,E=l.return,L=l,z=o;if(o=Zt,L.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Q=z,ae=L,ce=ae.tag;if((ae.mode&1)===0&&(ce===0||ce===11||ce===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ve=Tv(E);if(ve!==null){ve.flags&=-257,Sv(ve,E,L,v,o),ve.mode&1&&Ev(v,Q,o),o=ve,z=Q;var Ee=o.updateQueue;if(Ee===null){var Ie=new Set;Ie.add(z),o.updateQueue=Ie}else Ee.add(z);break e}else{if((o&1)===0){Ev(v,Q,o),Yf();break e}z=Error(t(426))}}else if(gt&&L.mode&1){var Ct=Tv(E);if(Ct!==null){(Ct.flags&65536)===0&&(Ct.flags|=256),Sv(Ct,E,L,v,o),af(fa(z,L));break e}}v=z=fa(z,L),Ft!==4&&(Ft=2),Ul===null?Ul=[v]:Ul.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var G=xv(v,z,o);Ky(v,G);break e;case 1:L=z;var $=v.type,K=v.stateNode;if((v.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(co===null||!co.has(K)))){v.flags|=65536,o&=-o,v.lanes|=o;var de=bv(v,L,o);Ky(v,de);break e}}v=v.return}while(v!==null)}n0(l)}catch(Ce){o=Ce,Pt===l&&l!==null&&(Pt=l=l.return);continue}break}while(!0)}function e0(){var s=Cu.current;return Cu.current=xu,s===null?xu:s}function Yf(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Gt===null||(li&268435455)===0&&(ku&268435455)===0||fo(Gt,Zt)}function Du(s,o){var l=Ze;Ze|=2;var d=e0();(Gt!==s||Zt!==o)&&(Rs=null,ui(s,o));do try{qS();break}catch(m){Zv(s,m)}while(!0);if(cf(),Ze=l,Cu.current=d,Pt!==null)throw Error(t(261));return Gt=null,Zt=0,Ft}function qS(){for(;Pt!==null;)t0(Pt)}function KS(){for(;Pt!==null&&!Ho();)t0(Pt)}function t0(s){var o=o0(s.alternate,s,$n);s.memoizedProps=s.pendingProps,o===null?n0(s):Pt=o,zf.current=null}function n0(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=US(l,o,$n),l!==null){Pt=l;return}}else{if(l=zS(l,o),l!==null){l.flags&=32767,Pt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ft=6,Pt=null;return}}if(o=o.sibling,o!==null){Pt=o;return}Pt=o=s}while(o!==null);Ft===0&&(Ft=5)}function di(s,o,l){var d=Ye,m=tr.transition;try{tr.transition=null,Ye=1,QS(s,o,l,d)}finally{tr.transition=m,Ye=d}return null}function QS(s,o,l,d){do ya();while(uo!==null);if((Ze&6)!==0)throw Error(t(327));l=s.finishedWork;var m=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=l.lanes|l.childLanes;if(jh(s,v),s===Gt&&(Pt=Gt=null,Zt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ru||(Ru=!0,i0(Wo,function(){return ya(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=tr.transition,tr.transition=null;var E=Ye;Ye=1;var L=Ze;Ze|=4,zf.current=null,$S(s,l),Gv(l,s),mS(Qh),_s=!!Kh,Qh=Kh=null,s.current=l,HS(l),gs(),Ze=L,Ye=E,tr.transition=v}else s.current=l;if(Ru&&(Ru=!1,uo=s,Au=m),v=s.pendingLanes,v===0&&(co=null),zc(l.stateNode),Cn(s,ht()),o!==null)for(d=s.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Nu)throw Nu=!1,s=Hf,Hf=null,s;return(Au&1)!==0&&s.tag!==0&&ya(),v=s.pendingLanes,(v&1)!==0?s===Wf?zl++:(zl=0,Wf=s):zl=0,oo(),null}function ya(){if(uo!==null){var s=Dr(Au),o=tr.transition,l=Ye;try{if(tr.transition=null,Ye=16>s?16:s,uo===null)var d=!1;else{if(s=uo,uo=null,Au=0,(Ze&6)!==0)throw Error(t(331));var m=Ze;for(Ze|=4,be=s.current;be!==null;){var v=be,E=v.child;if((be.flags&16)!==0){var L=v.deletions;if(L!==null){for(var z=0;z<L.length;z++){var Q=L[z];for(be=Q;be!==null;){var ae=be;switch(ae.tag){case 0:case 11:case 15:Vl(8,ae,v)}var ce=ae.child;if(ce!==null)ce.return=ae,be=ce;else for(;be!==null;){ae=be;var oe=ae.sibling,ve=ae.return;if(zv(ae),ae===Q){be=null;break}if(oe!==null){oe.return=ve,be=oe;break}be=ve}}}var Ee=v.alternate;if(Ee!==null){var Ie=Ee.child;if(Ie!==null){Ee.child=null;do{var Ct=Ie.sibling;Ie.sibling=null,Ie=Ct}while(Ie!==null)}}be=v}}if((v.subtreeFlags&2064)!==0&&E!==null)E.return=v,be=E;else e:for(;be!==null;){if(v=be,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Vl(9,v,v.return)}var G=v.sibling;if(G!==null){G.return=v.return,be=G;break e}be=v.return}}var $=s.current;for(be=$;be!==null;){E=be;var K=E.child;if((E.subtreeFlags&2064)!==0&&K!==null)K.return=E,be=K;else e:for(E=$;be!==null;){if(L=be,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Iu(9,L)}}catch(Ce){Tt(L,L.return,Ce)}if(L===E){be=null;break e}var de=L.sibling;if(de!==null){de.return=L.return,be=de;break e}be=L.return}}if(Ze=m,oo(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Go,s)}catch{}d=!0}return d}finally{Ye=l,tr.transition=o}}return!1}function r0(s,o,l){o=fa(l,o),o=xv(s,o,1),s=ao(s,o,1),o=vn(),s!==null&&(Yo(s,1,o),Cn(s,o))}function Tt(s,o,l){if(s.tag===3)r0(s,s,l);else for(;o!==null;){if(o.tag===3){r0(o,s,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(co===null||!co.has(d))){s=fa(l,s),s=bv(o,s,1),o=ao(o,s,1),s=vn(),o!==null&&(Yo(o,1,s),Cn(o,s));break}}o=o.return}}function YS(s,o,l){var d=s.pingCache;d!==null&&d.delete(o),o=vn(),s.pingedLanes|=s.suspendedLanes&l,Gt===s&&(Zt&l)===l&&(Ft===4||Ft===3&&(Zt&130023424)===Zt&&500>ht()-$f?ui(s,0):Bf|=l),Cn(s,o)}function s0(s,o){o===0&&((s.mode&1)===0?o=1:(o=Qs,Qs<<=1,(Qs&130023424)===0&&(Qs=4194304)));var l=vn();s=Cs(s,o),s!==null&&(Yo(s,o,l),Cn(s,l))}function XS(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),s0(s,l)}function JS(s,o){var l=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),s0(s,l)}var o0;o0=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||En.current)Sn=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return Sn=!1,FS(s,o,l);Sn=(s.flags&131072)!==0}else Sn=!1,gt&&(o.flags&1048576)!==0&&Vy(o,cu,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Tu(s,o),s=o.pendingProps;var m=oa(o,on.current);da(o,l),m=_f(null,o,d,s,m,l);var v=xf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Tn(d)?(v=!0,iu(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,ff(o),m.updater=bu,o.stateNode=m,m._reactInternals=o,Cf(o,d,s,l),o=Af(null,o,d,!0,v,l)):(o.tag=0,gt&&v&&nf(o),yn(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Tu(s,o),s=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=eI(d),s=gr(d,s),m){case 0:o=Rf(null,o,d,s,l);break e;case 1:o=Av(null,o,d,s,l);break e;case 11:o=Iv(null,o,d,s,l);break e;case 14:o=Cv(null,o,d,gr(d.type,s),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:gr(d,m),Rf(s,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:gr(d,m),Av(s,o,d,m,l);case 3:e:{if(Pv(o),s===null)throw Error(t(387));d=o.pendingProps,v=o.memoizedState,m=v.element,qy(s,o),mu(o,d,null,l);var E=o.memoizedState;if(d=E.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=fa(Error(t(423)),o),o=Mv(s,o,d,l,m);break e}else if(d!==m){m=fa(Error(t(424)),o),o=Mv(s,o,d,l,m);break e}else for(Bn=no(o.stateNode.containerInfo.firstChild),zn=o,gt=!0,mr=null,l=Wy(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(la(),d===m){o=Ns(s,o,l);break e}yn(s,o,d,l)}o=o.child}return o;case 5:return Yy(o),s===null&&of(o),d=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,E=m.children,Yh(d,m)?E=null:v!==null&&Yh(d,v)&&(o.flags|=32),Rv(s,o),yn(s,o,E,l),o.child;case 6:return s===null&&of(o),null;case 13:return Dv(s,o,l);case 4:return pf(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=ca(o,null,d,l):yn(s,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:gr(d,m),Iv(s,o,d,m,l);case 7:return yn(s,o,o.pendingProps,l),o.child;case 8:return yn(s,o,o.pendingProps.children,l),o.child;case 12:return yn(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,E=m.value,ct(hu,d._currentValue),d._currentValue=E,v!==null)if(pr(v.value,E)){if(v.children===m.children&&!En.current){o=Ns(s,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var L=v.dependencies;if(L!==null){E=v.child;for(var z=L.firstContext;z!==null;){if(z.context===d){if(v.tag===1){z=ks(-1,l&-l),z.tag=2;var Q=v.updateQueue;if(Q!==null){Q=Q.shared;var ae=Q.pending;ae===null?z.next=z:(z.next=ae.next,ae.next=z),Q.pending=z}}v.lanes|=l,z=v.alternate,z!==null&&(z.lanes|=l),df(v.return,l,o),L.lanes|=l;break}z=z.next}}else if(v.tag===10)E=v.type===o.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(t(341));E.lanes|=l,L=E.alternate,L!==null&&(L.lanes|=l),df(E,l,o),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===o){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}yn(s,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,da(o,l),m=Zn(m),d=d(m),o.flags|=1,yn(s,o,d,l),o.child;case 14:return d=o.type,m=gr(d,o.pendingProps),m=gr(d.type,m),Cv(s,o,d,m,l);case 15:return kv(s,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:gr(d,m),Tu(s,o),o.tag=1,Tn(d)?(s=!0,iu(o)):s=!1,da(o,l),wv(o,d,m),Cf(o,d,m,l),Af(null,o,d,!0,s,l);case 19:return Ov(s,o,l);case 22:return Nv(s,o,l)}throw Error(t(156,o.tag))};function i0(s,o){return sl(s,o)}function ZS(s,o,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(s,o,l,d){return new ZS(s,o,l,d)}function Xf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function eI(s){if(typeof s=="function")return Xf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===ke)return 14}return 2}function po(s,o){var l=s.alternate;return l===null?(l=nr(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function ju(s,o,l,d,m,v){var E=2;if(d=s,typeof s=="function")Xf(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case M:return hi(l.children,m,v,o);case S:E=8,m|=8;break;case N:return s=nr(12,l,o,m|2),s.elementType=N,s.lanes=v,s;case D:return s=nr(13,l,o,m),s.elementType=D,s.lanes=v,s;case ye:return s=nr(19,l,o,m),s.elementType=ye,s.lanes=v,s;case pe:return Ou(l,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:E=10;break e;case O:E=9;break e;case F:E=11;break e;case ke:E=14;break e;case le:E=16,d=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=nr(E,l,o,m),o.elementType=s,o.type=d,o.lanes=v,o}function hi(s,o,l,d){return s=nr(7,s,d,o),s.lanes=l,s}function Ou(s,o,l,d){return s=nr(22,s,d,o),s.elementType=pe,s.lanes=l,s.stateNode={isHidden:!1},s}function Jf(s,o,l){return s=nr(6,s,null,o),s.lanes=l,s}function Zf(s,o,l){return o=nr(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function tI(s,o,l,d,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function ep(s,o,l,d,m,v,E,L,z){return s=new tI(s,o,l,L,z),o===1?(o=1,v===!0&&(o|=8)):o=0,v=nr(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ff(v),s}function nI(s,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:d==null?null:""+d,children:s,containerInfo:o,implementation:l}}function a0(s){if(!s)return so;s=s._reactInternals;e:{if(hr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Tn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(Tn(l))return jy(s,l,o)}return o}function l0(s,o,l,d,m,v,E,L,z){return s=ep(l,d,!0,s,m,v,E,L,z),s.context=a0(null),l=s.current,d=vn(),m=ho(l),v=ks(d,m),v.callback=o??null,ao(l,v,m),s.current.lanes=m,Yo(s,m,d),Cn(s,d),s}function Lu(s,o,l,d){var m=o.current,v=vn(),E=ho(m);return l=a0(l),o.context===null?o.context=l:o.pendingContext=l,o=ks(v,E),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=ao(m,o,E),s!==null&&(wr(s,m,E,v),pu(s,m,E)),E}function Vu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function c0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function tp(s,o){c0(s,o),(s=s.alternate)&&c0(s,o)}function rI(){return null}var u0=typeof reportError=="function"?reportError:function(s){console.error(s)};function np(s){this._internalRoot=s}Fu.prototype.render=np.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Lu(s,o,null,null)},Fu.prototype.unmount=np.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ci(function(){Lu(null,s,null,null)}),o[Es]=null}};function Fu(s){this._internalRoot=s}Fu.prototype.unstable_scheduleHydration=function(s){if(s){var o=fl();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Ln.length&&o!==0&&o<Ln[l].priority;l++);Ln.splice(l,0,s),l===0&&$i(s)}};function rp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Uu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function d0(){}function sI(s,o,l,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var Q=Vu(E);v.call(Q)}}var E=l0(o,d,s,0,null,!1,!1,"",d0);return s._reactRootContainer=E,s[Es]=E.current,Sl(s.nodeType===8?s.parentNode:s),ci(),E}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var L=d;d=function(){var Q=Vu(z);L.call(Q)}}var z=ep(s,0,!1,null,null,!1,!1,"",d0);return s._reactRootContainer=z,s[Es]=z.current,Sl(s.nodeType===8?s.parentNode:s),ci(function(){Lu(o,z,l,d)}),z}function zu(s,o,l,d,m){var v=l._reactRootContainer;if(v){var E=v;if(typeof m=="function"){var L=m;m=function(){var z=Vu(E);L.call(z)}}Lu(o,E,s,m)}else E=sI(l,o,s,m,d);return Vu(E)}dl=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=tt(o.pendingLanes);l!==0&&(ul(o,l|1),Cn(o,ht()),(Ze&6)===0&&(ga=ht()+500,oo()))}break;case 13:ci(function(){var d=Cs(s,1);if(d!==null){var m=vn();wr(d,s,1,m)}}),tp(s,1)}},zi=function(s){if(s.tag===13){var o=Cs(s,134217728);if(o!==null){var l=vn();wr(o,s,134217728,l)}tp(s,134217728)}},hl=function(s){if(s.tag===13){var o=ho(s),l=Cs(s,o);if(l!==null){var d=vn();wr(l,s,o,d)}tp(s,o)}},fl=function(){return Ye},pl=function(s,o){var l=Ye;try{return Ye=s,o()}finally{Ye=l}},ur=function(s,o,l){switch(o){case"input":if(Qt(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==s&&d.form===s.form){var m=su(d);if(!m)throw Error(t(90));We(d),Qt(d,m)}}}break;case"textarea":Li(s,l);break;case"select":o=l.value,o!=null&&Mn(s,!!l.multiple,o,!1)}},St=Kf,$t=ci;var oI={usingClientEntryPoint:!1,Events:[kl,ra,su,je,it,Kf]},Bl={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iI={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Uc(s),s===null?null:s.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||rI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Go=Bu.inject(iI),jn=Bu}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oI,kn.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rp(o))throw Error(t(200));return nI(s,o,null,l)},kn.createRoot=function(s,o){if(!rp(s))throw Error(t(299));var l=!1,d="",m=u0;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=ep(s,1,!1,null,null,l,!1,d,m),s[Es]=o.current,Sl(s.nodeType===8?s.parentNode:s),new np(o)},kn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Uc(o),s=s===null?null:s.stateNode,s},kn.flushSync=function(s){return ci(s)},kn.hydrate=function(s,o,l){if(!Uu(o))throw Error(t(200));return zu(null,s,o,!0,l)},kn.hydrateRoot=function(s,o,l){if(!rp(s))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,v="",E=u0;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),o=l0(o,null,s,1,l??null,m,!1,v,E),s[Es]=o.current,Sl(s),d)for(s=0;s<d.length;s++)l=d[s],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Fu(o)},kn.render=function(s,o,l){if(!Uu(o))throw Error(t(200));return zu(null,s,o,!1,l)},kn.unmountComponentAtNode=function(s){if(!Uu(s))throw Error(t(40));return s._reactRootContainer?(ci(function(){zu(null,null,s,!1,function(){s._reactRootContainer=null,s[Es]=null})}),!0):!1},kn.unstable_batchedUpdates=Kf,kn.unstable_renderSubtreeIntoContainer=function(s,o,l,d){if(!Uu(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return zu(s,o,l,!1,d)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var w0;function H_(){if(w0)return ip.exports;w0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ip.exports=pI(),ip.exports}var _0;function mI(){if(_0)return $u;_0=1;var n=H_();return $u.createRoot=n.createRoot,$u.hydrateRoot=n.hydrateRoot,$u}var gI=mI(),T=Rm();const he=$_(T),W_=lI({__proto__:null,default:he},[T]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vI=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),x0=n=>{const e=vI(n);return e.charAt(0).toUpperCase()+e.slice(1)},G_=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:c,...h},p)=>T.createElement("svg",{ref:p,...wI,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:G_("lucide",i),...h},[...c.map(([g,_])=>T.createElement(g,_)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(n,e)=>{const t=T.forwardRef(({className:r,...i},a)=>T.createElement(_I,{ref:a,iconNode:e,className:G_(`lucide-${yI(x0(n))}`,`lucide-${n}`,r),...i}));return t.displayName=x0(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Am=He("arrow-left",xI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],EI=He("arrow-right",bI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],SI=He("bell",TI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],CI=He("bot",II);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zl=He("calendar",kI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],q_=He("camera",NI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Op=He("check",RI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Pm=He("chevron-down",AI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],MI=He("chevron-up",PI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jI=He("circle",DI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],K_=He("clock",OI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],cp=He("crown",LI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],FI=He("dollar-sign",VI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],zI=He("ellipsis-vertical",UI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],$I=He("file-image",BI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Q_=He("file-text",HI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],GI=He("gamepad-2",WI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],KI=He("heart",qI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],YI=He("image",QI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],JI=He("log-out",XI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Zr=He("map-pin",ZI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Lp=He("message-square",eC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nC=He("plus",tC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],sC=He("radar",rC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],iC=He("reply",oC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Y_=He("send",aC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cC=He("settings",lC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dC=He("shield",uC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ps=He("sparkles",hC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pC=He("square-pen",fC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gC=He("star",mC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Vp=He("target",yC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],b0=He("trash-2",vC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],E0=He("trophy",wC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zd=He("user",_C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Fp=He("users",xC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],T0=He("volume-x",bC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mm=He("x",EC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Up=He("zap",TC);function SC(){return f.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 gaming-panel border-0 rounded-none",style:{background:"linear-gradient(135deg, var(--hud-bg) 0%, rgba(248, 250, 252, 0.95) 100%)",borderBottom:"2px solid transparent",backgroundImage:"linear-gradient(var(--hud-bg), var(--hud-bg)), linear-gradient(90deg, var(--neon-cyan), var(--neon-purple), var(--neon-pink), var(--neon-cyan))",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",backdropFilter:"blur(25px)",boxShadow:"0 8px 40px rgba(0, 0, 0, 0.15), inset 0 -1px 0 rgba(2, 132, 199, 0.3), 0 0 0 1px rgba(2, 132, 199, 0.1)",paddingTop:"env(safe-area-inset-top)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-4",style:{paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))"},children:[f.jsx("div",{className:"flex items-center flex-1",children:f.jsxs("h1",{className:"font-black text-2xl uppercase tracking-wider gradient-text",style:{fontFamily:"Inter, monospace"},children:["TOUCH",f.jsx("span",{className:"text-neon-green",children:"GRASS"})]})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{className:"hud-card p-3 active:border-neon-cyan group transition-all duration-300 relative touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center",children:[f.jsx(SI,{className:"w-5 h-5 text-muted-foreground group-active:text-neon-cyan transition-colors duration-300"}),f.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-gradient-to-r from-neon-pink to-neon-orange rounded-full flex items-center justify-center border border-white",children:f.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]}),f.jsx("button",{className:"hud-card p-3 active:border-neon-cyan group transition-all duration-300 touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center",children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg border-2 border-transparent bg-gradient-to-br from-neon-purple via-neon-pink to-neon-orange flex items-center justify-center shadow-lg",children:f.jsx(Zd,{className:"w-4 h-4 text-white drop-shadow-sm"})}),f.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-neon-green rounded-full border border-white",children:f.jsx("div",{className:"absolute inset-0.5 rounded-full bg-white/30 animate-pulse"})})]})})]})]}),f.jsxs("div",{className:"relative h-1 overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-neon-cyan via-neon-purple to-transparent opacity-80 animate-pulse"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-cyan via-transparent via-neon-green to-neon-cyan opacity-60",style:{animation:"gradient-shift 4s ease-in-out infinite"}})]}),f.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-40",style:{animation:"shimmer 3s ease-in-out infinite"}})]})}const IC="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Dm(n){const[e,t]=T.useState(!1),r=()=>{t(!0)},{src:i,alt:a,style:c,className:h,...p}=n;return e?f.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${h??""}`,style:c,children:f.jsx("div",{className:"flex items-center justify-center w-full h-full",children:f.jsx("img",{src:IC,alt:"Error loading image",...p,"data-original-url":i})})}):f.jsx("img",{src:i,alt:a,className:h,style:c,...p,onError:r})}var Lo=H_();const X_=$_(Lo);function CC(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const kC=n=>{switch(n){case"success":return AC;case"info":return MC;case"warning":return PC;case"error":return DC;default:return null}},NC=Array(12).fill(0),RC=({visible:n,className:e})=>he.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},he.createElement("div",{className:"sonner-spinner"},NC.map((t,r)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),AC=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),PC=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),MC=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),DC=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jC=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),OC=()=>{const[n,e]=he.useState(document.hidden);return he.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let zp=1;class LC{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:zp++,c=this.toasts.find(p=>p.id===a),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(p=>p.id===a?(this.publish({...p,...e,id:a,title:r}),{...p,...e,id:a,dismissible:h,title:r}):p):this.addToast({title:r,...i,dismissible:h,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,c;const h=i.then(async g=>{if(c=["resolve",g],he.isValidElement(g))a=!1,this.create({id:r,type:"default",message:g});else if(FC(g)&&!g.ok){a=!1;const y=typeof t.error=="function"?await t.error(`HTTP error! status: ${g.status}`):t.error,x=typeof t.description=="function"?await t.description(`HTTP error! status: ${g.status}`):t.description,P=typeof y=="object"&&!he.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:x,...P})}else if(g instanceof Error){a=!1;const y=typeof t.error=="function"?await t.error(g):t.error,x=typeof t.description=="function"?await t.description(g):t.description,P=typeof y=="object"&&!he.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:x,...P})}else if(t.success!==void 0){a=!1;const y=typeof t.success=="function"?await t.success(g):t.success,x=typeof t.description=="function"?await t.description(g):t.description,P=typeof y=="object"&&!he.isValidElement(y)?y:{message:y};this.create({id:r,type:"success",description:x,...P})}}).catch(async g=>{if(c=["reject",g],t.error!==void 0){a=!1;const _=typeof t.error=="function"?await t.error(g):t.error,y=typeof t.description=="function"?await t.description(g):t.description,C=typeof _=="object"&&!he.isValidElement(_)?_:{message:_};this.create({id:r,type:"error",description:y,...C})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),p=()=>new Promise((g,_)=>h.then(()=>c[0]==="reject"?_(c[1]):g(c[1])).catch(_));return typeof r!="string"&&typeof r!="number"?{unwrap:p}:Object.assign(r,{unwrap:p})},this.custom=(e,t)=>{const r=t?.id||zp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Nn=new LC,VC=(n,e)=>{const t=e?.id||zp++;return Nn.addToast({title:n,...e,id:t}),t},FC=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",UC=VC,zC=()=>Nn.toasts,BC=()=>Nn.getActiveToasts(),ot=Object.assign(UC,{success:Nn.success,info:Nn.info,warning:Nn.warning,error:Nn.error,custom:Nn.custom,message:Nn.message,promise:Nn.promise,dismiss:Nn.dismiss,loading:Nn.loading},{getHistory:zC,getToasts:BC});CC("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Hu(n){return n.label!==void 0}const $C=3,HC="24px",WC="16px",S0=4e3,GC=356,qC=14,KC=45,QC=200;function Kr(...n){return n.filter(Boolean).join(" ")}function YC(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const XC=n=>{var e,t,r,i,a,c,h,p,g;const{invert:_,toast:y,unstyled:x,interacting:C,setHeights:P,visibleToasts:k,heights:A,index:V,toasts:U,expanded:I,removeToast:W,defaultRichColors:X,closeButton:ne,style:M,cancelButtonStyle:S,actionButtonStyle:N,className:j="",descriptionClassName:O="",duration:F,position:D,gap:ye,expandByDefault:ke,classNames:le,icons:pe,closeButtonAriaLabel:H="Close toast"}=n,[J,se]=he.useState(null),[B,Z]=he.useState(null),[ie,ue]=he.useState(!1),[ge,xe]=he.useState(!1),[ee,fe]=he.useState(!1),[Ne,De]=he.useState(!1),[Be,We]=he.useState(!1),[vt,Bt]=he.useState(0),[kr,Pn]=he.useState(0),Qt=he.useRef(y.duration||F||S0),Bs=he.useRef(null),nt=he.useRef(null),wt=V===0,Mn=V+1<=k,Lt=y.type,Gn=y.dismissible!==!1,Li=y.className||"",Nr=y.descriptionClassName||"",Rr=he.useMemo(()=>A.findIndex(je=>je.toastId===y.id)||0,[A,y.id]),$s=he.useMemo(()=>{var je;return(je=y.closeButton)!=null?je:ne},[y.closeButton,ne]),ar=he.useMemo(()=>y.duration||F||S0,[y.duration,F]),Hs=he.useRef(0),xn=he.useRef(0),lr=he.useRef(0),cr=he.useRef(null),[Ar,Ws]=D.split("-"),Gs=he.useMemo(()=>A.reduce((je,it,St)=>St>=Rr?je:je+it.height,0),[A,Rr]),bn=OC(),qs=y.invert||_,qn=Lt==="loading";xn.current=he.useMemo(()=>Rr*ye+Gs,[Rr,Gs]),he.useEffect(()=>{Qt.current=ar},[ar]),he.useEffect(()=>{ue(!0)},[]),he.useEffect(()=>{const je=nt.current;if(je){const it=je.getBoundingClientRect().height;return Pn(it),P(St=>[{toastId:y.id,height:it,position:y.position},...St]),()=>P(St=>St.filter($t=>$t.toastId!==y.id))}},[P,y.id]),he.useLayoutEffect(()=>{if(!ie)return;const je=nt.current,it=je.style.height;je.style.height="auto";const St=je.getBoundingClientRect().height;je.style.height=it,Pn(St),P($t=>$t.find(Et=>Et.toastId===y.id)?$t.map(Et=>Et.toastId===y.id?{...Et,height:St}:Et):[{toastId:y.id,height:St,position:y.position},...$t])},[ie,y.title,y.description,P,y.id,y.jsx,y.action,y.cancel]);const mn=he.useCallback(()=>{xe(!0),Bt(xn.current),P(je=>je.filter(it=>it.toastId!==y.id)),setTimeout(()=>{W(y)},QC)},[y,W,P,xn]);he.useEffect(()=>{if(y.promise&&Lt==="loading"||y.duration===1/0||y.type==="loading")return;let je;return I||C||bn?(()=>{if(lr.current<Hs.current){const $t=new Date().getTime()-Hs.current;Qt.current=Qt.current-$t}lr.current=new Date().getTime()})():(()=>{Qt.current!==1/0&&(Hs.current=new Date().getTime(),je=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),mn()},Qt.current))})(),()=>clearTimeout(je)},[I,C,y,Lt,bn,mn]),he.useEffect(()=>{y.delete&&(mn(),y.onDismiss==null||y.onDismiss.call(y,y))},[mn,y.delete]);function ur(){var je;if(pe?.loading){var it;return he.createElement("div",{className:Kr(le?.loader,y==null||(it=y.classNames)==null?void 0:it.loader,"sonner-loader"),"data-visible":Lt==="loading"},pe.loading)}return he.createElement(RC,{className:Kr(le?.loader,y==null||(je=y.classNames)==null?void 0:je.loader),visible:Lt==="loading"})}const dr=y.icon||pe?.[Lt]||kC(Lt);var dt,Ks;return he.createElement("li",{tabIndex:0,ref:nt,className:Kr(j,Li,le?.toast,y==null||(e=y.classNames)==null?void 0:e.toast,le?.default,le?.[Lt],y==null||(t=y.classNames)==null?void 0:t[Lt]),"data-sonner-toast":"","data-rich-colors":(dt=y.richColors)!=null?dt:X,"data-styled":!(y.jsx||y.unstyled||x),"data-mounted":ie,"data-promise":!!y.promise,"data-swiped":Be,"data-removed":ge,"data-visible":Mn,"data-y-position":Ar,"data-x-position":Ws,"data-index":V,"data-front":wt,"data-swiping":ee,"data-dismissible":Gn,"data-type":Lt,"data-invert":qs,"data-swipe-out":Ne,"data-swipe-direction":B,"data-expanded":!!(I||ke&&ie),"data-testid":y.testId,style:{"--index":V,"--toasts-before":V,"--z-index":U.length-V,"--offset":`${ge?vt:xn.current}px`,"--initial-height":ke?"auto":`${kr}px`,...M,...y.style},onDragEnd:()=>{fe(!1),se(null),cr.current=null},onPointerDown:je=>{je.button!==2&&(qn||!Gn||(Bs.current=new Date,Bt(xn.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(fe(!0),cr.current={x:je.clientX,y:je.clientY})))},onPointerUp:()=>{var je,it,St;if(Ne||!Gn)return;cr.current=null;const $t=Number(((je=nt.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gn=Number(((it=nt.current)==null?void 0:it.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Et=new Date().getTime()-((St=Bs.current)==null?void 0:St.getTime()),Nt=J==="x"?$t:gn,Dn=Math.abs(Nt)/Et;if(Math.abs(Nt)>=KC||Dn>.11){Bt(xn.current),y.onDismiss==null||y.onDismiss.call(y,y),Z(J==="x"?$t>0?"right":"left":gn>0?"down":"up"),mn(),De(!0);return}else{var Rt,rn;(Rt=nt.current)==null||Rt.style.setProperty("--swipe-amount-x","0px"),(rn=nt.current)==null||rn.style.setProperty("--swipe-amount-y","0px")}We(!1),fe(!1),se(null)},onPointerMove:je=>{var it,St,$t;if(!cr.current||!Gn||((it=window.getSelection())==null?void 0:it.toString().length)>0)return;const Et=je.clientY-cr.current.y,Nt=je.clientX-cr.current.x;var Dn;const Rt=(Dn=n.swipeDirections)!=null?Dn:YC(D);!J&&(Math.abs(Nt)>1||Math.abs(Et)>1)&&se(Math.abs(Nt)>Math.abs(Et)?"x":"y");let rn={x:0,y:0};const Kn=Ht=>1/(1.5+Math.abs(Ht)/20);if(J==="y"){if(Rt.includes("top")||Rt.includes("bottom"))if(Rt.includes("top")&&Et<0||Rt.includes("bottom")&&Et>0)rn.y=Et;else{const Ht=Et*Kn(Et);rn.y=Math.abs(Ht)<Math.abs(Et)?Ht:Et}}else if(J==="x"&&(Rt.includes("left")||Rt.includes("right")))if(Rt.includes("left")&&Nt<0||Rt.includes("right")&&Nt>0)rn.x=Nt;else{const Ht=Nt*Kn(Nt);rn.x=Math.abs(Ht)<Math.abs(Nt)?Ht:Nt}(Math.abs(rn.x)>0||Math.abs(rn.y)>0)&&We(!0),(St=nt.current)==null||St.style.setProperty("--swipe-amount-x",`${rn.x}px`),($t=nt.current)==null||$t.style.setProperty("--swipe-amount-y",`${rn.y}px`)}},$s&&!y.jsx&&Lt!=="loading"?he.createElement("button",{"aria-label":H,"data-disabled":qn,"data-close-button":!0,onClick:qn||!Gn?()=>{}:()=>{mn(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Kr(le?.closeButton,y==null||(r=y.classNames)==null?void 0:r.closeButton)},(Ks=pe?.close)!=null?Ks:jC):null,(Lt||y.icon||y.promise)&&y.icon!==null&&(pe?.[Lt]!==null||y.icon)?he.createElement("div",{"data-icon":"",className:Kr(le?.icon,y==null||(i=y.classNames)==null?void 0:i.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||ur():null,y.type!=="loading"?dr:null):null,he.createElement("div",{"data-content":"",className:Kr(le?.content,y==null||(a=y.classNames)==null?void 0:a.content)},he.createElement("div",{"data-title":"",className:Kr(le?.title,y==null||(c=y.classNames)==null?void 0:c.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?he.createElement("div",{"data-description":"",className:Kr(O,Nr,le?.description,y==null||(h=y.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),he.isValidElement(y.cancel)?y.cancel:y.cancel&&Hu(y.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||S,onClick:je=>{Hu(y.cancel)&&Gn&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,je),mn())},className:Kr(le?.cancelButton,y==null||(p=y.classNames)==null?void 0:p.cancelButton)},y.cancel.label):null,he.isValidElement(y.action)?y.action:y.action&&Hu(y.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||N,onClick:je=>{Hu(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,je),!je.defaultPrevented&&mn())},className:Kr(le?.actionButton,y==null||(g=y.classNames)==null?void 0:g.actionButton)},y.action.label):null)};function I0(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function JC(n,e){const t={};return[n,e].forEach((r,i)=>{const a=i===1,c=a?"--mobile-offset":"--offset",h=a?WC:HC;function p(g){["top","right","bottom","left"].forEach(_=>{t[`${c}-${_}`]=typeof g=="number"?`${g}px`:g})}typeof r=="number"||typeof r=="string"?p(r):typeof r=="object"?["top","right","bottom","left"].forEach(g=>{r[g]===void 0?t[`${c}-${g}`]=h:t[`${c}-${g}`]=typeof r[g]=="number"?`${r[g]}px`:r[g]}):p(h)}),t}const ZC=he.forwardRef(function(e,t){const{id:r,invert:i,position:a="bottom-right",hotkey:c=["altKey","KeyT"],expand:h,closeButton:p,className:g,offset:_,mobileOffset:y,theme:x="light",richColors:C,duration:P,style:k,visibleToasts:A=$C,toastOptions:V,dir:U=I0(),gap:I=qC,icons:W,containerAriaLabel:X="Notifications"}=e,[ne,M]=he.useState([]),S=he.useMemo(()=>r?ne.filter(ie=>ie.toasterId===r):ne.filter(ie=>!ie.toasterId),[ne,r]),N=he.useMemo(()=>Array.from(new Set([a].concat(S.filter(ie=>ie.position).map(ie=>ie.position)))),[S,a]),[j,O]=he.useState([]),[F,D]=he.useState(!1),[ye,ke]=he.useState(!1),[le,pe]=he.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=he.useRef(null),J=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=he.useRef(null),B=he.useRef(!1),Z=he.useCallback(ie=>{M(ue=>{var ge;return(ge=ue.find(xe=>xe.id===ie.id))!=null&&ge.delete||Nn.dismiss(ie.id),ue.filter(({id:xe})=>xe!==ie.id)})},[]);return he.useEffect(()=>Nn.subscribe(ie=>{if(ie.dismiss){requestAnimationFrame(()=>{M(ue=>ue.map(ge=>ge.id===ie.id?{...ge,delete:!0}:ge))});return}setTimeout(()=>{X_.flushSync(()=>{M(ue=>{const ge=ue.findIndex(xe=>xe.id===ie.id);return ge!==-1?[...ue.slice(0,ge),{...ue[ge],...ie},...ue.slice(ge+1)]:[ie,...ue]})})})}),[ne]),he.useEffect(()=>{if(x!=="system"){pe(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?pe("dark"):pe("light")),typeof window>"u")return;const ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:ue})=>{pe(ue?"dark":"light")})}catch{ie.addListener(({matches:ge})=>{try{pe(ge?"dark":"light")}catch(xe){console.error(xe)}})}},[x]),he.useEffect(()=>{ne.length<=1&&D(!1)},[ne]),he.useEffect(()=>{const ie=ue=>{var ge;if(c.every(fe=>ue[fe]||ue.code===fe)){var ee;D(!0),(ee=H.current)==null||ee.focus()}ue.code==="Escape"&&(document.activeElement===H.current||(ge=H.current)!=null&&ge.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[c]),he.useEffect(()=>{if(H.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,B.current=!1)}},[H.current]),he.createElement("section",{ref:t,"aria-label":`${X} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((ie,ue)=>{var ge;const[xe,ee]=ie.split("-");return S.length?he.createElement("ol",{key:ie,dir:U==="auto"?I0():U,tabIndex:-1,ref:H,className:g,"data-sonner-toaster":!0,"data-sonner-theme":le,"data-y-position":xe,"data-x-position":ee,style:{"--front-toast-height":`${((ge=j[0])==null?void 0:ge.height)||0}px`,"--width":`${GC}px`,"--gap":`${I}px`,...k,...JC(_,y)},onBlur:fe=>{B.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(B.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||B.current||(B.current=!0,se.current=fe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{ye||D(!1)},onDragEnd:()=>D(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||ke(!0)},onPointerUp:()=>ke(!1)},S.filter(fe=>!fe.position&&ue===0||fe.position===ie).map((fe,Ne)=>{var De,Be;return he.createElement(XC,{key:fe.id,icons:W,index:Ne,toast:fe,defaultRichColors:C,duration:(De=V?.duration)!=null?De:P,className:V?.className,descriptionClassName:V?.descriptionClassName,invert:i,visibleToasts:A,closeButton:(Be=V?.closeButton)!=null?Be:p,interacting:ye,position:ie,style:V?.style,unstyled:V?.unstyled,classNames:V?.classNames,cancelButtonStyle:V?.cancelButtonStyle,actionButtonStyle:V?.actionButtonStyle,closeButtonAriaLabel:V?.closeButtonAriaLabel,removeToast:Z,toasts:S.filter(We=>We.position==fe.position),heights:j.filter(We=>We.position==fe.position),setHeights:O,expandByDefault:h,gap:I,expanded:F,swipeDirections:e.swipeDirections})})):null}))});function e2({isOpen:n,onClose:e,quest:t,userProfile:r}){const[i,a]=T.useState(""),[c,h]=T.useState(!1),p=async _=>{if(_.preventDefault(),!!i.trim()){h(!0);try{console.log("Joining quest:",{questId:t.id,message:i.trim(),userProfile:r}),await new Promise(y=>setTimeout(y,1e3)),e(),a(""),ot.success("Quest join request sent!",{description:`Your message has been sent to ${t.organizer}. They'll get back to you soon! `})}catch(y){console.error("Failed to send join request:",y),ot.error("Failed to send join request",{description:"Please try again later."})}finally{h(!1)}}},g=()=>{c||(a(""),e())};return n?Lo.createPortal(f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[f.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:g}),f.jsxs("div",{className:"relative bg-card border border-border rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",role:"dialog","aria-modal":"true","aria-describedby":"join-quest-description",children:[f.jsxs("div",{className:"p-6 pb-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"p-2 rounded-full bg-gradient-to-r from-neon-cyan to-neon-purple",children:f.jsx(Y_,{className:"w-5 h-5 text-white"})}),f.jsx("span",{className:"gradient-text font-bold",children:"JOIN QUEST REQUEST"})]}),f.jsx("button",{onClick:g,className:"p-2 rounded-full hover:bg-accent transition-colors",children:f.jsx(Mm,{className:"w-4 h-4"})})]}),f.jsx("p",{id:"join-quest-description",className:"text-center text-muted-foreground text-sm",children:"Send your profile and a personal message to join this quest"})]}),f.jsx("div",{className:"px-6 pb-6 space-y-6",children:f.jsxs("form",{onSubmit:p,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block font-bold text-foreground",children:"Personal Message *"}),f.jsx("textarea",{value:i,onChange:_=>a(_.target.value),placeholder:"Hey! I'd love to join your quest! I'm really into coffee exploration and would love to meet fellow enthusiasts. Looking forward to discovering some hidden gems together! ",className:"w-full p-4 rounded-lg border border-border bg-input-background text-foreground placeholder-muted-foreground focus:border-neon-cyan focus:ring-2 focus:ring-neon-cyan/20 transition-all min-h-[120px] resize-none",required:!0,disabled:c}),f.jsx("p",{className:"text-xs text-muted-foreground",children:" Tell them why you're excited to join and what you'll bring to the adventure!"})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:g,disabled:c,className:"flex-1 py-3 px-4 rounded-lg border border-border bg-card text-foreground hover:bg-accent/50 transition-colors disabled:opacity-50",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:!i.trim()||c,className:`flex-1 neon-button py-3 font-bold tracking-wider transition-all ${!i.trim()||c?"opacity-50 cursor-not-allowed":"hover:scale-[1.02]"}`,children:f.jsx("div",{className:"flex items-center justify-center gap-2",children:c?"SENDING...":"SEND"})})]})]})})]})]}),document.body):null}function C0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function eh(...n){return e=>{let t=!1;const r=n.map(i=>{const a=C0(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():C0(n[i],null)}}}}function lt(...n){return T.useCallback(eh(...n),n)}function Ma(n){const e=n2(n),t=T.forwardRef((r,i)=>{const{children:a,...c}=r,h=T.Children.toArray(a),p=h.find(s2);if(p){const g=p.props.children,_=h.map(y=>y===p?T.Children.count(g)>1?T.Children.only(null):T.isValidElement(g)?g.props.children:null:y);return f.jsx(e,{...c,ref:i,children:T.isValidElement(g)?T.cloneElement(g,void 0,_):null})}return f.jsx(e,{...c,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var t2=Ma("Slot");function n2(n){const e=T.forwardRef((t,r)=>{const{children:i,...a}=t;if(T.isValidElement(i)){const c=i2(i),h=o2(a,i.props);return i.type!==T.Fragment&&(h.ref=r?eh(r,c):c),T.cloneElement(i,h)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var r2=Symbol("radix.slottable");function s2(n){return T.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===r2}function o2(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...h)=>{const p=a(...h);return i(...h),p}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function i2(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function J_(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=J_(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Z_(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=J_(n))&&(r&&(r+=" "),r+=e);return r}const k0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,N0=Z_,a2=(n,e)=>t=>{var r;if(e?.variants==null)return N0(n,t?.class,t?.className);const{variants:i,defaultVariants:a}=e,c=Object.keys(i).map(g=>{const _=t?.[g],y=a?.[g];if(_===null)return null;const x=k0(_)||k0(y);return i[g][x]}),h=t&&Object.entries(t).reduce((g,_)=>{let[y,x]=_;return x===void 0||(g[y]=x),g},{}),p=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((g,_)=>{let{class:y,className:x,...C}=_;return Object.entries(C).every(P=>{let[k,A]=P;return Array.isArray(A)?A.includes({...a,...h}[k]):{...a,...h}[k]===A})?[...g,y,x]:g},[]);return N0(n,c,p,t?.class,t?.className)},jm="-",l2=n=>{const e=u2(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:c=>{const h=c.split(jm);return h[0]===""&&h.length!==1&&h.shift(),ex(h,e)||c2(c)},getConflictingClassGroupIds:(c,h)=>{const p=t[c]||[];return h&&r[c]?[...p,...r[c]]:p}}},ex=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?ex(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(jm);return e.validators.find(({validator:c})=>c(a))?.classGroupId},R0=/^\[(.+)\]$/,c2=n=>{if(R0.test(n)){const e=R0.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},u2=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)Bp(t[i],r,i,e);return r},Bp=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:A0(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(d2(i)){Bp(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,c])=>{Bp(c,A0(e,a),t,r)})})},A0=(n,e)=>{let t=n;return e.split(jm).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},d2=n=>n.isThemeGetter,h2=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,c)=>{t.set(a,c),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let c=t.get(a);if(c!==void 0)return c;if((c=r.get(a))!==void 0)return i(a,c),c},set(a,c){t.has(a)?t.set(a,c):i(a,c)}}},$p="!",Hp=":",f2=Hp.length,p2=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const a=[];let c=0,h=0,p=0,g;for(let P=0;P<i.length;P++){let k=i[P];if(c===0&&h===0){if(k===Hp){a.push(i.slice(p,P)),p=P+f2;continue}if(k==="/"){g=P;continue}}k==="["?c++:k==="]"?c--:k==="("?h++:k===")"&&h--}const _=a.length===0?i:i.substring(p),y=m2(_),x=y!==_,C=g&&g>p?g-p:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:C}};if(e){const i=e+Hp,a=r;r=c=>c.startsWith(i)?a(c.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=a=>t({className:a,parseClassName:i})}return r},m2=n=>n.endsWith($p)?n.substring(0,n.length-1):n.startsWith($p)?n.substring(1):n,g2=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(c=>{c[0]==="["||e[c]?(i.push(...a.sort(),c),a=[]):a.push(c)}),i.push(...a.sort()),i}},y2=n=>({cache:h2(n.cacheSize),parseClassName:p2(n),sortModifiers:g2(n),...l2(n)}),v2=/\s+/,w2=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,c=[],h=n.trim().split(v2);let p="";for(let g=h.length-1;g>=0;g-=1){const _=h[g],{isExternal:y,modifiers:x,hasImportantModifier:C,baseClassName:P,maybePostfixModifierPosition:k}=t(_);if(y){p=_+(p.length>0?" "+p:p);continue}let A=!!k,V=r(A?P.substring(0,k):P);if(!V){if(!A){p=_+(p.length>0?" "+p:p);continue}if(V=r(P),!V){p=_+(p.length>0?" "+p:p);continue}A=!1}const U=a(x).join(":"),I=C?U+$p:U,W=I+V;if(c.includes(W))continue;c.push(W);const X=i(V,A);for(let ne=0;ne<X.length;++ne){const M=X[ne];c.push(I+M)}p=_+(p.length>0?" "+p:p)}return p};function _2(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=tx(e))&&(r&&(r+=" "),r+=t);return r}const tx=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=tx(n[r]))&&(t&&(t+=" "),t+=e);return t};function x2(n,...e){let t,r,i,a=c;function c(p){const g=e.reduce((_,y)=>y(_),n());return t=y2(g),r=t.cache.get,i=t.cache.set,a=h,h(p)}function h(p){const g=r(p);if(g)return g;const _=w2(p,t);return i(p,_),_}return function(){return a(_2.apply(null,arguments))}}const Ut=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},nx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,b2=/^\d+\/\d+$/,E2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,T2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,I2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,C2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,va=n=>b2.test(n),$e=n=>!!n&&!Number.isNaN(Number(n)),go=n=>!!n&&Number.isInteger(Number(n)),up=n=>n.endsWith("%")&&$e(n.slice(0,-1)),As=n=>E2.test(n),k2=()=>!0,N2=n=>T2.test(n)&&!S2.test(n),sx=()=>!1,R2=n=>I2.test(n),A2=n=>C2.test(n),P2=n=>!Te(n)&&!Se(n),M2=n=>Ha(n,ax,sx),Te=n=>nx.test(n),fi=n=>Ha(n,lx,N2),dp=n=>Ha(n,V2,$e),P0=n=>Ha(n,ox,sx),D2=n=>Ha(n,ix,A2),Wu=n=>Ha(n,cx,R2),Se=n=>rx.test(n),Hl=n=>Wa(n,lx),j2=n=>Wa(n,F2),M0=n=>Wa(n,ox),O2=n=>Wa(n,ax),L2=n=>Wa(n,ix),Gu=n=>Wa(n,cx,!0),Ha=(n,e,t)=>{const r=nx.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Wa=(n,e,t=!1)=>{const r=rx.exec(n);return r?r[1]?e(r[1]):t:!1},ox=n=>n==="position"||n==="percentage",ix=n=>n==="image"||n==="url",ax=n=>n==="length"||n==="size"||n==="bg-size",lx=n=>n==="length",V2=n=>n==="number",F2=n=>n==="family-name",cx=n=>n==="shadow",U2=()=>{const n=Ut("color"),e=Ut("font"),t=Ut("text"),r=Ut("font-weight"),i=Ut("tracking"),a=Ut("leading"),c=Ut("breakpoint"),h=Ut("container"),p=Ut("spacing"),g=Ut("radius"),_=Ut("shadow"),y=Ut("inset-shadow"),x=Ut("text-shadow"),C=Ut("drop-shadow"),P=Ut("blur"),k=Ut("perspective"),A=Ut("aspect"),V=Ut("ease"),U=Ut("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],X=()=>[...W(),Se,Te],ne=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],S=()=>[Se,Te,p],N=()=>[va,"full","auto",...S()],j=()=>[go,"none","subgrid",Se,Te],O=()=>["auto",{span:["full",go,Se,Te]},go,Se,Te],F=()=>[go,"auto",Se,Te],D=()=>["auto","min","max","fr",Se,Te],ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],le=()=>["auto",...S()],pe=()=>[va,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],H=()=>[n,Se,Te],J=()=>[...W(),M0,P0,{position:[Se,Te]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",O2,M2,{size:[Se,Te]}],Z=()=>[up,Hl,fi],ie=()=>["","none","full",g,Se,Te],ue=()=>["",$e,Hl,fi],ge=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[$e,up,M0,P0],fe=()=>["","none",P,Se,Te],Ne=()=>["none",$e,Se,Te],De=()=>["none",$e,Se,Te],Be=()=>[$e,Se,Te],We=()=>[va,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[As],breakpoint:[As],color:[k2],container:[As],"drop-shadow":[As],ease:["in","out","in-out"],font:[P2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[As],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[As],shadow:[As],spacing:["px",$e],text:[As],"text-shadow":[As],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",va,Te,Se,A]}],container:["container"],columns:[{columns:[$e,Te,Se,h]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:X()}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[go,"auto",Se,Te]}],basis:[{basis:[va,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,va,"auto","initial","none",Te]}],grow:[{grow:["",$e,Se,Te]}],shrink:[{shrink:["",$e,Se,Te]}],order:[{order:[go,"first","last","none",Se,Te]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...ye(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...ye()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":ye()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:le()}],mx:[{mx:le()}],my:[{my:le()}],ms:[{ms:le()}],me:[{me:le()}],mt:[{mt:le()}],mr:[{mr:le()}],mb:[{mb:le()}],ml:[{ml:le()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],w:[{w:[h,"screen",...pe()]}],"min-w":[{"min-w":[h,"screen","none",...pe()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...pe()]}],h:[{h:["screen","lh",...pe()]}],"min-h":[{"min-h":["screen","lh","none",...pe()]}],"max-h":[{"max-h":["screen","lh",...pe()]}],"font-size":[{text:["base",t,Hl,fi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Se,dp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",up,Te]}],"font-family":[{font:[j2,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Se,Te]}],"line-clamp":[{"line-clamp":[$e,"none",Se,dp]}],leading:[{leading:[a,...S()]}],"list-image":[{"list-image":["none",Se,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",Se,fi]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[$e,"auto",Se,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},go,Se,Te],radial:["",Se,Te],conic:[go,Se,Te]},L2,D2]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,Se,Te]}],"outline-w":[{outline:["",$e,Hl,fi]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",_,Gu,Wu]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",y,Gu,Wu]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[$e,fi]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",x,Gu,Wu]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[$e,Se,Te]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Se,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":W()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Te]}],filter:[{filter:["","none",Se,Te]}],blur:[{blur:fe()}],brightness:[{brightness:[$e,Se,Te]}],contrast:[{contrast:[$e,Se,Te]}],"drop-shadow":[{"drop-shadow":["","none",C,Gu,Wu]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",$e,Se,Te]}],"hue-rotate":[{"hue-rotate":[$e,Se,Te]}],invert:[{invert:["",$e,Se,Te]}],saturate:[{saturate:[$e,Se,Te]}],sepia:[{sepia:["",$e,Se,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Te]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[$e,Se,Te]}],"backdrop-contrast":[{"backdrop-contrast":[$e,Se,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,Se,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,Se,Te]}],"backdrop-invert":[{"backdrop-invert":["",$e,Se,Te]}],"backdrop-opacity":[{"backdrop-opacity":[$e,Se,Te]}],"backdrop-saturate":[{"backdrop-saturate":[$e,Se,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,Se,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",Se,Te]}],ease:[{ease:["linear","initial",V,Se,Te]}],delay:[{delay:[$e,Se,Te]}],animate:[{animate:["none",U,Se,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Se,Te]}],"perspective-origin":[{"perspective-origin":X()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[Se,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:X()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:We()}],"translate-x":[{"translate-x":We()}],"translate-y":[{"translate-y":We()}],"translate-z":[{"translate-z":We()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Te]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[$e,Hl,fi,dp]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},z2=x2(U2);function An(...n){return z2(Z_(n))}const B2=a2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Wp({className:n,variant:e,size:t,asChild:r=!1,...i}){const a=r?t2:"button";return f.jsx(a,{"data-slot":"button",className:An(B2({variant:e,size:t,className:n})),...i})}const $2=()=>{};var D0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},H2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],c=n[t++],h=n[t++],p=((i&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|c&63)}}return e.join("")},dx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],c=i+1<n.length,h=c?n[i+1]:0,p=i+2<n.length,g=p?n[i+2]:0,_=a>>2,y=(a&3)<<4|h>>4;let x=(h&15)<<2|g>>6,C=g&63;p||(C=64,c||(x=64)),r.push(t[_],t[y],t[x],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ux(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):H2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const g=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||h==null||g==null||y==null)throw new W2;const x=a<<2|h>>4;if(r.push(x),g!==64){const C=h<<4&240|g>>2;if(r.push(C),y!==64){const P=g<<6&192|y;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class W2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G2=function(n){const e=ux(n);return dx.encodeByteArray(e,!0)},xd=function(n){return G2(n).replace(/\./g,"")},hx=function(n){try{return dx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=()=>q2().__FIREBASE_DEFAULTS__,Q2=()=>{if(typeof process>"u"||typeof D0>"u")return;const n=D0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Y2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&hx(n[1]);return e&&JSON.parse(e)},th=()=>{try{return $2()||K2()||Q2()||Y2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fx=n=>th()?.emulatorHosts?.[n],px=n=>{const e=fx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},mx=()=>th()?.config,gx=n=>th()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Om(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[xd(JSON.stringify(t)),xd(JSON.stringify(c)),""].join(".")}const ec={};function J2(){const n={prod:[],emulator:[]};for(const e of Object.keys(ec))ec[e]?n.emulator.push(e):n.prod.push(e);return n}function Z2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let j0=!1;function Lm(n,e){if(typeof window>"u"||typeof document>"u"||!Ni(window.location.host)||ec[n]===e||ec[n]||j0)return;ec[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=J2().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,C){x.setAttribute("width","24"),x.setAttribute("id",C),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{j0=!0,c()},x}function _(x,C){x.setAttribute("id",C),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=Z2(r),C=t("text"),P=document.getElementById(C)||document.createElement("span"),k=t("learnmore"),A=document.getElementById(k)||document.createElement("a"),V=t("preprendIcon"),U=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const I=x.element;h(I),_(A,k);const W=g();p(U,V),I.append(U,P,A,W),document.body.appendChild(I)}a?(P.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ek(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function tk(){const n=th()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ok(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ik(){return!tk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ak(){try{return typeof indexedDB=="object"}catch{return!1}}function lk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="FirebaseError";class fs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ck,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],c=a?uk(a,r):"Error",h=`${this.serviceName}: ${c} (${i}).`;return new fs(i,h,r)}}function uk(n,e){return n.replace(dk,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dk=/\{\$([^}]+)}/g;function hk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],c=e[i];if(O0(a)&&O0(c)){if(!xi(a,c))return!1}else if(a!==c)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function O0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fk(n,e){const t=new pk(n,e);return t.subscribe.bind(t)}class pk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");mk(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=hp),i.error===void 0&&(i.error=hp),i.complete===void 0&&(i.complete=hp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(n){return n&&n._delegate?n._delegate:n}class ko{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new X2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vk(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&c.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yk(n){return n===pi?void 0:n}function vk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const _k={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},xk=qe.INFO,bk={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Ek=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=bk[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=xk,this._logHandler=Ek,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const Tk=(n,e)=>e.some(t=>n instanceof t);let L0,V0;function Sk(){return L0||(L0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ik(){return V0||(V0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vx=new WeakMap,Gp=new WeakMap,wx=new WeakMap,fp=new WeakMap,Fm=new WeakMap;function Ck(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Eo(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&vx.set(t,n)}).catch(()=>{}),Fm.set(e,n),e}function kk(n){if(Gp.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Gp.set(n,e)}let qp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Gp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Eo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Nk(n){qp=n(qp)}function Rk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(pp(this),e,...t);return wx.set(r,e.sort?e.sort():[e]),Eo(r)}:Ik().includes(n)?function(...e){return n.apply(pp(this),e),Eo(vx.get(this))}:function(...e){return Eo(n.apply(pp(this),e))}}function Ak(n){return typeof n=="function"?Rk(n):(n instanceof IDBTransaction&&kk(n),Tk(n,Sk())?new Proxy(n,qp):n)}function Eo(n){if(n instanceof IDBRequest)return Ck(n);if(fp.has(n))return fp.get(n);const e=Ak(n);return e!==n&&(fp.set(n,e),Fm.set(e,n)),e}const pp=n=>Fm.get(n);function Pk(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(n,e),h=Eo(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Eo(c.result),p.oldVersion,p.newVersion,Eo(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),i&&p.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const Mk=["get","getKey","getAll","getAllKeys","count"],Dk=["put","add","delete","clear"],mp=new Map;function F0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(mp.get(e))return mp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Dk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Mk.includes(t)))return;const a=async function(c,...h){const p=this.transaction(c,i?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),i&&p.done]))[0]};return mp.set(e,a),a}Nk(n=>({...n,get:(e,t,r)=>F0(e,t)||n.get(e,t,r),has:(e,t)=>!!F0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ok(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Ok(n){return n.getComponent()?.type==="VERSION"}const Kp="@firebase/app",U0="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Vm("@firebase/app"),Lk="@firebase/app-compat",Vk="@firebase/analytics-compat",Fk="@firebase/analytics",Uk="@firebase/app-check-compat",zk="@firebase/app-check",Bk="@firebase/auth",$k="@firebase/auth-compat",Hk="@firebase/database",Wk="@firebase/data-connect",Gk="@firebase/database-compat",qk="@firebase/functions",Kk="@firebase/functions-compat",Qk="@firebase/installations",Yk="@firebase/installations-compat",Xk="@firebase/messaging",Jk="@firebase/messaging-compat",Zk="@firebase/performance",eN="@firebase/performance-compat",tN="@firebase/remote-config",nN="@firebase/remote-config-compat",rN="@firebase/storage",sN="@firebase/storage-compat",oN="@firebase/firestore",iN="@firebase/ai",aN="@firebase/firestore-compat",lN="firebase",cN="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",uN={[Kp]:"fire-core",[Lk]:"fire-core-compat",[Fk]:"fire-analytics",[Vk]:"fire-analytics-compat",[zk]:"fire-app-check",[Uk]:"fire-app-check-compat",[Bk]:"fire-auth",[$k]:"fire-auth-compat",[Hk]:"fire-rtdb",[Wk]:"fire-data-connect",[Gk]:"fire-rtdb-compat",[qk]:"fire-fn",[Kk]:"fire-fn-compat",[Qk]:"fire-iid",[Yk]:"fire-iid-compat",[Xk]:"fire-fcm",[Jk]:"fire-fcm-compat",[Zk]:"fire-perf",[eN]:"fire-perf-compat",[tN]:"fire-rc",[nN]:"fire-rc-compat",[rN]:"fire-gcs",[sN]:"fire-gcs-compat",[oN]:"fire-fst",[aN]:"fire-fst-compat",[iN]:"fire-vertex","fire-js":"fire-js",[lN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new Map,dN=new Map,Yp=new Map;function z0(n,e){try{n.container.addComponent(e)}catch(t){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function bi(n){const e=n.name;if(Yp.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Yp.set(e,n);for(const t of bd.values())z0(t,n);for(const t of dN.values())z0(t,n);return!0}function nh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new bc("app","Firebase",hN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=cN;function _x(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Qp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw To.create("bad-app-name",{appName:String(i)});if(t||(t=mx()),!t)throw To.create("no-options");const a=bd.get(i);if(a){if(xi(t,a.options)&&xi(r,a.config))return a;throw To.create("duplicate-app",{appName:i})}const c=new wk(i);for(const p of Yp.values())c.addComponent(p);const h=new fN(t,r,c);return bd.set(i,h),h}function Um(n=Qp){const e=bd.get(n);if(!e&&n===Qp&&mx())return _x();if(!e)throw To.create("no-app",{appName:n});return e}function es(n,e,t){let r=uN[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(c.join(" "));return}bi(new ko(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="firebase-heartbeat-database",mN=1,ac="firebase-heartbeat-store";let gp=null;function xx(){return gp||(gp=Pk(pN,mN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ac)}catch(t){console.warn(t)}}}}).catch(n=>{throw To.create("idb-open",{originalErrorMessage:n.message})})),gp}async function gN(n){try{const t=(await xx()).transaction(ac),r=await t.objectStore(ac).get(bx(n));return await t.done,r}catch(e){if(e instanceof fs)Os.warn(e.message);else{const t=To.create("idb-get",{originalErrorMessage:e?.message});Os.warn(t.message)}}}async function B0(n,e){try{const r=(await xx()).transaction(ac,"readwrite");await r.objectStore(ac).put(e,bx(n)),await r.done}catch(t){if(t instanceof fs)Os.warn(t.message);else{const r=To.create("idb-set",{originalErrorMessage:t?.message});Os.warn(r.message)}}}function bx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=1024,vN=30;class wN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>vN){const i=bN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$0(),{heartbeatsToSend:t,unsentEntries:r}=_N(this._heartbeatsCache.heartbeats),i=xd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Os.warn(e),""}}}function $0(){return new Date().toISOString().substring(0,10)}function _N(n,e=yN){const t=[];let r=n.slice();for(const i of n){const a=t.find(c=>c.agent===i.agent);if(a){if(a.dates.push(i.date),H0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),H0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class xN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ak()?lk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await gN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return B0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return B0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function H0(n){return xd(JSON.stringify({version:2,heartbeats:n})).length}function bN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(n){bi(new ko("platform-logger",e=>new jk(e),"PRIVATE")),bi(new ko("heartbeat",e=>new wN(e),"PRIVATE")),es(Kp,U0,n),es(Kp,U0,"esm2020"),es("fire-js","")}EN("");function Ex(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TN=Ex,Tx=new bc("auth","Firebase",Ex());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Vm("@firebase/auth");function SN(n,...e){Ed.logLevel<=qe.WARN&&Ed.warn(`Auth (${Ri}): ${n}`,...e)}function ad(n,...e){Ed.logLevel<=qe.ERROR&&Ed.error(`Auth (${Ri}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(n,...e){throw Bm(n,...e)}function Tr(n,...e){return Bm(n,...e)}function zm(n,e,t){const r={...TN(),[e]:t};return new bc("auth","Firebase",r).create(e,{appName:n.name})}function vi(n){return zm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ls(n,"argument-error"),zm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Tx.create(n,...e)}function Ve(n,e,...t){if(!n)throw Bm(e,...t)}function Ms(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ad(e),new Error(e)}function Ls(n,e){n||Ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(){return typeof self<"u"&&self.location?.href||""}function CN(){return W0()==="http:"||W0()==="https:"}function W0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CN()||rk()||"connection"in navigator)?navigator.onLine:!0}function NN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ls(t>e,"Short delay should be less than long delay!"),this.isMobile=ek()||sk()}get(){return kN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(n,e){Ls(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PN=new Tc(3e4,6e4);function Hm(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ga(n,e,t,r,i={}){return Ix(n,i,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const h=Ec({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...a};return nk()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Ni(n.emulatorConfig.host)&&(g.credentials="include"),Sx.fetch()(await Cx(n,n.config.apiHost,t,h),g)})}async function Ix(n,e,t){n._canInitEmulator=!1;const r={...RN,...e};try{const i=new DN(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw qu(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[p,g]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qu(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw qu(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw qu(n,"user-disabled",c);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw zm(n,_,g);ls(n,_)}}catch(i){if(i instanceof fs)throw i;ls(n,"network-request-failed",{message:String(i)})}}async function MN(n,e,t,r,i={}){const a=await Ga(n,e,t,r,i);return"mfaPendingCredential"in a&&ls(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Cx(n,e,t,r){const i=`${e}${t}?${r}`,a=n,c=a.config.emulator?$m(n.config,i):`${n.config.apiScheme}://${i}`;return AN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}class DN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),PN.get())})}}function qu(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Tr(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(n,e){return Ga(n,"POST","/v1/accounts:delete",e)}async function Td(n,e){return Ga(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ON(n,e=!1){const t=wn(n),r=await t.getIdToken(e),i=Wm(r);Ve(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,c=a?.sign_in_provider;return{claims:i,token:r,authTime:tc(yp(i.auth_time)),issuedAtTime:tc(yp(i.iat)),expirationTime:tc(yp(i.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function yp(n){return Number(n)*1e3}function Wm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ad("JWT malformed, contained fewer than 3 sections"),null;try{const i=hx(t);return i?JSON.parse(i):(ad("Failed to decode base64 JWT payload"),null)}catch(i){return ad("Caught error parsing JWT payload as JSON",i?.toString()),null}}function G0(n){const e=Wm(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof fs&&LN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function LN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(n){const e=n.auth,t=await n.getIdToken(),r=await lc(n,Td(e,{idToken:t}));Ve(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=i.providerUserInfo?.length?kx(i.providerUserInfo):[],c=UN(n.providerData,a),h=n.isAnonymous,p=!(n.email&&i.passwordHash)&&!c?.length,g=h?p:!1,_={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new Jp(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function FN(n){const e=wn(n);await Sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kx(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(n,e){const t=await Ix(n,{},async()=>{const r=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,c=await Cx(n,i,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:r};return n.emulatorConfig&&Ni(n.emulatorConfig.host)&&(p.credentials="include"),Sx.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function BN(n,e){return Ga(n,"POST","/v2/accounts:revokeToken",Hm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=G0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await zN(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,c=new Ca;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),a&&(Ve(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xr{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new VN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Jp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await lc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ON(this,e)}reload(){return FN(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Sd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await lc(this,jN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:y,emailVerified:x,isAnonymous:C,providerData:P,stsTokenManager:k}=t;Ve(y&&k,e,"internal-error");const A=Ca.fromJSON(this.name,k);Ve(typeof y=="string",e,"internal-error"),yo(r,e.name),yo(i,e.name),Ve(typeof x=="boolean",e,"internal-error"),Ve(typeof C=="boolean",e,"internal-error"),yo(a,e.name),yo(c,e.name),yo(h,e.name),yo(p,e.name),yo(g,e.name),yo(_,e.name);const V=new xr({uid:y,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:C,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:A,createdAt:g,lastLoginAt:_});return P&&Array.isArray(P)&&(V.providerData=P.map(U=>({...U}))),p&&(V._redirectEventId=p),V}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ca;i.updateFromServerResponse(t);const a=new xr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ve(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?kx(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!a?.length,h=new Ca;h.updateFromIdToken(r);const p=new xr({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Jp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;function Ds(n){Ls(n instanceof Function,"Expected a class definition");let e=q0.get(n);return e?(Ls(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,q0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Nx.type="NONE";const K0=Nx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(n,e,t){return`firebase:${n}:${e}:${t}`}class ka{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ld(this.userKey,i.apiKey,a),this.fullPersistenceKey=ld("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Td(this.auth,{idToken:e}).catch(()=>{});return t?xr._fromGetAccountInfoResponse(this.auth,t,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ka(Ds(K0),e,r);const i=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=i[0]||Ds(K0);const c=ld(r,e.config.apiKey,e.name);let h=null;for(const g of t)try{const _=await g._get(c);if(_){let y;if(typeof _=="string"){const x=await Td(e,{idToken:_}).catch(()=>{});if(!x)break;y=await xr._fromGetAccountInfoResponse(e,x,_)}else y=xr._fromJSON(e,_);g!==a&&(h=y),a=g;break}}catch{}const p=i.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new ka(a,e,r):(a=p[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(c)}catch{}})),new ka(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jx(e))return"Blackberry";if(Ox(e))return"Webos";if(Ax(e))return"Safari";if((e.includes("chrome/")||Px(e))&&!e.includes("edge/"))return"Chrome";if(Dx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Rx(n=fn()){return/firefox\//i.test(n)}function Ax(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Px(n=fn()){return/crios\//i.test(n)}function Mx(n=fn()){return/iemobile/i.test(n)}function Dx(n=fn()){return/android/i.test(n)}function jx(n=fn()){return/blackberry/i.test(n)}function Ox(n=fn()){return/webos/i.test(n)}function Gm(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $N(n=fn()){return Gm(n)&&!!window.navigator?.standalone}function HN(){return ok()&&document.documentMode===10}function Lx(n=fn()){return Gm(n)||Dx(n)||Ox(n)||jx(n)||/windows phone/i.test(n)||Mx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(n,e=[]){let t;switch(n){case"Browser":t=Q0(fn());break;case"Worker":t=`${Q0(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ri}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((c,h)=>{try{const p=e(a);c(p)}catch(p){h(p)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(n,e={}){return Ga(n,"GET","/v2/passwordPolicy",Hm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=6;class KN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??qN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y0(this),this.idTokenSubscription=new Y0(this),this.beforeStateQueue=new WN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ds(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ka.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Td(this,{idToken:e}),r=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(rr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(vi(this));const t=e?wn(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GN(this),t=new KN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await BN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ds(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[Ds(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,i);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rh(n){return wn(n)}class Y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=fk(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YN(n){qm=n}function XN(n){return qm.loadJS(n)}function JN(){return qm.gapiScript}function ZN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n,e){const t=nh(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(xi(a,e??{}))return i;ls(i,"already-initialized")}return t.initialize({options:e})}function tR(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ds);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function nR(n,e,t){const r=rh(n);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=Fx(e),{host:c,port:h}=rR(e),p=h===null?"":`:${h}`,g={url:`${a}//${c}${p}/`},_=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(xi(g,r.config.emulator)&&xi(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Ni(c)?(Om(`${a}//${c}${p}`),Lm("Auth",!0)):sR()}function Fx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function rR(n){const e=Fx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:X0(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:X0(c)}}}function X0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function sR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ms("not implemented")}_getIdTokenResponse(e){return Ms("not implemented")}_linkToIdToken(e,t){return Ms("not implemented")}_getReauthenticationResolver(e){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(n,e){return MN(n,"POST","/v1/accounts:signInWithIdp",Hm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="http://localhost";class Ei extends Ux{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ls("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const c=new Ei(r,i);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Na(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Na(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Na(e,t)}buildRequest(){const e={requestUri:oR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ec(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends Km{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Sc{constructor(){super("facebook.com")}static credential(e){return Ei._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ei._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Yr.credential(t,r)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Sc{constructor(){super("github.com")}static credential(e){return Ei._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.GITHUB_SIGN_IN_METHOD="github.com";_o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Sc{constructor(){super("twitter.com")}static credential(e,t){return Ei._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return xo.credential(t,r)}catch{return null}}}xo.TWITTER_SIGN_IN_METHOD="twitter.com";xo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await xr._fromIdTokenResponse(e,r,i),c=J0(r);return new Da({user:a,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=J0(r);return new Da({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function J0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends fs{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Id.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Id(e,t,r,i)}}function zx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Id._fromErrorAndOperation(n,a,e,r):a})}async function iR(n,e,t=!1){const r=await lc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Da._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(n,e,t=!1){const{auth:r}=n;if(rr(r.app))return Promise.reject(vi(r));const i="reauthenticate";try{const a=await lc(n,zx(r,i,e,n),t);Ve(a.idToken,r,"internal-error");const c=Wm(a.idToken);Ve(c,r,"internal-error");const{sub:h}=c;return Ve(n.uid===h,r,"user-mismatch"),Da._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&ls(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(n,e,t=!1){if(rr(n.app))return Promise.reject(vi(n));const r="signIn",i=await zx(n,r,e),a=await Da._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}function cR(n,e,t,r){return wn(n).onIdTokenChanged(e,t,r)}function uR(n,e,t){return wn(n).beforeAuthStateChanged(e,t)}function dR(n,e,t,r){return wn(n).onAuthStateChanged(e,t,r)}const Cd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cd,"1"),this.storage.removeItem(Cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=1e3,fR=10;class $x extends Bx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);HN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fR):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$x.type="LOCAL";const pR=$x;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx extends Bx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Hx.type="SESSION";const Wx=Hx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new sh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,c=this.handlersMap[i];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(c).map(async g=>g(t.origin,a)),p=await mR(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const g=Qm("",20);i.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(y){const x=y;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(x.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function yR(n){ts().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function vR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wR(){return navigator?.serviceWorker?.controller||null}function _R(){return Gx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="firebaseLocalStorageDb",xR=1,kd="firebaseLocalStorage",Kx="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function oh(n,e){return n.transaction([kd],e?"readwrite":"readonly").objectStore(kd)}function bR(){const n=indexedDB.deleteDatabase(qx);return new Ic(n).toPromise()}function Zp(){const n=indexedDB.open(qx,xR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(kd,{keyPath:Kx})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(kd)?e(r):(r.close(),await bR(),e(await Zp()))})})}async function Z0(n,e,t){const r=oh(n,!0).put({[Kx]:e,value:t});return new Ic(r).toPromise()}async function ER(n,e){const t=oh(n,!1).get(e),r=await new Ic(t).toPromise();return r===void 0?null:r.value}function ew(n,e){const t=oh(n,!0).delete(e);return new Ic(t).toPromise()}const TR=800,SR=3;class Qx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>SR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(_R()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vR(),!this.activeServiceWorker)return;this.sender=new gR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zp();return await Z0(e,Cd,"1"),await ew(e,Cd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Z0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>ER(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ew(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=oh(i,!1).getAll();return new Ic(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qx.type="LOCAL";const IR=Qx;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n,e){return e?Ds(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends Ux{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Na(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Na(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Na(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CR(n){return lR(n.auth,new Ym(n),n.bypassAuthState)}function kR(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),aR(t,new Ym(n),n.bypassAuthState)}async function NR(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),iR(t,new Ym(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CR;case"linkViaPopup":case"linkViaRedirect":return NR;case"reauthViaPopup":case"reauthViaRedirect":return kR;default:ls(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Tc(2e3,1e4);async function AR(n,e,t){if(rr(n.app))return Promise.reject(Tr(n,"operation-not-supported-in-this-environment"));const r=rh(n);IN(n,e,Km);const i=Yx(r,t);return new gi(r,"signInViaPopup",e,i).executeNotNull()}class gi extends Xx{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,gi.currentPopupAction&&gi.currentPopupAction.cancel(),gi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RR.get())};e()}}gi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="pendingRedirect",cd=new Map;class MR extends Xx{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=cd.get(this.auth._key());if(!e){try{const r=await DR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}cd.set(this.auth._key(),e)}return this.bypassAuthState||cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DR(n,e){const t=LR(e),r=OR(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function jR(n,e){cd.set(n._key(),e)}function OR(n){return Ds(n._redirectPersistence)}function LR(n){return ld(PR,n.config.apiKey,n.name)}async function VR(n,e,t=!1){if(rr(n.app))return Promise.reject(vi(n));const r=rh(n),i=Yx(r,e),c=await new MR(r,i,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=600*1e3;class UR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Jx(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Tr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FR&&this.cachedEventUids.clear(),this.cachedEventUids.has(tw(e))}saveEventToCache(e){this.cachedEventUids.add(tw(e)),this.lastProcessedEventTime=Date.now()}}function tw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Jx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function zR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(n,e={}){return Ga(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HR=/^https?/;async function WR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await BR(n);for(const t of e)try{if(GR(t))return}catch{}ls(n,"unauthorized-domain")}function GR(n){const e=Xp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!HR.test(t))return!1;if($R.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new Tc(3e4,6e4);function nw(){const n=ts().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function KR(n){return new Promise((e,t)=>{function r(){nw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nw(),t(Tr(n,"network-request-failed"))},timeout:qR.get()})}if(ts().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ts().gapi?.load)r();else{const i=ZN("iframefcb");return ts()[i]=()=>{gapi.load?r():t(Tr(n,"network-request-failed"))},XN(`${JN()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw ud=null,e})}let ud=null;function QR(n){return ud=ud||KR(n),ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Tc(5e3,15e3),XR="__/auth/iframe",JR="emulator/auth/iframe",ZR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tA(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$m(e,JR):`https://${n.config.authDomain}/${XR}`,r={apiKey:e.apiKey,appName:n.name,v:Ri},i=eA.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ec(r).slice(1)}`}async function nA(n){const e=await QR(n),t=ts().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:tA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZR,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const c=Tr(n,"network-request-failed"),h=ts().setTimeout(()=>{a(c)},YR.get());function p(){ts().clearTimeout(h),i(r)}r.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sA=500,oA=600,iA="_blank",aA="http://localhost";class rw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lA(n,e,t,r=sA,i=oA){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p={...rA,width:r.toString(),height:i.toString(),top:a,left:c},g=fn().toLowerCase();t&&(h=Px(g)?iA:t),Rx(g)&&(e=e||aA,p.scrollbars="yes");const _=Object.entries(p).reduce((x,[C,P])=>`${x}${C}=${P},`,"");if($N(g)&&h!=="_self")return cA(e||"",h),new rw(null);const y=window.open(e||"",h,_);Ve(y,n,"popup-blocked");try{y.focus()}catch{}return new rw(y)}function cA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="__/auth/handler",dA="emulator/auth/handler",hA=encodeURIComponent("fac");async function sw(n,e,t,r,i,a){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ri,eventId:i};if(e instanceof Km){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",hk(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,y]of Object.entries({}))c[_]=y}if(e instanceof Sc){const _=e.getScopes().filter(y=>y!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await n._getAppCheckToken(),g=p?`#${hA}=${encodeURIComponent(p)}`:"";return`${fA(n)}?${Ec(h).slice(1)}${g}`}function fA({config:n}){return n.emulator?$m(n,dA):`https://${n.authDomain}/${uA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="webStorageSupport";class pA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wx,this._completeRedirectFn=VR,this._overrideRedirectResult=jR}async _openPopup(e,t,r,i){Ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await sw(e,t,r,Xp(),i);return lA(e,a,Qm())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await sw(e,t,r,Xp(),i);return yR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Ls(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await nA(e),r=new UR(e);return t.register("authEvent",i=>(Ve(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vp,{type:vp},i=>{const a=i?.[0]?.[vp];a!==void 0&&t(!!a),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Lx()||Ax()||Gm()}}const mA=pA;var ow="@firebase/auth",iw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vA(n){bi(new ko("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vx(n)},g=new QN(r,i,a,p);return tR(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),bi(new ko("auth-internal",e=>{const t=rh(e.getProvider("auth").getImmediate());return(r=>new gA(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(ow,iw,yA(n)),es(ow,iw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=300,_A=gx("authIdTokenMaxAge")||wA;let aw=null;const xA=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>_A)return;const i=t?.token;aw!==i&&(aw=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bA(n=Um()){const e=nh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=eR(n,{popupRedirectResolver:mA,persistence:[IR,pR,Wx]}),r=gx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=xA(a.toString());uR(t,c,()=>c(t.currentUser)),cR(t,h=>c(h))}}const i=fx("auth");return i&&nR(t,`http://${i}`),t}function EA(){return document.getElementsByTagName("head")?.[0]??document}YN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Tr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",EA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vA("Browser");var TA="firebase",SA="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(TA,SA,"app");var lw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var So,Zx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function N(){}N.prototype=S.prototype,M.F=S.prototype,M.prototype=new N,M.prototype.constructor=M,M.D=function(j,O,F){for(var D=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)D[ye-2]=arguments[ye];return S.prototype[O].apply(j,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,S,N){N||(N=0);const j=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)j[O]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(O=0;O<16;++O)j[O]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=M.g[0],N=M.g[1],O=M.g[2];let F=M.g[3],D;D=S+(F^N&(O^F))+j[0]+3614090360&4294967295,S=N+(D<<7&4294967295|D>>>25),D=F+(O^S&(N^O))+j[1]+3905402710&4294967295,F=S+(D<<12&4294967295|D>>>20),D=O+(N^F&(S^N))+j[2]+606105819&4294967295,O=F+(D<<17&4294967295|D>>>15),D=N+(S^O&(F^S))+j[3]+3250441966&4294967295,N=O+(D<<22&4294967295|D>>>10),D=S+(F^N&(O^F))+j[4]+4118548399&4294967295,S=N+(D<<7&4294967295|D>>>25),D=F+(O^S&(N^O))+j[5]+1200080426&4294967295,F=S+(D<<12&4294967295|D>>>20),D=O+(N^F&(S^N))+j[6]+2821735955&4294967295,O=F+(D<<17&4294967295|D>>>15),D=N+(S^O&(F^S))+j[7]+4249261313&4294967295,N=O+(D<<22&4294967295|D>>>10),D=S+(F^N&(O^F))+j[8]+1770035416&4294967295,S=N+(D<<7&4294967295|D>>>25),D=F+(O^S&(N^O))+j[9]+2336552879&4294967295,F=S+(D<<12&4294967295|D>>>20),D=O+(N^F&(S^N))+j[10]+4294925233&4294967295,O=F+(D<<17&4294967295|D>>>15),D=N+(S^O&(F^S))+j[11]+2304563134&4294967295,N=O+(D<<22&4294967295|D>>>10),D=S+(F^N&(O^F))+j[12]+1804603682&4294967295,S=N+(D<<7&4294967295|D>>>25),D=F+(O^S&(N^O))+j[13]+4254626195&4294967295,F=S+(D<<12&4294967295|D>>>20),D=O+(N^F&(S^N))+j[14]+2792965006&4294967295,O=F+(D<<17&4294967295|D>>>15),D=N+(S^O&(F^S))+j[15]+1236535329&4294967295,N=O+(D<<22&4294967295|D>>>10),D=S+(O^F&(N^O))+j[1]+4129170786&4294967295,S=N+(D<<5&4294967295|D>>>27),D=F+(N^O&(S^N))+j[6]+3225465664&4294967295,F=S+(D<<9&4294967295|D>>>23),D=O+(S^N&(F^S))+j[11]+643717713&4294967295,O=F+(D<<14&4294967295|D>>>18),D=N+(F^S&(O^F))+j[0]+3921069994&4294967295,N=O+(D<<20&4294967295|D>>>12),D=S+(O^F&(N^O))+j[5]+3593408605&4294967295,S=N+(D<<5&4294967295|D>>>27),D=F+(N^O&(S^N))+j[10]+38016083&4294967295,F=S+(D<<9&4294967295|D>>>23),D=O+(S^N&(F^S))+j[15]+3634488961&4294967295,O=F+(D<<14&4294967295|D>>>18),D=N+(F^S&(O^F))+j[4]+3889429448&4294967295,N=O+(D<<20&4294967295|D>>>12),D=S+(O^F&(N^O))+j[9]+568446438&4294967295,S=N+(D<<5&4294967295|D>>>27),D=F+(N^O&(S^N))+j[14]+3275163606&4294967295,F=S+(D<<9&4294967295|D>>>23),D=O+(S^N&(F^S))+j[3]+4107603335&4294967295,O=F+(D<<14&4294967295|D>>>18),D=N+(F^S&(O^F))+j[8]+1163531501&4294967295,N=O+(D<<20&4294967295|D>>>12),D=S+(O^F&(N^O))+j[13]+2850285829&4294967295,S=N+(D<<5&4294967295|D>>>27),D=F+(N^O&(S^N))+j[2]+4243563512&4294967295,F=S+(D<<9&4294967295|D>>>23),D=O+(S^N&(F^S))+j[7]+1735328473&4294967295,O=F+(D<<14&4294967295|D>>>18),D=N+(F^S&(O^F))+j[12]+2368359562&4294967295,N=O+(D<<20&4294967295|D>>>12),D=S+(N^O^F)+j[5]+4294588738&4294967295,S=N+(D<<4&4294967295|D>>>28),D=F+(S^N^O)+j[8]+2272392833&4294967295,F=S+(D<<11&4294967295|D>>>21),D=O+(F^S^N)+j[11]+1839030562&4294967295,O=F+(D<<16&4294967295|D>>>16),D=N+(O^F^S)+j[14]+4259657740&4294967295,N=O+(D<<23&4294967295|D>>>9),D=S+(N^O^F)+j[1]+2763975236&4294967295,S=N+(D<<4&4294967295|D>>>28),D=F+(S^N^O)+j[4]+1272893353&4294967295,F=S+(D<<11&4294967295|D>>>21),D=O+(F^S^N)+j[7]+4139469664&4294967295,O=F+(D<<16&4294967295|D>>>16),D=N+(O^F^S)+j[10]+3200236656&4294967295,N=O+(D<<23&4294967295|D>>>9),D=S+(N^O^F)+j[13]+681279174&4294967295,S=N+(D<<4&4294967295|D>>>28),D=F+(S^N^O)+j[0]+3936430074&4294967295,F=S+(D<<11&4294967295|D>>>21),D=O+(F^S^N)+j[3]+3572445317&4294967295,O=F+(D<<16&4294967295|D>>>16),D=N+(O^F^S)+j[6]+76029189&4294967295,N=O+(D<<23&4294967295|D>>>9),D=S+(N^O^F)+j[9]+3654602809&4294967295,S=N+(D<<4&4294967295|D>>>28),D=F+(S^N^O)+j[12]+3873151461&4294967295,F=S+(D<<11&4294967295|D>>>21),D=O+(F^S^N)+j[15]+530742520&4294967295,O=F+(D<<16&4294967295|D>>>16),D=N+(O^F^S)+j[2]+3299628645&4294967295,N=O+(D<<23&4294967295|D>>>9),D=S+(O^(N|~F))+j[0]+4096336452&4294967295,S=N+(D<<6&4294967295|D>>>26),D=F+(N^(S|~O))+j[7]+1126891415&4294967295,F=S+(D<<10&4294967295|D>>>22),D=O+(S^(F|~N))+j[14]+2878612391&4294967295,O=F+(D<<15&4294967295|D>>>17),D=N+(F^(O|~S))+j[5]+4237533241&4294967295,N=O+(D<<21&4294967295|D>>>11),D=S+(O^(N|~F))+j[12]+1700485571&4294967295,S=N+(D<<6&4294967295|D>>>26),D=F+(N^(S|~O))+j[3]+2399980690&4294967295,F=S+(D<<10&4294967295|D>>>22),D=O+(S^(F|~N))+j[10]+4293915773&4294967295,O=F+(D<<15&4294967295|D>>>17),D=N+(F^(O|~S))+j[1]+2240044497&4294967295,N=O+(D<<21&4294967295|D>>>11),D=S+(O^(N|~F))+j[8]+1873313359&4294967295,S=N+(D<<6&4294967295|D>>>26),D=F+(N^(S|~O))+j[15]+4264355552&4294967295,F=S+(D<<10&4294967295|D>>>22),D=O+(S^(F|~N))+j[6]+2734768916&4294967295,O=F+(D<<15&4294967295|D>>>17),D=N+(F^(O|~S))+j[13]+1309151649&4294967295,N=O+(D<<21&4294967295|D>>>11),D=S+(O^(N|~F))+j[4]+4149444226&4294967295,S=N+(D<<6&4294967295|D>>>26),D=F+(N^(S|~O))+j[11]+3174756917&4294967295,F=S+(D<<10&4294967295|D>>>22),D=O+(S^(F|~N))+j[2]+718787259&4294967295,O=F+(D<<15&4294967295|D>>>17),D=N+(F^(O|~S))+j[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+F&4294967295}r.prototype.v=function(M,S){S===void 0&&(S=M.length);const N=S-this.blockSize,j=this.C;let O=this.h,F=0;for(;F<S;){if(O==0)for(;F<=N;)i(this,M,F),F+=this.blockSize;if(typeof M=="string"){for(;F<S;)if(j[O++]=M.charCodeAt(F++),O==this.blockSize){i(this,j),O=0;break}}else for(;F<S;)if(j[O++]=M[F++],O==this.blockSize){i(this,j),O=0;break}}this.h=O,this.o+=S},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;S=this.o*8;for(var N=M.length-8;N<M.length;++N)M[N]=S&255,S/=256;for(this.v(M),M=Array(16),S=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)M[S++]=this.g[N]>>>j&255;return M};function a(M,S){var N=h;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=S(M)}function c(M,S){this.h=S;const N=[];let j=!0;for(let O=M.length-1;O>=0;O--){const F=M[O]|0;j&&F==S||(N[O]=F,j=!1)}this.g=N}var h={};function p(M){return-128<=M&&M<128?a(M,function(S){return new c([S|0],S<0?-1:0)}):new c([M|0],M<0?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return y;if(M<0)return A(g(-M));const S=[];let N=1;for(let j=0;M>=N;j++)S[j]=M/N|0,N*=4294967296;return new c(S,0)}function _(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return A(_(M.substring(1),S));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(S,8));let j=y;for(let F=0;F<M.length;F+=8){var O=Math.min(8,M.length-F);const D=parseInt(M.substring(F,F+O),S);O<8?(O=g(Math.pow(S,O)),j=j.j(O).add(g(D))):(j=j.j(N),j=j.add(g(D)))}return j}var y=p(0),x=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(k(this))return-A(this).m();let M=0,S=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);M+=(j>=0?j:4294967296+j)*S,S*=4294967296}return M},n.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(P(this))return"0";if(k(this))return"-"+A(this).toString(M);const S=g(Math.pow(M,6));var N=this;let j="";for(;;){const O=W(N,S).g;N=V(N,O.j(S));let F=((N.g.length>0?N.g[0]:N.h)>>>0).toString(M);if(N=O,P(N))return F+j;for(;F.length<6;)F="0"+F;j=F+j}},n.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function P(M){if(M.h!=0)return!1;for(let S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function k(M){return M.h==-1}n.l=function(M){return M=V(this,M),k(M)?-1:P(M)?0:1};function A(M){const S=M.g.length,N=[];for(let j=0;j<S;j++)N[j]=~M.g[j];return new c(N,~M.h).add(x)}n.abs=function(){return k(this)?A(this):this},n.add=function(M){const S=Math.max(this.g.length,M.g.length),N=[];let j=0;for(let O=0;O<=S;O++){let F=j+(this.i(O)&65535)+(M.i(O)&65535),D=(F>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);j=D>>>16,F&=65535,D&=65535,N[O]=D<<16|F}return new c(N,N[N.length-1]&-2147483648?-1:0)};function V(M,S){return M.add(A(S))}n.j=function(M){if(P(this)||P(M))return y;if(k(this))return k(M)?A(this).j(A(M)):A(A(this).j(M));if(k(M))return A(this.j(A(M)));if(this.l(C)<0&&M.l(C)<0)return g(this.m()*M.m());const S=this.g.length+M.g.length,N=[];for(var j=0;j<2*S;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let O=0;O<M.g.length;O++){const F=this.i(j)>>>16,D=this.i(j)&65535,ye=M.i(O)>>>16,ke=M.i(O)&65535;N[2*j+2*O]+=D*ke,U(N,2*j+2*O),N[2*j+2*O+1]+=F*ke,U(N,2*j+2*O+1),N[2*j+2*O+1]+=D*ye,U(N,2*j+2*O+1),N[2*j+2*O+2]+=F*ye,U(N,2*j+2*O+2)}for(M=0;M<S;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=S;M<2*S;M++)N[M]=0;return new c(N,0)};function U(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function I(M,S){this.g=M,this.h=S}function W(M,S){if(P(S))throw Error("division by zero");if(P(M))return new I(y,y);if(k(M))return S=W(A(M),S),new I(A(S.g),A(S.h));if(k(S))return S=W(M,A(S)),new I(A(S.g),S.h);if(M.g.length>30){if(k(M)||k(S))throw Error("slowDivide_ only works with positive integers.");for(var N=x,j=S;j.l(M)<=0;)N=X(N),j=X(j);var O=ne(N,1),F=ne(j,1);for(j=ne(j,2),N=ne(N,2);!P(j);){var D=F.add(j);D.l(M)<=0&&(O=O.add(N),F=D),j=ne(j,1),N=ne(N,1)}return S=V(M,O.j(S)),new I(O,S)}for(O=y;M.l(S)>=0;){for(N=Math.max(1,Math.floor(M.m()/S.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),F=g(N),D=F.j(S);k(D)||D.l(M)>0;)N-=j,F=g(N),D=F.j(S);P(F)&&(F=x),O=O.add(F),M=V(M,D)}return new I(O,M)}n.B=function(M){return W(this,M).h},n.and=function(M){const S=Math.max(this.g.length,M.g.length),N=[];for(let j=0;j<S;j++)N[j]=this.i(j)&M.i(j);return new c(N,this.h&M.h)},n.or=function(M){const S=Math.max(this.g.length,M.g.length),N=[];for(let j=0;j<S;j++)N[j]=this.i(j)|M.i(j);return new c(N,this.h|M.h)},n.xor=function(M){const S=Math.max(this.g.length,M.g.length),N=[];for(let j=0;j<S;j++)N[j]=this.i(j)^M.i(j);return new c(N,this.h^M.h)};function X(M){const S=M.g.length+1,N=[];for(let j=0;j<S;j++)N[j]=M.i(j)<<1|M.i(j-1)>>>31;return new c(N,M.h)}function ne(M,S){const N=S>>5;S%=32;const j=M.g.length-N,O=[];for(let F=0;F<j;F++)O[F]=S>0?M.i(F+N)>>>S|M.i(F+N+1)<<32-S:M.i(F+N);return new c(O,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Zx=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,So=c}).apply(typeof lw<"u"?lw:typeof self<"u"?self:typeof window<"u"?window:{});var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e1,ql,t1,dd,em,n1,r1,s1;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ku=="object"&&Ku];for(var w=0;w<u.length;++w){var b=u[w];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function i(u,w){if(w)e:{var b=r;u=u.split(".");for(var R=0;R<u.length-1;R++){var q=u[R];if(!(q in b))break e;b=b[q]}u=u[u.length-1],R=b[u],w=w(R),w!=R&&w!=null&&e(b,u,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(w){var b=[],R;for(R in w)Object.prototype.hasOwnProperty.call(w,R)&&b.push([R,w[R]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function h(u){var w=typeof u;return w=="object"&&u!=null||w=="function"}function p(u,w,b){return u.call.apply(u.bind,arguments)}function g(u,w,b){return g=p,g.apply(null,arguments)}function _(u,w){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function y(u,w){function b(){}b.prototype=w.prototype,u.Z=w.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(R,q,Y){for(var me=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)me[Ue-2]=arguments[Ue];return w.prototype[q].apply(R,me)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function C(u){const w=u.length;if(w>0){const b=Array(w);for(let R=0;R<w;R++)b[R]=u[R];return b}return[]}function P(u,w){for(let R=1;R<arguments.length;R++){const q=arguments[R];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=u.length||0;const Y=q.length||0;u.length=b+Y;for(let me=0;me<Y;me++)u[b+me]=q[me]}else u.push(q)}}class k{constructor(w,b){this.i=w,this.j=b,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function A(u){c.setTimeout(()=>{throw u},0)}function V(){var u=M;let w=null;return u.g&&(w=u.g,u.g=u.g.next,u.g||(u.h=null),w.next=null),w}class U{constructor(){this.h=this.g=null}add(w,b){const R=I.get();R.set(w,b),this.h?this.h.next=R:this.g=R,this.h=R}}var I=new k(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(w,b){this.h=w,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ne=!1,M=new U,S=()=>{const u=Promise.resolve(void 0);X=()=>{u.then(N)}};function N(){for(var u;u=V();){try{u.h.call(u.g)}catch(b){A(b)}var w=I;w.j(u),w.h<100&&(w.h++,u.next=w.g,w.g=u)}ne=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,w){this.type=u,this.g=this.target=w,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,w=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};c.addEventListener("test",b,w),c.removeEventListener("test",b,w)}catch{}return u})();function D(u){return/^[\s\xa0]*$/.test(u)}function ye(u,w){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,w)}y(ye,O),ye.prototype.init=function(u,w){const b=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=w,w=u.relatedTarget,w||(b=="mouseover"?w=u.fromElement:b=="mouseout"&&(w=u.toElement)),this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ke="closure_listenable_"+(Math.random()*1e6|0),le=0;function pe(u,w,b,R,q){this.listener=u,this.proxy=null,this.src=w,this.type=b,this.capture=!!R,this.ha=q,this.key=++le,this.da=this.fa=!1}function H(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function J(u,w,b){for(const R in u)w.call(b,u[R],R,u)}function se(u,w){for(const b in u)w.call(void 0,u[b],b,u)}function B(u){const w={};for(const b in u)w[b]=u[b];return w}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,w){let b,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(b in R)u[b]=R[b];for(let Y=0;Y<Z.length;Y++)b=Z[Y],Object.prototype.hasOwnProperty.call(R,b)&&(u[b]=R[b])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,w,b,R,q){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const me=xe(u,w,R,q);return me>-1?(w=u[me],b||(w.fa=!1)):(w=new pe(w,this.src,Y,!!R,q),w.fa=b,u.push(w)),w};function ge(u,w){const b=w.type;if(b in u.g){var R=u.g[b],q=Array.prototype.indexOf.call(R,w,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(R,q,1),Y&&(H(w),u.g[b].length==0&&(delete u.g[b],u.h--))}}function xe(u,w,b,R){for(let q=0;q<u.length;++q){const Y=u[q];if(!Y.da&&Y.listener==w&&Y.capture==!!b&&Y.ha==R)return q}return-1}var ee="closure_lm_"+(Math.random()*1e6|0),fe={};function Ne(u,w,b,R,q){if(Array.isArray(w)){for(let Y=0;Y<w.length;Y++)Ne(u,w[Y],b,R,q);return null}return b=Bs(b),u&&u[ke]?u.J(w,b,h(R)?!!R.capture:!1,q):De(u,w,b,!1,R,q)}function De(u,w,b,R,q,Y){if(!w)throw Error("Invalid event type");const me=h(q)?!!q.capture:!!q;let Ue=Pn(u);if(Ue||(u[ee]=Ue=new ue(u)),b=Ue.add(w,b,R,me,Y),b.proxy)return b;if(R=Be(),b.proxy=R,R.src=u,R.listener=b,u.addEventListener)F||(q=me),q===void 0&&(q=!1),u.addEventListener(w.toString(),R,q);else if(u.attachEvent)u.attachEvent(Bt(w.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Be(){function u(b){return w.call(u.src,u.listener,b)}const w=kr;return u}function We(u,w,b,R,q){if(Array.isArray(w))for(var Y=0;Y<w.length;Y++)We(u,w[Y],b,R,q);else R=h(R)?!!R.capture:!!R,b=Bs(b),u&&u[ke]?(u=u.i,Y=String(w).toString(),Y in u.g&&(w=u.g[Y],b=xe(w,b,R,q),b>-1&&(H(w[b]),Array.prototype.splice.call(w,b,1),w.length==0&&(delete u.g[Y],u.h--)))):u&&(u=Pn(u))&&(w=u.g[w.toString()],u=-1,w&&(u=xe(w,b,R,q)),(b=u>-1?w[u]:null)&&vt(b))}function vt(u){if(typeof u!="number"&&u&&!u.da){var w=u.src;if(w&&w[ke])ge(w.i,u);else{var b=u.type,R=u.proxy;w.removeEventListener?w.removeEventListener(b,R,u.capture):w.detachEvent?w.detachEvent(Bt(b),R):w.addListener&&w.removeListener&&w.removeListener(R),(b=Pn(w))?(ge(b,u),b.h==0&&(b.src=null,w[ee]=null)):H(u)}}}function Bt(u){return u in fe?fe[u]:fe[u]="on"+u}function kr(u,w){if(u.da)u=!0;else{w=new ye(w,this);const b=u.listener,R=u.ha||u.src;u.fa&&vt(u),u=b.call(R,w)}return u}function Pn(u){return u=u[ee],u instanceof ue?u:null}var Qt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bs(u){return typeof u=="function"?u:(u[Qt]||(u[Qt]=function(w){return u.handleEvent(w)}),u[Qt])}function nt(){j.call(this),this.i=new ue(this),this.M=this,this.G=null}y(nt,j),nt.prototype[ke]=!0,nt.prototype.removeEventListener=function(u,w,b,R){We(this,u,w,b,R)};function wt(u,w){var b,R=u.G;if(R)for(b=[];R;R=R.G)b.push(R);if(u=u.M,R=w.type||w,typeof w=="string")w=new O(w,u);else if(w instanceof O)w.target=w.target||u;else{var q=w;w=new O(R,u),ie(w,q)}q=!0;let Y,me;if(b)for(me=b.length-1;me>=0;me--)Y=w.g=b[me],q=Mn(Y,R,!0,w)&&q;if(Y=w.g=u,q=Mn(Y,R,!0,w)&&q,q=Mn(Y,R,!1,w)&&q,b)for(me=0;me<b.length;me++)Y=w.g=b[me],q=Mn(Y,R,!1,w)&&q}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var u=this.i;for(const w in u.g){const b=u.g[w];for(let R=0;R<b.length;R++)H(b[R]);delete u.g[w],u.h--}}this.G=null},nt.prototype.J=function(u,w,b,R){return this.i.add(String(u),w,!1,b,R)},nt.prototype.K=function(u,w,b,R){return this.i.add(String(u),w,!0,b,R)};function Mn(u,w,b,R){if(w=u.i.g[String(w)],!w)return!0;w=w.concat();let q=!0;for(let Y=0;Y<w.length;++Y){const me=w[Y];if(me&&!me.da&&me.capture==b){const Ue=me.listener,It=me.ha||me.src;me.fa&&ge(u.i,me),q=Ue.call(It,R)!==!1&&q}}return q&&!R.defaultPrevented}function Lt(u,w){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:c.setTimeout(u,w||0)}function Gn(u){u.g=Lt(()=>{u.g=null,u.i&&(u.i=!1,Gn(u))},u.l);const w=u.h;u.h=null,u.m.apply(null,w)}class Li extends j{constructor(w,b){super(),this.m=w,this.l=b,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Gn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(u){j.call(this),this.h=u,this.g={}}y(Nr,j);var Rr=[];function $s(u){J(u.g,function(w,b){this.g.hasOwnProperty(b)&&vt(w)},u),u.g={}}Nr.prototype.N=function(){Nr.Z.N.call(this),$s(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=c.JSON.stringify,Hs=c.JSON.parse,xn=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function lr(){}function cr(){}var Ar={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ws(){O.call(this,"d")}y(Ws,O);function Gs(){O.call(this,"c")}y(Gs,O);var bn={},qs=null;function qn(){return qs=qs||new nt}bn.Ia="serverreachability";function mn(u){O.call(this,bn.Ia,u)}y(mn,O);function ur(u){const w=qn();wt(w,new mn(w))}bn.STAT_EVENT="statevent";function dr(u,w){O.call(this,bn.STAT_EVENT,u),this.stat=w}y(dr,O);function dt(u){const w=qn();wt(w,new dr(w,u))}bn.Ja="timingevent";function Ks(u,w){O.call(this,bn.Ja,u),this.size=w}y(Ks,O);function je(u,w){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},w)}function it(){this.g=!0}it.prototype.ua=function(){this.g=!1};function St(u,w,b,R,q,Y){u.info(function(){if(u.g)if(Y){var me="",Ue=Y.split("&");for(let st=0;st<Ue.length;st++){var It=Ue[st].split("=");if(It.length>1){const At=It[0];It=It[1];const Un=At.split("_");me=Un.length>=2&&Un[1]=="type"?me+(At+"="+It+"&"):me+(At+"=redacted&")}}}else me=null;else me=Y;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+w+`
`+b+`
`+me})}function $t(u,w,b,R,q,Y,me){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+w+`
`+b+`
`+Y+" "+me})}function gn(u,w,b,R){u.info(function(){return"XMLHTTP TEXT ("+w+"): "+Nt(u,b)+(R?" "+R:"")})}function Et(u,w){u.info(function(){return"TIMEOUT: "+w})}it.prototype.info=function(){};function Nt(u,w){if(!u.g)return w;if(!w)return null;try{const Y=JSON.parse(w);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var b=Y[u];if(!(b.length<2)){var R=b[1];if(Array.isArray(R)&&!(R.length<1)){var q=R[0];if(q!="noop"&&q!="stop"&&q!="close")for(let me=1;me<R.length;me++)R[me]=""}}}}return ar(Y)}catch{return w}}var Dn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rn;function Kn(){}y(Kn,lr),Kn.prototype.g=function(){return new XMLHttpRequest},rn=new Kn;function Ht(u){return encodeURIComponent(String(u))}function Bo(u){var w=1;u=u.split(":");const b=[];for(;w>0&&u.length;)b.push(u.shift()),w--;return u.length&&b.push(u.join(":")),b}function Qn(u,w,b,R){this.j=u,this.i=w,this.l=b,this.S=R||1,this.V=new Nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Oc}function Oc(){this.i=null,this.g="",this.h=!1}var Lc={},nl={};function hr(u,w,b){u.M=1,u.A=ys(Yn(w)),u.u=b,u.R=!0,rl(u,null)}function rl(u,w){u.F=Date.now(),$o(u),u.B=Yn(u.A);var b=u.B,R=u.S;Array.isArray(R)||(R=[String(R)]),fl(b.i,"t",R),u.C=0,b=u.j.L,u.h=new Oc,u.g=qc(u.j,b?w:null,!u.u),u.P>0&&(u.O=new Li(g(u.Y,u,u.g),u.P)),w=u.V,b=u.g,R=u.ba;var q="readystatechange";Array.isArray(q)||(q&&(Rr[0]=q.toString()),q=Rr);for(let Y=0;Y<q.length;Y++){const me=Ne(b,q[Y],R||w.handleEvent,!1,w.h||w);if(!me)break;w.g[me.key]=me}w=u.J?B(u.J):{},u.u?(u.v||(u.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,w)):(u.v="GET",u.g.ea(u.B,u.v,null,w)),ur(),St(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const w=this.O;w&&Vr(u)==3?w.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)e:{const Ue=Vr(this.g),It=this.g.ya(),st=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||Wc(this.g)))){this.K||Ue!=4||It==7||(It==8||st<=0?ur(3):ur(2)),Vi(this);var w=this.g.ca();this.X=w;var b=Vc(this);if(this.o=w==200,$t(this.i,this.v,this.B,this.l,this.S,Ue,w),this.o){if(this.U&&!this.L){t:{if(this.g){var R,q=this.g;if((R=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var Y=R;break t}}Y=null}if(u=Y)gn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ht(this,u);else{this.o=!1,this.m=3,dt(12),gs(this),Ho(this);break e}}if(this.R){u=!0;let At;for(;!this.K&&this.C<b.length;)if(At=Uc(this,b),At==nl){Ue==4&&(this.m=4,dt(14),u=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Lc){this.m=4,dt(15),gn(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else gn(this.i,this.l,At,null),ht(this,At);if(Fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||b.length!=0||this.h.h||(this.m=1,dt(16),u=!1),this.o=this.o&&u,!u)gn(this.i,this.l,b,"[Invalid Chunked Response]"),gs(this),Ho(this);else if(b.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Zo(me),me.P=!0,dt(11))}}else gn(this.i,this.l,b,null),ht(this,b);Ue==4&&gs(this),this.o&&!this.K&&(Ue==4?Ki(this.j,this):(this.o=!1,$o(this)))}else ml(this.g),w==400&&b.indexOf("Unknown SID")>0?(this.m=3,dt(12)):(this.m=0,dt(13)),gs(this),Ho(this)}}}catch{}finally{}};function Vc(u){if(!Fc(u))return u.g.la();const w=Wc(u.g);if(w==="")return"";let b="";const R=w.length,q=Vr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gs(u),Ho(u),"";u.h.i=new c.TextDecoder}for(let Y=0;Y<R;Y++)u.h.h=!0,b+=u.h.i.decode(w[Y],{stream:!(q&&Y==R-1)});return w.length=0,u.h.g+=b,u.C=0,u.h.g}function Fc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Uc(u,w){var b=u.C,R=w.indexOf(`
`,b);return R==-1?nl:(b=Number(w.substring(b,R)),isNaN(b)?Lc:(R+=1,R+b>w.length?nl:(w=w.slice(R,R+b),u.C=R+b,w)))}Qn.prototype.cancel=function(){this.K=!0,gs(this)};function $o(u){u.T=Date.now()+u.H,sl(u,u.H)}function sl(u,w){if(u.D!=null)throw Error("WatchDog timer not null");u.D=je(g(u.aa,u),w)}function Vi(u){u.D&&(c.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Et(this.i,this.B),this.M!=2&&(ur(),dt(17)),gs(this),this.m=2,Ho(this)):sl(this,this.T-u)};function Ho(u){u.j.I==0||u.K||Ki(u.j,u)}function gs(u){Vi(u);var w=u.O;w&&typeof w.dispose=="function"&&w.dispose(),u.O=null,$s(u.V),u.g&&(w=u.g,u.g=null,w.abort(),w.dispose())}function ht(u,w){try{var b=u.j;if(b.I!=0&&(b.g==u||il(b.h,u))){if(!u.L&&il(b.h,u)&&b.I==3){try{var R=b.Ba.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)qi(b),Vn(b);else break e;zr(b),dt(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=je(g(b.Va,b),6e3));Wo(b.h)<=1&&b.ta&&(b.ta=void 0)}else Fn(b,11)}else if((u.L||b.g==u)&&qi(b),!D(w))for(q=b.Ba.g.parse(w),w=0;w<q.length;w++){let st=q[w];const At=st[0];if(!(At<=b.K))if(b.K=At,st=st[1],b.I==2)if(st[0]=="c"){b.M=st[1],b.ba=st[2];const Un=st[3];Un!=null&&(b.ka=Un,b.j.info("VER="+b.ka));const bs=st[4];bs!=null&&(b.za=bs,b.j.info("SVER="+b.za));const Br=st[5];Br!=null&&typeof Br=="number"&&Br>0&&(R=1.5*Br,b.O=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const $r=u.g;if($r){const Xi=$r.g?$r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xi){var Y=R.h;Y.g||Xi.indexOf("spdy")==-1&&Xi.indexOf("quic")==-1&&Xi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ui(Y,Y.h),Y.h=null))}if(R.G){const vl=$r.g?$r.g.getResponseHeader("X-HTTP-Session-Id"):null;vl&&(R.wa=vl,tt(R.J,R.G,vl))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),R=b;var me=u;if(R.na=yl(R,R.L?R.ba:null,R.W),me.L){Go(R.h,me);var Ue=me,It=R.O;It&&(Ue.H=It),Ue.D&&(Vi(Ue),$o(Ue)),R.g=me}else sn(R);b.i.length>0&&xs(b)}else st[0]!="stop"&&st[0]!="close"||Fn(b,7);else b.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Fn(b,7):Wi(b):st[0]!="noop"&&b.l&&b.l.qa(st),b.A=0)}}ur(4)}catch{}}var Dh=class{constructor(u,w){this.g=u,this.map=w}};function Fi(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ol(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wo(u){return u.h?1:u.g?u.g.size:0}function il(u,w){return u.h?u.h==w:u.g?u.g.has(w):!1}function Ui(u,w){u.g?u.g.add(w):u.h=w}function Go(u,w){u.h&&u.h==w?u.h=null:u.g&&u.g.has(w)&&u.g.delete(w)}Fi.prototype.cancel=function(){if(this.i=jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let w=u.i;for(const b of u.g.values())w=w.concat(b.G);return w}return C(u.i)}var zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function On(u,w){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const R=u[b].indexOf("=");let q,Y=null;R>=0?(q=u[b].substring(0,R),Y=u[b].substring(R+1)):q=u[b],w(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Pr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;u instanceof Pr?(this.l=u.l,qo(this,u.j),this.o=u.o,this.g=u.g,Mr(this,u.u),this.h=u.h,Qs(this,pl(u.i)),this.m=u.m):u&&(w=String(u).match(zc))?(this.l=!1,qo(this,w[1]||"",!0),this.o=Ko(w[2]||""),this.g=Ko(w[3]||"",!0),Mr(this,w[4]),this.h=Ko(w[5]||"",!0),Qs(this,w[6]||"",!0),this.m=Ko(w[7]||"")):(this.l=!1,this.i=new Ye(null,this.l))}Pr.prototype.toString=function(){const u=[];var w=this.j;w&&u.push(Qo(w,ll,!0),":");var b=this.g;return(b||w=="file")&&(u.push("//"),(w=this.o)&&u.push(Qo(w,ll,!0),"@"),u.push(Ht(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Qo(b,b.charAt(0)=="/"?Yo:cl,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Qo(b,ul)),u.join("")},Pr.prototype.resolve=function(u){const w=Yn(this);let b=!!u.j;b?qo(w,u.j):b=!!u.o,b?w.o=u.o:b=!!u.g,b?w.g=u.g:b=u.u!=null;var R=u.h;if(b)Mr(w,u.u);else if(b=!!u.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var q=w.h.lastIndexOf("/");q!=-1&&(R=w.h.slice(0,q+1)+R)}if(q=R,q==".."||q==".")R="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){R=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let me=0;me<q.length;){const Ue=q[me++];Ue=="."?R&&me==q.length&&Y.push(""):Ue==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),R&&me==q.length&&Y.push("")):(Y.push(Ue),R=!0)}R=Y.join("/")}else R=q}return b?w.h=R:b=u.i.toString()!=="",b?Qs(w,pl(u.i)):b=!!u.m,b&&(w.m=u.m),w};function Yn(u){return new Pr(u)}function qo(u,w,b){u.j=b?Ko(w,!0):w,u.j&&(u.j=u.j.replace(/:$/,""))}function Mr(u,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);u.u=w}else u.u=null}function Qs(u,w,b){w instanceof Ye?(u.i=w,Bi(u.i,u.l)):(b||(w=Qo(w,jh)),u.i=new Ye(w,u.l))}function tt(u,w,b){u.i.set(w,b)}function ys(u){return tt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ko(u,w){return u?w?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qo(u,w,b){return typeof u=="string"?(u=encodeURI(u).replace(w,al),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function al(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ll=/[#\/\?@]/g,cl=/[#\?:]/g,Yo=/[#\?]/g,jh=/[#\?@]/g,ul=/#/g;function Ye(u,w){this.h=this.g=null,this.i=u||null,this.j=!!w}function Dr(u){u.g||(u.g=new Map,u.h=0,u.i&&On(u.i,function(w,b){u.add(decodeURIComponent(w.replace(/\+/g," ")),b)}))}n=Ye.prototype,n.add=function(u,w){Dr(this),this.i=null,u=jr(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(w),this.h+=1,this};function dl(u,w){Dr(u),w=jr(u,w),u.g.has(w)&&(u.i=null,u.h-=u.g.get(w).length,u.g.delete(w))}function zi(u,w){return Dr(u),w=jr(u,w),u.g.has(w)}n.forEach=function(u,w){Dr(this),this.g.forEach(function(b,R){b.forEach(function(q){u.call(w,q,R,this)},this)},this)};function hl(u,w){Dr(u);let b=[];if(typeof w=="string")zi(u,w)&&(b=b.concat(u.g.get(jr(u,w))));else for(u=Array.from(u.g.values()),w=0;w<u.length;w++)b=b.concat(u[w]);return b}n.set=function(u,w){return Dr(this),this.i=null,u=jr(this,u),zi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[w]),this.h+=1,this},n.get=function(u,w){return u?(u=hl(this,u),u.length>0?String(u[0]):w):w};function fl(u,w,b){dl(u,w),b.length>0&&(u.i=null,u.g.set(jr(u,w),C(b)),u.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],w=Array.from(this.g.keys());for(let R=0;R<w.length;R++){var b=w[R];const q=Ht(b);b=hl(this,b);for(let Y=0;Y<b.length;Y++){let me=q;b[Y]!==""&&(me+="="+Ht(b[Y])),u.push(me)}}return this.i=u.join("&")};function pl(u){const w=new Ye;return w.i=u.i,u.g&&(w.g=new Map(u.g),w.h=u.h),w}function jr(u,w){return w=String(w),u.j&&(w=w.toLowerCase()),w}function Bi(u,w){w&&!u.j&&(Dr(u),u.i=null,u.g.forEach(function(b,R){const q=R.toLowerCase();R!=q&&(dl(this,R),fl(this,q,b))},u)),u.j=w}function Or(u,w){const b=new it;if(c.Image){const R=new Image;R.onload=_(Yt,b,"TestLoadImage: loaded",!0,w,R),R.onerror=_(Yt,b,"TestLoadImage: error",!1,w,R),R.onabort=_(Yt,b,"TestLoadImage: abort",!1,w,R),R.ontimeout=_(Yt,b,"TestLoadImage: timeout",!1,w,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else w(!1)}function Lr(u,w){const b=new it,R=new AbortController,q=setTimeout(()=>{R.abort(),Yt(b,"TestPingServer: timeout",!1,w)},1e4);fetch(u,{signal:R.signal}).then(Y=>{clearTimeout(q),Y.ok?Yt(b,"TestPingServer: ok",!0,w):Yt(b,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(q),Yt(b,"TestPingServer: error",!1,w)})}function Yt(u,w,b,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(b)}catch{}}function Xo(){this.g=new xn}function vs(u){this.i=u.Sb||null,this.h=u.ab||!1}y(vs,lr),vs.prototype.g=function(){return new Ln(this.i,this.h)};function Ln(u,w){nt.call(this),this.H=u,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Ln,nt),n=Ln.prototype,n.open=function(u,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=w,this.readyState=1,fr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(w.body=u),(this.H||c).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bc(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Bc(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var w=u.value?u.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!u.done}))&&(this.response=this.responseText+=w)}u.done?Ys(this):fr(this),this.readyState==3&&Bc(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,Ys(this))},n.Na=function(u){this.g&&(this.response=u,Ys(this))},n.ga=function(){this.g&&Ys(this)};function Ys(u){u.readyState=4,u.l=null,u.j=null,u.B=null,fr(u)}n.setRequestHeader=function(u,w){this.A.append(u,w)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],w=this.h.entries();for(var b=w.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=w.next();return u.join(`\r
`)};function fr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ln.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $c(u){let w="";return J(u,function(b,R){w+=R,w+=":",w+=b,w+=`\r
`}),w}function $i(u,w,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=$c(b),typeof u=="string"?b!=null&&Ht(b):tt(u,w,b))}function at(u){nt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(at,nt);var Hc=/^https?$/i,Oh=["POST","PUT"];n=at.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,w,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);w=w?w.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rn.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(w,String(u),!0),this.B=!1}catch(Y){Xs(this,Y);return}if(u=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)b.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Y of R.keys())b.set(Y,R.get(Y));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(Oh,w,void 0)>=0)||R||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,me]of b)this.g.setRequestHeader(Y,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){Xs(this,Y)}};function Xs(u,w){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=w,u.o=5,Js(u),_s(u)}function Js(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,wt(this,"complete"),wt(this,"abort"),_s(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_s(this,!0)),at.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},n.Xa=function(){ws(this)};function ws(u){if(u.h&&typeof a<"u"){if(u.v&&Vr(u)==4)setTimeout(u.Ca.bind(u),0);else if(wt(u,"readystatechange"),Vr(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var b;if(!(b=w)){var R;if(R=Y===0){let me=String(u.D).match(zc)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),R=!Hc.test(me?me.toLowerCase():"")}b=R}if(b)wt(u,"complete"),wt(u,"success");else{u.o=6;try{var q=Vr(u)>2?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.ca()+"]",Js(u)}}finally{_s(u)}}}}function _s(u,w){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,w||wt(u,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Vr(u){return u.g?u.g.readyState:0}n.ca=function(){try{return Vr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var w=this.g.responseText;return u&&w.indexOf(u)==0&&(w=w.substring(u.length)),Hs(w)}};function Wc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ml(u){const w={};u=(u.g&&Vr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(D(u[R]))continue;var b=Bo(u[R]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=w[q]||[];w[q]=Y,Y.push(b)}se(w,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(u,w,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||w}function Hi(u){this.za=0,this.i=[],this.j=new it,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fr("baseRetryDelayMs",5e3,u),this.Za=Fr("retryDelaySeedMs",1e4,u),this.Ta=Fr("forwardChannelMaxRetries",2,u),this.va=Fr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Fi(u&&u.concurrentRequestLimit),this.Ba=new Xo,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Hi.prototype,n.ka=8,n.I=1,n.connect=function(u,w,b,R){dt(0),this.W=u,this.H=w||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.J=yl(this,null,this.W),xs(this)};function Wi(u){if(Gi(u),u.I==3){var w=u.V++,b=Yn(u.J);if(tt(b,"SID",u.M),tt(b,"RID",w),tt(b,"TYPE","terminate"),Ur(u,b),w=new Qn(u,u.j,w),w.M=2,w.A=ys(Yn(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(w.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=w.A,b=!0),b||(w.g=qc(w.j,null),w.g.ea(w.A)),w.F=Date.now(),$o(w)}ei(u)}function Vn(u){u.g&&(Zo(u),u.g.cancel(),u.g=null)}function Gi(u){Vn(u),u.v&&(c.clearTimeout(u.v),u.v=null),qi(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function xs(u){if(!ol(u.h)&&!u.m){u.m=!0;var w=u.Ea;X||S(),ne||(X(),ne=!0),M.add(w,u),u.D=0}}function Gc(u,w){return Wo(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=w.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=je(g(u.Ea,u,w),Qi(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const q=new Qn(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=B(Y),ie(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var w=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,w>4096){w=b;break e}if(w===4096||b===this.i.length-1){w=b+1;break e}}w=1e3}else w=1e3;w=gl(this,q,w),b=Yn(this.J),tt(b,"RID",u),tt(b,"CVER",22),this.G&&tt(b,"X-HTTP-Session-Id",this.G),Ur(this,b),Y&&(this.R?w="headers="+Ht($c(Y))+"&"+w:this.u&&$i(b,this.u,Y)),Ui(this.h,q),this.Ra&&tt(b,"TYPE","init"),this.S?(tt(b,"$req",w),tt(b,"SID","null"),q.U=!0,hr(q,b,null)):hr(q,b,w),this.I=2}}else this.I==3&&(u?Jo(this,u):this.i.length==0||ol(this.h)||Jo(this))};function Jo(u,w){var b;w?b=w.l:b=u.V++;const R=Yn(u.J);tt(R,"SID",u.M),tt(R,"RID",b),tt(R,"AID",u.K),Ur(u,R),u.u&&u.o&&$i(R,u.u,u.o),b=new Qn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),w&&(u.i=w.G.concat(u.i)),w=gl(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ui(u.h,b),hr(b,R,w)}function Ur(u,w){u.H&&J(u.H,function(b,R){tt(w,R,b)}),u.l&&J({},function(b,R){tt(w,R,b)})}function gl(u,w,b){b=Math.min(u.i.length,b);const R=u.l?g(u.l.Ka,u.l,u):null;e:{var q=u.i;let Ue=-1;for(;;){const It=["count="+b];Ue==-1?b>0?(Ue=q[0].g,It.push("ofs="+Ue)):Ue=0:It.push("ofs="+Ue);let st=!0;for(let At=0;At<b;At++){var Y=q[At].g;const Un=q[At].map;if(Y-=Ue,Y<0)Ue=Math.max(0,q[At].g-100),st=!1;else try{Y="req"+Y+"_"||"";try{var me=Un instanceof Map?Un:Object.entries(Un);for(const[bs,Br]of me){let $r=Br;h(Br)&&($r=ar(Br)),It.push(Y+bs+"="+encodeURIComponent($r))}}catch(bs){throw It.push(Y+"type="+encodeURIComponent("_badmap")),bs}}catch{R&&R(Un)}}if(st){me=It.join("&");break e}}me=void 0}return u=u.i.splice(0,b),w.G=u,me}function sn(u){if(!u.g&&!u.v){u.Y=1;var w=u.Da;X||S(),ne||(X(),ne=!0),M.add(w,u),u.A=0}}function zr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=je(g(u.Da,u),Qi(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,Zs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=je(g(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dt(10),Vn(this),Zs(this))};function Zo(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function Zs(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var w=Yn(u.na);tt(w,"RID","rpc"),tt(w,"SID",u.M),tt(w,"AID",u.K),tt(w,"CI",u.F?"0":"1"),!u.F&&u.ia&&tt(w,"TO",u.ia),tt(w,"TYPE","xmlhttp"),Ur(u,w),u.u&&u.o&&$i(w,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=ys(Yn(w)),b.u=null,b.R=!0,rl(b,u)}n.Va=function(){this.C!=null&&(this.C=null,Vn(this),zr(this),dt(19))};function qi(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function Ki(u,w){var b=null;if(u.g==w){qi(u),Zo(u),u.g=null;var R=2}else if(il(u.h,w))b=w.G,Go(u.h,w),R=1;else return;if(u.I!=0){if(w.o)if(R==1){b=w.u?w.u.length:0,w=Date.now()-w.F;var q=u.D;R=qn(),wt(R,new Ks(R,b)),xs(u)}else sn(u);else if(q=w.m,q==3||q==0&&w.X>0||!(R==1&&Gc(u,w)||R==2&&zr(u)))switch(b&&b.length>0&&(w=u.h,w.i=w.i.concat(b)),q){case 1:Fn(u,5);break;case 4:Fn(u,10);break;case 3:Fn(u,6);break;default:Fn(u,2)}}}function Qi(u,w){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*w}function Fn(u,w){if(u.j.info("Error code "+w),w==2){var b=g(u.bb,u),R=u.Ua;const q=!R;R=new Pr(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qo(R,"https"),ys(R),q?Or(R.toString(),b):Lr(R.toString(),b)}else dt(2);u.I=0,u.l&&u.l.pa(w),ei(u),Gi(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function ei(u){if(u.I=0,u.ja=[],u.l){const w=jn(u.h);(w.length!=0||u.i.length!=0)&&(P(u.ja,w),P(u.ja,u.i),u.h.i.length=0,C(u.i),u.i.length=0),u.l.oa()}}function yl(u,w,b){var R=b instanceof Pr?Yn(b):new Pr(b);if(R.g!="")w&&(R.g=w+"."+R.g),Mr(R,R.u);else{var q=c.location;R=q.protocol,w=w?w+"."+q.hostname:q.hostname,q=+q.port;const Y=new Pr(null);R&&qo(Y,R),w&&(Y.g=w),q&&Mr(Y,q),b&&(Y.h=b),R=Y}return b=u.G,w=u.wa,b&&w&&tt(R,b,w),tt(R,"VER",u.ka),Ur(u,R),R}function qc(u,w,b){if(w&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=u.Aa&&!u.ma?new at(new vs({ab:b})):new at(u.ma),w.Fa(u.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kc(){}n=Kc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Yi(){}Yi.prototype.g=function(u,w){return new Xt(u,w)};function Xt(u,w){nt.call(this),this.g=new Hi(w),this.l=u,this.h=w&&w.messageUrlParams||null,u=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(u?u["X-WebChannel-Content-Type"]=w.messageContentType:u={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(u?u["X-WebChannel-Client-Profile"]=w.sa:u={"X-WebChannel-Client-Profile":w.sa}),this.g.U=u,(u=w&&w.Qb)&&!D(u)&&(this.g.u=u),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!D(w)&&(this.g.G=w,u=this.h,u!==null&&w in u&&(u=this.h,w in u&&delete u[w])),this.j=new eo(this)}y(Xt,nt),Xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Wi(this.g)},Xt.prototype.o=function(u){var w=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=ar(u),u=b);w.i.push(new Dh(w.Ya++,u)),w.I==3&&xs(w)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Wi(this.g),delete this.g,Xt.Z.N.call(this)};function Qc(u){Ws.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var w=u.__sm__;if(w){e:{for(const b in w){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,w=w!==null&&u in w?w[u]:void 0),this.data=w}else this.data=u}y(Qc,Ws);function Yc(){Gs.call(this),this.status=1}y(Yc,Gs);function eo(u){this.g=u}y(eo,Kc),eo.prototype.ra=function(){wt(this.g,"a")},eo.prototype.qa=function(u){wt(this.g,new Qc(u))},eo.prototype.pa=function(u){wt(this.g,new Yc)},eo.prototype.oa=function(){wt(this.g,"b")},Yi.prototype.createWebChannel=Yi.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,s1=function(){return new Yi},r1=function(){return qn()},n1=bn,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dn.NO_ERROR=0,Dn.TIMEOUT=8,Dn.HTTP_ERROR=6,dd=Dn,Rt.COMPLETE="complete",t1=Rt,cr.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",nt.prototype.listen=nt.prototype.J,ql=cr,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,e1=at}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});const cw="@firebase/firestore",uw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Vm("@firebase/firestore");function Ea(){return Ti.logLevel}function _e(n,...e){if(Ti.logLevel<=qe.DEBUG){const t=e.map(Xm);Ti.debug(`Firestore (${qa}): ${n}`,...t)}}function Vs(n,...e){if(Ti.logLevel<=qe.ERROR){const t=e.map(Xm);Ti.error(`Firestore (${qa}): ${n}`,...t)}}function ja(n,...e){if(Ti.logLevel<=qe.WARN){const t=e.map(Xm);Ti.warn(`Firestore (${qa}): ${n}`,...t)}}function Xm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,o1(n,r,t)}function o1(n,e,t){let r=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Vs(r),new Error(r)}function rt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||o1(e,i,r)}function ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends fs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(dn.UNAUTHENTICATED)))}shutdown(){}}class CA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class kA{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let r=this.i;const i=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let a=new Io;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Io,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await i(this.currentUser)}))},h=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Io)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new i1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class NA{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RA{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new NA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);const r=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new dw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=PA(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function tm(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return wp(i)===wp(a)?Ke(i,a):wp(i)?1:-1}return Ke(n.length,e.length)}const MA=55296,DA=57343;function wp(n){const e=n.charCodeAt(0);return e>=MA&&e<=DA}function Oa(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="__name__";class Qr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Qr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Ke(e.length,t.length)}static compareSegments(e,t){const r=Qr.isNumericId(e),i=Qr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):tm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return So.fromString(e.substring(4,e.length-2))}}class ut extends Qr{construct(e,t,r){return new ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new ut(t)}static emptyPath(){return new ut([])}}const jA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Qr{construct(e,t,r){return new tn(e,t,r)}static isValidIdentifier(e){return jA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hw}static keyField(){return new tn([hw])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new we(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new we(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new we(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else h==="`"?(c=!c,i++):h!=="."||c?(r+=h,i++):(a(),i++)}if(a(),c)throw new we(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ut.fromString(e))}static fromName(e){return new Re(ut.fromString(e).popFirst(5))}static empty(){return new Re(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(n,e,t){if(!t)throw new we(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OA(n,e,t,r){if(e===!0&&r===!0)throw new we(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fw(n){if(!Re.isDocumentKey(n))throw new we(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pw(n){if(Re.isDocumentKey(n))throw new we(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function l1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ih(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function js(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ih(n);throw new we(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Cc(n,e){if(!l1(n))throw new we(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(i&&typeof c!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new we(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=-62135596800,gw=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*gw);return new mt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mw)throw new we(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gw}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cc(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:jt("string",mt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new mt(0,0))}static max(){return new Fe(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=-1;function LA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new mt(t+1,0):new mt(t,r));return new No(i,Re.empty(),e)}function VA(n){return new No(n.readTime,n.key,cc)}class No{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new No(Fe.min(),Re.empty(),cc)}static max(){return new No(Fe.max(),Re.empty(),cc)}}function FA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==UA)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,r)=>{t(e)}))}static reject(e){return new re(((t,r)=>{r(e)}))}static waitFor(e){return new re(((t,r)=>{let i=0,a=0,c=!1;e.forEach((h=>{++i,h.next((()=>{++a,c&&a===i&&t()}),(p=>r(p)))})),c=!0,a===i&&t()}))}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next((i=>i?re.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,a)=>{r.push(t.call(this,i,a))})),this.waitFor(r)}static mapArray(e,t){return new re(((r,i)=>{const a=e.length,c=new Array(a);let h=0;for(let p=0;p<a;p++){const g=p;t(e[g]).next((_=>{c[g]=_,++h,h===a&&r(c)}),(_=>i(_)))}}))}static doWhile(e,t){return new re(((r,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):r()};a()}))}}function BA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=-1;function lh(n){return n==null}function Nd(n){return n===0&&1/n==-1/0}function $A(n){return typeof n=="number"&&Number.isInteger(n)&&!Nd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="";function HA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yw(e)),e=WA(n.get(t),e);return yw(e)}function WA(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case c1:t+="";break;default:t+=a}}return t}function yw(n){return n+c1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ai(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function u1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??en.RED,this.left=i??en.EMPTY,this.right=a??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new en(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return en.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ww(this.data.getIterator())}getIteratorFrom(e){return new ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new br([])}unionWith(e){let t=new zt(tn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oa(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new d1("Invalid base64 string: "+a):a}})(e);return new nn(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a})(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const GA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(n){if(rt(!!n,39018),typeof n=="string"){let e=0;const t=GA.exec(n);if(rt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ao(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="server_timestamp",f1="__type__",p1="__previous_value__",m1="__local_write_time__";function eg(n){return(n?.mapValue?.fields||{})[f1]?.stringValue===h1}function ch(n){const e=n.mapValue.fields[p1];return eg(e)?ch(e):e}function uc(n){const e=Ro(n.mapValue.fields[m1].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t,r,i,a,c,h,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Rd="(default)";class dc{constructor(e,t){this.projectId=e,this.database=t||Rd}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===Rd}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="__type__",KA="__max__",Yu={mapValue:{}},y1="__vector__",Ad="value";function Po(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?eg(n)?4:YA(n)?9007199254740991:QA(n)?10:11:Oe(28295,{value:n})}function cs(n,e){if(n===e)return!0;const t=Po(n);if(t!==Po(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return uc(n).isEqual(uc(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=Ro(i.timestampValue),h=Ro(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,a){return Ao(i.bytesValue).isEqual(Ao(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,a){return kt(i.geoPointValue.latitude)===kt(a.geoPointValue.latitude)&&kt(i.geoPointValue.longitude)===kt(a.geoPointValue.longitude)})(n,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return kt(i.integerValue)===kt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=kt(i.doubleValue),h=kt(a.doubleValue);return c===h?Nd(c)===Nd(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return Oa(n.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:case 11:return(function(i,a){const c=i.mapValue.fields||{},h=a.mapValue.fields||{};if(vw(c)!==vw(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!cs(c[p],h[p])))return!1;return!0})(n,e);default:return Oe(52216,{left:n})}}function hc(n,e){return(n.values||[]).find((t=>cs(t,e)))!==void 0}function La(n,e){if(n===e)return 0;const t=Po(n),r=Po(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=kt(a.integerValue||a.doubleValue),p=kt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(n,e);case 3:return _w(n.timestampValue,e.timestampValue);case 4:return _w(uc(n),uc(e));case 5:return tm(n.stringValue,e.stringValue);case 6:return(function(a,c){const h=Ao(a),p=Ao(c);return h.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),p=c.split("/");for(let g=0;g<h.length&&g<p.length;g++){const _=Ke(h[g],p[g]);if(_!==0)return _}return Ke(h.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=Ke(kt(a.latitude),kt(c.latitude));return h!==0?h:Ke(kt(a.longitude),kt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return xw(n.arrayValue,e.arrayValue);case 10:return(function(a,c){const h=a.fields||{},p=c.fields||{},g=h[Ad]?.arrayValue,_=p[Ad]?.arrayValue,y=Ke(g?.values?.length||0,_?.values?.length||0);return y!==0?y:xw(g,_)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Yu.mapValue&&c===Yu.mapValue)return 0;if(a===Yu.mapValue)return 1;if(c===Yu.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let y=0;y<p.length&&y<_.length;++y){const x=tm(p[y],_[y]);if(x!==0)return x;const C=La(h[p[y]],g[_[y]]);if(C!==0)return C}return Ke(p.length,_.length)})(n.mapValue,e.mapValue);default:throw Oe(23264,{he:t})}}function _w(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=Ro(n),r=Ro(e),i=Ke(t.seconds,r.seconds);return i!==0?i:Ke(t.nanos,r.nanos)}function xw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=La(t[i],r[i]);if(a)return a}return Ke(t.length,r.length)}function Va(n){return nm(n)}function nm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ro(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ao(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Re.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=nm(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const c of r)a?a=!1:i+=",",i+=`${c}:${nm(t.fields[c])}`;return i+"}"})(n.mapValue):Oe(61005,{value:n})}function hd(n){switch(Po(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ch(n);return e?16+hd(e):16;case 5:return 2*n.stringValue.length;case 6:return Ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+hd(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ai(r.fields,((a,c)=>{i+=a.length+hd(c)})),i})(n.mapValue);default:throw Oe(13486,{value:n})}}function bw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function rm(n){return!!n&&"integerValue"in n}function tg(n){return!!n&&"arrayValue"in n}function Ew(n){return!!n&&"nullValue"in n}function Tw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fd(n){return!!n&&"mapValue"in n}function QA(n){return(n?.mapValue?.fields||{})[g1]?.stringValue===y1}function nc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ai(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=nc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nc(n.arrayValue.values[t]);return e}return{...n}}function YA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!fd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(t)}setAll(e){let t=tn.emptyPath(),r={},i=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=nc(c):i.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());fd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ai(t,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new sr(nc(this.value))}}function v1(n){const e=[];return Ai(n.fields,((t,r)=>{const i=new tn([t]);if(fd(r)){const a=v1(r.mapValue).fields;if(a.length===0)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)})),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t,r,i,a,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new hn(e,0,Fe.min(),Fe.min(),Fe.min(),sr.empty(),0)}static newFoundDocument(e,t,r,i){return new hn(e,1,t,Fe.min(),r,i,0)}static newNoDocument(e,t){return new hn(e,2,t,Fe.min(),Fe.min(),sr.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Fe.min(),Fe.min(),sr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t){this.position=e,this.inclusive=t}}function Sw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(a.field.isKeyField()?r=Re.comparator(Re.fromName(c.referenceValue),t.key):r=La(c,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Iw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function XA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{}class Dt extends w1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ZA(e,t,r):t==="array-contains"?new nP(e,r):t==="in"?new rP(e,r):t==="not-in"?new sP(e,r):t==="array-contains-any"?new oP(e,r):new Dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new eP(e,r):new tP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(La(t,this.value)):t!==null&&Po(this.value)===Po(t)&&this.matchesComparison(La(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends w1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Sr(e,t)}matches(e){return _1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _1(n){return n.op==="and"}function x1(n){return JA(n)&&_1(n)}function JA(n){for(const e of n.filters)if(e instanceof Sr)return!1;return!0}function sm(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+Va(n.value);if(x1(n))return n.filters.map((e=>sm(e))).join(",");{const e=n.filters.map((t=>sm(t))).join(",");return`${n.op}(${e})`}}function b1(n,e){return n instanceof Dt?(function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&cs(r.value,i.value)})(n,e):n instanceof Sr?(function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,c,h)=>a&&b1(c,i.filters[h])),!0):!1})(n,e):void Oe(19439)}function E1(n){return n instanceof Dt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Va(t.value)}`})(n):n instanceof Sr?(function(t){return t.op.toString()+" {"+t.getFilters().map(E1).join(" ,")+"}"})(n):"Filter"}class ZA extends Dt{constructor(e,t,r){super(e,t,r),this.key=Re.fromName(r.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class eP extends Dt{constructor(e,t){super(e,"in",t),this.keys=T1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class tP extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=T1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function T1(n,e){return(e.arrayValue?.values||[]).map((t=>Re.fromName(t.referenceValue)))}class nP extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tg(t)&&hc(t.arrayValue,this.value)}}class rP extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hc(this.value.arrayValue,t)}}class sP extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hc(this.value.arrayValue,t)}}class oP extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>hc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t=null,r=[],i=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function Cw(n,e=null,t=[],r=[],i=null,a=null,c=null){return new iP(n,e,t,r,i,a,c)}function ng(n){const e=ze(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>sm(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Va(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Va(r))).join(",")),e.Te=t}return e.Te}function rg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!XA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!b1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Iw(n.startAt,e.startAt)&&Iw(n.endAt,e.endAt)}function om(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t=null,r=[],i=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aP(n,e,t,r,i,a,c,h){return new Ya(n,e,t,r,i,a,c,h)}function sg(n){return new Ya(n)}function kw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function S1(n){return n.collectionGroup!==null}function rc(n){const e=ze(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new zt(tn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new fc(a,r))})),t.has(tn.keyField().canonicalString())||e.Ie.push(new fc(tn.keyField(),r))}return e.Ie}function ns(n){const e=ze(n);return e.Ee||(e.Ee=lP(e,rc(n))),e.Ee}function lP(n,e){if(n.limitType==="F")return Cw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new fc(i.field,a)}));const t=n.endAt?new Pd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Pd(n.startAt.position,n.startAt.inclusive):null;return Cw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function im(n,e){const t=n.filters.concat([e]);return new Ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function am(n,e,t){return new Ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uh(n,e){return rg(ns(n),ns(e))&&n.limitType===e.limitType}function I1(n){return`${ng(ns(n))}|lt:${n.limitType}`}function Ta(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>E1(i))).join(", ")}]`),lh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Va(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Va(i))).join(",")),`Target(${r})`})(ns(n))}; limitType=${n.limitType})`}function dh(n,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Re.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,i){for(const a of rc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(c,h,p){const g=Sw(c,h,p);return c.inclusive?g<=0:g<0})(r.startAt,rc(r),i)||r.endAt&&!(function(c,h,p){const g=Sw(c,h,p);return c.inclusive?g>=0:g>0})(r.endAt,rc(r),i))})(n,e)}function cP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function C1(n){return(e,t)=>{let r=!1;for(const i of rc(n)){const a=uP(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function uP(n,e,t){const r=n.field.isKeyField()?Re.comparator(e.key,t.key):(function(a,c,h){const p=c.data.field(a),g=h.data.field(a);return p!==null&&g!==null?La(p,g):Oe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ai(this.inner,((t,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return u1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new bt(Re.comparator);function Fs(){return dP}const k1=new bt(Re.comparator);function Kl(...n){let e=k1;for(const t of n)e=e.insert(t.key,t);return e}function N1(n){let e=k1;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function yi(){return sc()}function R1(){return sc()}function sc(){return new Pi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const hP=new bt(Re.comparator),fP=new zt(Re.comparator);function Qe(...n){let e=fP;for(const t of n)e=e.add(t);return e}const pP=new zt(Ke);function mP(){return pP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function A1(n){return{integerValue:""+n}}function gP(n,e){return $A(e)?A1(e):og(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function yP(n,e,t){return n instanceof pc?(function(i,a){const c={fields:{[f1]:{stringValue:h1},[m1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&eg(a)&&(a=ch(a)),a&&(c.fields[p1]=a),{mapValue:c}})(t,e):n instanceof mc?M1(n,e):n instanceof gc?D1(n,e):(function(i,a){const c=P1(i,a),h=Nw(c)+Nw(i.Ae);return rm(c)&&rm(i.Ae)?A1(h):og(i.serializer,h)})(n,e)}function vP(n,e,t){return n instanceof mc?M1(n,e):n instanceof gc?D1(n,e):t}function P1(n,e){return n instanceof Md?(function(r){return rm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class pc extends hh{}class mc extends hh{constructor(e){super(),this.elements=e}}function M1(n,e){const t=j1(e);for(const r of n.elements)t.some((i=>cs(i,r)))||t.push(r);return{arrayValue:{values:t}}}class gc extends hh{constructor(e){super(),this.elements=e}}function D1(n,e){let t=j1(e);for(const r of n.elements)t=t.filter((i=>!cs(i,r)));return{arrayValue:{values:t}}}class Md extends hh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Nw(n){return kt(n.integerValue||n.doubleValue)}function j1(n){return tg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,t){this.field=e,this.transform=t}}function _P(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof mc&&i instanceof mc||r instanceof gc&&i instanceof gc?Oa(r.elements,i.elements,cs):r instanceof Md&&i instanceof Md?cs(r.Ae,i.Ae):r instanceof pc&&i instanceof pc})(n.transform,e.transform)}class xP{constructor(e,t){this.version=e,this.transformResults=t}}class rs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rs}static exists(e){return new rs(void 0,e)}static updateTime(e){return new rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fh{}function O1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new V1(n.key,rs.none()):new kc(n.key,n.data,rs.none());{const t=n.data,r=sr.empty();let i=new zt(tn.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?r.delete(a):r.set(a,c),i=i.add(a)}return new Mi(n.key,r,new br(i.toArray()),rs.none())}}function bP(n,e,t){n instanceof kc?(function(i,a,c){const h=i.value.clone(),p=Aw(i.fieldTransforms,a,c.transformResults);h.setAll(p),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Mi?(function(i,a,c){if(!pd(i.precondition,a))return void a.convertToUnknownDocument(c.version);const h=Aw(i.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(L1(i)),p.setAll(h),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(i,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function oc(n,e,t,r){return n instanceof kc?(function(a,c,h,p){if(!pd(a.precondition,c))return h;const g=a.value.clone(),_=Pw(a.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof Mi?(function(a,c,h,p){if(!pd(a.precondition,c))return h;const g=Pw(a.fieldTransforms,p,c),_=c.data;return _.setAll(L1(a)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(a,c,h){return pd(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function EP(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=P1(r.transform,i||null);a!=null&&(t===null&&(t=sr.empty()),t.set(r.field,a))}return t||null}function Rw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oa(r,i,((a,c)=>_P(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kc extends fh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mi extends fh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function L1(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Aw(n,e,t){const r=new Map;rt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,h=e.data.field(a.field);r.set(a.field,vP(c,h,t[i]))}return r}function Pw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,yP(a,c,e))}return r}class V1 extends fh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TP extends fh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&bP(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=oc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=oc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=R1();return this.mutations.forEach((i=>{const a=e.get(i.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(i.key)?null:h;const p=O1(c,h);p!==null&&r.set(i.key,p),c.isValidDocument()||c.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&Oa(this.mutations,e.mutations,((t,r)=>Rw(t,r)))&&Oa(this.baseMutations,e.baseMutations,((t,r)=>Rw(t,r)))}}class ig{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return hP})();const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new ig(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Xe;function kP(n){switch(n){case te.OK:return Oe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function F1(n){if(n===void 0)return Vs("GRPC error has no .code"),te.UNKNOWN;switch(n){case Mt.OK:return te.OK;case Mt.CANCELLED:return te.CANCELLED;case Mt.UNKNOWN:return te.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return te.INTERNAL;case Mt.UNAVAILABLE:return te.UNAVAILABLE;case Mt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Mt.NOT_FOUND:return te.NOT_FOUND;case Mt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Mt.ABORTED:return te.ABORTED;case Mt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Mt.DATA_LOSS:return te.DATA_LOSS;default:return Oe(39323,{code:n})}}(Xe=Mt||(Mt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new So([4294967295,4294967295],0);function Mw(n){const e=NP().encode(n),t=new Zx;return t.update(e),new Uint8Array(t.digest())}function Dw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new So([t,r],0),new So([i,a],0)]}class ag{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ql(`Invalid padding: ${t}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=So.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(So.fromNumber(r)));return i.compare(RP)===1&&(i=new So([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Mw(e),[r,i]=Dw(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,i,a);if(!this.we(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new ag(a,i,t);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=Mw(e),[r,i]=Dw(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,i,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ph(Fe.min(),i,new bt(Ke),Fs(),Qe())}}class Nc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nc(r,t,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class U1{constructor(e,t){this.targetId=e,this.Ce=t}}class z1{constructor(e,t,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class jw{constructor(){this.ve=0,this.Fe=Ow(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),t=Qe(),r=Qe();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Oe(38017,{changeType:a})}})),new Nc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Ow()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fs(),this.Je=Xu(),this.He=Xu(),this.Ye=new bt(Ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(om(a))if(r===0){const c=new Re(a.path);this.et(t,c,hn.newNoDocument(c,Fe.min()))}else rt(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const h=this.ut(e),p=h?this.ct(h,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let c,h;try{c=Ao(r).toUint8Array()}catch(p){if(p instanceof d1)return ja("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new ag(c,i,a)}catch(p){return ja(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&om(h.target)){const p=new Re(h.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,hn.newNoDocument(p,e))}a.Be&&(t.set(c,a.ke()),a.qe())}}));let r=Qe();this.He.forEach(((a,c)=>{let h=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const i=new ph(e,t,this.Ye,this.je,r);return this.je=Fs(),this.Je=Xu(),this.He=Xu(),this.Ye=new bt(Ke),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new jw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new zt(Ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new zt(Ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Xu(){return new bt(Re.comparator)}function Ow(){return new bt(Re.comparator)}const PP={asc:"ASCENDING",desc:"DESCENDING"},MP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DP={and:"AND",or:"OR"};class jP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lm(n,e){return n.useProto3Json||lh(e)?e:{value:e}}function Dd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OP(n,e){return Dd(n,e.toTimestamp())}function ss(n){return rt(!!n,49232),Fe.fromTimestamp((function(t){const r=Ro(t);return new mt(r.seconds,r.nanos)})(n))}function lg(n,e){return cm(n,e).canonicalString()}function cm(n,e){const t=(function(i){return new ut(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function $1(n){const e=ut.fromString(n);return rt(K1(e),10190,{key:e.toString()}),e}function um(n,e){return lg(n.databaseId,e.path)}function _p(n,e){const t=$1(e);if(t.get(1)!==n.databaseId.projectId)throw new we(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(W1(t))}function H1(n,e){return lg(n.databaseId,e)}function LP(n){const e=$1(n);return e.length===4?ut.emptyPath():W1(e)}function dm(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function W1(n){return rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Lw(n,e,t){return{name:um(n,e),fields:t.value.mapValue.fields}}function VP(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Oe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(g,_){return g.useProto3Json?(rt(_===void 0||typeof _=="string",58123),nn.fromBase64String(_||"")):(rt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),nn.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const _=g.code===void 0?te.UNKNOWN:F1(g.code);return new we(_,g.message||"")})(c);t=new z1(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_p(n,r.document.name),a=ss(r.document.updateTime),c=r.document.createTime?ss(r.document.createTime):Fe.min(),h=new sr({mapValue:{fields:r.document.fields}}),p=hn.newFoundDocument(i,a,c,h),g=r.targetIds||[],_=r.removedTargetIds||[];t=new md(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_p(n,r.document),a=r.readTime?ss(r.readTime):Fe.min(),c=hn.newNoDocument(i,a),h=r.removedTargetIds||[];t=new md([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_p(n,r.document),a=r.removedTargetIds||[];t=new md([],a,i,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,c=new CP(i,a),h=r.targetId;t=new U1(h,c)}}return t}function FP(n,e){let t;if(e instanceof kc)t={update:Lw(n,e.key,e.value)};else if(e instanceof V1)t={delete:um(n,e.key)};else if(e instanceof Mi)t={update:Lw(n,e.key,e.data),updateMask:KP(e.fieldMask)};else{if(!(e instanceof TP))return Oe(16599,{Vt:e.type});t={verify:um(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const h=c.transform;if(h instanceof pc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof mc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof gc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Md)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Oe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:OP(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)})(n,e.precondition)),t}function UP(n,e){return n&&n.length>0?(rt(e!==void 0,14353),n.map((t=>(function(i,a){let c=i.updateTime?ss(i.updateTime):ss(a);return c.isEqual(Fe.min())&&(c=ss(a)),new xP(c,i.transformResults||[])})(t,e)))):[]}function zP(n,e){return{documents:[H1(n,e.path)]}}function BP(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=H1(n,i);const a=(function(g){if(g.length!==0)return q1(Sr.create(g,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(g){if(g.length!==0)return g.map((_=>(function(x){return{field:Sa(x.field),direction:WP(x.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=lm(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:i}}function $P(n){let e=LP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){rt(r===1,65062);const _=t.from[0];_.allDescendants?i=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=(function(y){const x=G1(y);return x instanceof Sr&&x1(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(y){return y.map((x=>(function(P){return new fc(Ia(P.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(x)))})(t.orderBy));let h=null;t.limit&&(h=(function(y){let x;return x=typeof y=="object"?y.value:y,lh(x)?null:x})(t.limit));let p=null;t.startAt&&(p=(function(y){const x=!!y.before,C=y.values||[];return new Pd(C,x)})(t.startAt));let g=null;return t.endAt&&(g=(function(y){const x=!y.before,C=y.values||[];return new Pd(C,x)})(t.endAt)),aP(e,i,c,a,h,"F",p,g)}function HP(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function G1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ia(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ia(t.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ia(t.unaryFilter.field);return Dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ia(t.unaryFilter.field);return Dt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Dt.create(Ia(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Sr.create(t.compositeFilter.filters.map((r=>G1(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(t.compositeFilter.op))})(n):Oe(30097,{filter:n})}function WP(n){return PP[n]}function GP(n){return MP[n]}function qP(n){return DP[n]}function Sa(n){return{fieldPath:n.canonicalString()}}function Ia(n){return tn.fromServerFormat(n.fieldPath)}function q1(n){return n instanceof Dt?(function(t){if(t.op==="=="){if(Tw(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NAN"}};if(Ew(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Tw(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NOT_NAN"}};if(Ew(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(t.field),op:GP(t.op),value:t.value}}})(n):n instanceof Sr?(function(t){const r=t.getFilters().map((i=>q1(i)));return r.length===1?r[0]:{compositeFilter:{op:qP(t.op),filters:r}}})(n):Oe(54877,{filter:n})}function KP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function K1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t,r,i,a=Fe.min(),c=Fe.min(),h=nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.yt=e}}function YP(n){const e=$P({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.Cn=new JP}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(No.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(No.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class JP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new zt(ut.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q1=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(Q1,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fa(0)}static cr(){return new Fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="LruGarbageCollector",ZP=1048576;function Uw([n,e],[t,r]){const i=Ke(n,t);return i===0?Ke(e,r):i}class eM{constructor(e){this.Ir=e,this.buffer=new zt(Uw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Uw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(Fw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qa(t)?_e(Fw,"Ignoring IndexedDB error during garbage collection: ",t):await Ka(t)}await this.Vr(3e5)}))}}class nM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(ah.ce);const r=new eM(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Vw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,c,h,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,c=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,h=Date.now(),this.removeTargets(e,r,t)))).next((y=>(a=y,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(g=Date.now(),Ea()<=qe.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${i} in `+(h-c)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${y} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y}))))}}function rM(n,e){return new nM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.changes=new Pi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&oc(r.mutation,i,br.empty(),mt.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Qe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Qe()){const i=yi();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((a=>{let c=Kl();return a.forEach(((h,p)=>{c=c.insert(h,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=yi();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Qe())))}populateOverlays(e,t,r){const i=[];return r.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,r,i){let a=Fs();const c=sc(),h=(function(){return sc()})();return t.forEach(((p,g)=>{const _=r.get(g.key);i.has(g.key)&&(_===void 0||_.mutation instanceof Mi)?a=a.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),oc(_.mutation,g,_.mutation.getFieldMask(),mt.now())):c.set(g.key,br.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>h.set(g,new oM(_,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=sc();let i=new bt(((c,h)=>c-h)),a=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=r.get(p)||br.empty();_=h.applyToLocalView(g,_),r.set(p,_);const y=(i.get(h.batchId)||Qe()).add(p);i=i.insert(h.batchId,y)}))})).next((()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),g=p.key,_=p.value,y=R1();_.forEach((x=>{if(!a.has(x)){const C=O1(t.get(x),r.get(x));C!==null&&y.set(x,C),a=a.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,y))}return re.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):S1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):re.resolve(yi());let h=cc,p=a;return c.next((g=>re.forEach(g,((_,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),a.get(_)?re.resolve():this.remoteDocumentCache.getEntry(e,_).next((x=>{p=p.insert(_,x)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,p,g,Qe()))).next((_=>({batchId:h,changes:N1(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next((r=>{let i=Kl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let c=Kl();return this.indexManager.getCollectionParents(e,a).next((h=>re.forEach(h,(p=>{const g=(function(y,x){return new Ya(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,r,i).next((_=>{_.forEach(((y,x)=>{c=c.insert(y,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i)))).next((c=>{a.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,hn.newInvalidDocument(_)))}));let h=Kl();return c.forEach(((p,g)=>{const _=a.get(p);_!==void 0&&oc(_.mutation,g,br.empty(),mt.now()),dh(t,g)&&(h=h.insert(p,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:ss(i.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:YP(i.bundledQuery),readTime:ss(i.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.overlays=new bt(Re.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=yi();return re.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,a)=>{this.St(e,t,a)})),re.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const i=yi(),a=t.length+1,c=new Re(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&p.largestBatchId>r&&i.set(p.getKey(),p)}return re.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new bt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=a.get(g.largestBatchId);_===null&&(_=yi(),a=a.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=yi(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>h.set(g,_))),!(h.size()>=i)););return re.resolve(h)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new IP(t,r));let a=this.qr.get(t);a===void 0&&(a=Qe(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.Qr=new zt(Kt.$r),this.Ur=new zt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Kt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Kt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Re(new ut([])),r=new Kt(t,e),i=new Kt(t,e+1),a=[];return this.Ur.forEachInRange([r,i],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Re(new ut([])),r=new Kt(t,e),i=new Kt(t,e+1);let a=Qe();return this.Ur.forEachInRange([r,i],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Kt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Re.comparator(e.key,t.key)||Ke(e.Yr,t.Yr)}static Kr(e,t){return Ke(e.Yr,t.Yr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Kt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new SP(a,t,r,i);this.mutationQueue.push(c);for(const h of i)this.Zr=this.Zr.add(new Kt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Zm:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kt(t,0),i=new Kt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(c=>{const h=this.Xr(c.Yr);a.push(h)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zt(Ke);return t.forEach((i=>{const a=new Kt(i,0),c=new Kt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(h=>{r=r.add(h.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Re.isDocumentKey(a)||(a=a.child(""));const c=new Kt(new Re(a),0);let h=new zt(Ke);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(h=h.add(p.Yr)),!0)}),c),re.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){rt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(t.mutations,(i=>{const a=new Kt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Kt(t,0),i=this.Zr.firstAfterOrEqual(r);return re.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.ri=e,this.docs=(function(){return new bt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let r=Fs();return t.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():hn.newInvalidDocument(i))})),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Fs();const c=t.path,h=new Re(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||FA(VA(_),r)<=0||(i.has(_.key)||dh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Oe(9500)}ii(e,t){return re.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new hM(this)}getSize(e){return re.resolve(this.size)}}class hM extends sM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.persistence=e,this.si=new Pi((t=>ng(t)),rg),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new cg,this.targetCount=0,this.ai=Fa.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Fa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),re.waitFor(a).next((()=>i))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((c=>{a.push(i.markPotentiallyOrphaned(e,c))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new cM,this.referenceDelegate=e(this),this.Pi=new fM(this),this.indexManager=new XP,this.remoteDocumentCache=(function(i){return new dM(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new QP(t),this.Ii=new aM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new uM(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){_e("MemoryPersistence","Starting transaction:",e);const i=new pM(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class pM extends zA{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Ri=new cg,this.Vi=null}static mi(e){return new ug(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const i=Re.fromPath(r);return this.gi(e,i).next((a=>{a||t.removeEntry(i,Fe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class jd{constructor(e,t){this.persistence=e,this.pi=new Pi((r=>HA(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=rM(this,t)}static mi(e,t){return new jd(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?re.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(c=>this.br(e,c,t).next((h=>{h||(r++,a.removeEntry(c,Fe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hd(e.data.value)),t}br(e,t,r){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Qe(),i=Qe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new dg(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ik()?8:BA(fn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,t,i,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new mM;return this.Ss(e,t,c).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>a.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Ea()<=qe.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Ta(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Ea()<=qe.DEBUG&&_e("QueryEngine","Query:",Ta(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ea()<=qe.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Ta(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(t))):re.resolve())}ys(e,t){if(kw(t))return re.resolve(null);let r=ns(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=am(t,null,"F"),r=ns(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=Qe(...a);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.Ds(t,h);return this.Cs(t,g,c,p.readTime)?this.ys(e,am(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,r,i){return kw(t)||i.isEqual(Fe.min())?re.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(t,a);return this.Cs(t,c,r,i)?re.resolve(null):(Ea()<=qe.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ta(t)),this.vs(e,c,t,LA(i,cc)).next((h=>h)))}))}Ds(e,t){let r=new zt(C1(e));return t.forEach(((i,a)=>{dh(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return Ea()<=qe.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Ta(t)),this.ps.getDocumentsMatchingQuery(e,t,No.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="LocalStore",yM=3e8;class vM{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new bt(Ke),this.xs=new Pi((a=>ng(a)),rg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function wM(n,e,t,r){return new vM(n,e,t,r)}async function X1(n,e){const t=ze(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],h=[];let p=Qe();for(const g of i){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of a){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function _M(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,g,_){const y=g.batch,x=y.keys();let C=re.resolve();return x.forEach((P=>{C=C.next((()=>_.getEntry(p,P))).next((k=>{const A=g.docVersions.get(P);rt(A!==null,48541),k.version.compareTo(A)<0&&(y.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),_.addEntry(k)))}))})),C.next((()=>h.mutationQueue.removeMutationBatch(p,y)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let p=Qe();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(p=p.add(h.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function J1(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function xM(n,e){const t=ze(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const h=[];e.targetChanges.forEach(((_,y)=>{const x=i.get(y);if(!x)return;h.push(t.Pi.removeMatchingKeys(a,_.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(a,_.addedDocuments,y))));let C=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?C=C.withResumeToken(nn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,r)),i=i.insert(y,C),(function(k,A,V){return k.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=yM?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(x,C,_)&&h.push(t.Pi.updateTargetData(a,C))}));let p=Fs(),g=Qe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))})),h.push(bM(a,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!r.isEqual(Fe.min())){const _=t.Pi.getLastRemoteSnapshotVersion(a).next((y=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(_)}return re.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,p,g))).next((()=>p))})).then((a=>(t.Ms=i,a)))}function bM(n,e,t){let r=Qe(),i=Qe();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let c=Fs();return t.forEach(((h,p)=>{const g=a.get(h);p.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(h)),p.isNoDocument()&&p.version.isEqual(Fe.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):_e(hg,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:i}}))}function EM(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function TM(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((a=>a?(i=a,re.resolve(i)):t.Pi.allocateTargetId(r).next((c=>(i=new bo(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function hm(n,e,t){const r=ze(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Qa(c))throw c;_e(hg,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function zw(n,e,t){const r=ze(n);let i=Fe.min(),a=Qe();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const y=ze(p),x=y.xs.get(_);return x!==void 0?re.resolve(y.Ms.get(x)):y.Pi.getTargetData(g,_)})(r,c,ns(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((p=>{a=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?i:Fe.min(),t?a:Qe()))).next((h=>(SM(r,cP(e),h),{documents:h,Qs:a})))))}function SM(n,e,t){let r=n.Os.get(e)||Fe.min();t.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class Bw{constructor(){this.activeTargetIds=mP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IM{constructor(){this.Mo=new Bw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Bw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="ConnectivityMonitor";class Hw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e($w,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e($w,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function fm(){return Ju===null?Ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="RestConnection",kM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Rd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const c=fm(),h=this.zo(e,t.toUriEncodedString());_e(xp,`Sending RPC '${e}' ${c}:`,h,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,a);const{host:g}=new URL(h),_=Ni(g);return this.Jo(e,h,p,r,_).then((y=>(_e(xp,`Received RPC '${e}' ${c}: `,y),y)),(y=>{throw ja(xp,`RPC '${e}' ${c} failed with error: `,y,"url: ",h,"request:",r),y}))}Ho(e,t,r,i,a,c){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const r=kM[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class AM extends NM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const c=fm();return new Promise(((h,p)=>{const g=new e1;g.setWithCredentials(!0),g.listenOnce(t1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case dd.NO_ERROR:const y=g.getResponseJson();_e(un,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(y)),h(y);break;case dd.TIMEOUT:_e(un,`RPC '${e}' ${c} timed out`),p(new we(te.DEADLINE_EXCEEDED,"Request time out"));break;case dd.HTTP_ERROR:const x=g.getStatus();if(_e(un,`RPC '${e}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const P=C?.error;if(P&&P.status&&P.message){const k=(function(V){const U=V.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(U)>=0?U:te.UNKNOWN})(P.status);p(new we(k,P.message))}else p(new we(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new we(te.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{_e(un,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(i);_e(un,`RPC '${e}' ${c} sending request:`,i),g.send(t,"POST",_,r,15)}))}T_(e,t,r){const i=fm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=s1(),h=r1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=a.join("");_e(un,`Creating RPC '${e}' stream ${i}: ${_}`,p);const y=c.createWebChannel(_,p);this.I_(y);let x=!1,C=!1;const P=new RM({Yo:A=>{C?_e(un,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(x||(_e(un,`Opening RPC '${e}' stream ${i} transport.`),y.open(),x=!0),_e(un,`RPC '${e}' stream ${i} sending:`,A),y.send(A))},Zo:()=>y.close()}),k=(A,V,U)=>{A.listen(V,(I=>{try{U(I)}catch(W){setTimeout((()=>{throw W}),0)}}))};return k(y,ql.EventType.OPEN,(()=>{C||(_e(un,`RPC '${e}' stream ${i} transport opened.`),P.o_())})),k(y,ql.EventType.CLOSE,(()=>{C||(C=!0,_e(un,`RPC '${e}' stream ${i} transport closed`),P.a_(),this.E_(y))})),k(y,ql.EventType.ERROR,(A=>{C||(C=!0,ja(un,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),P.a_(new we(te.UNAVAILABLE,"The operation could not be completed")))})),k(y,ql.EventType.MESSAGE,(A=>{if(!C){const V=A.data[0];rt(!!V,16349);const U=V,I=U?.error||U[0]?.error;if(I){_e(un,`RPC '${e}' stream ${i} received error:`,I);const W=I.status;let X=(function(S){const N=Mt[S];if(N!==void 0)return F1(N)})(W),ne=I.message;X===void 0&&(X=te.INTERNAL,ne="Unknown error status: "+W+" with message "+I.message),C=!0,P.a_(new we(X,ne)),y.close()}else _e(un,`RPC '${e}' stream ${i} received:`,V),P.u_(V)}})),k(h,n1.STAT_EVENT,(A=>{A.stat===em.PROXY?_e(un,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===em.NOPROXY&&_e(un,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(n){return new jP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="PersistentStream";class eb{constructor(e,t,r,i,a,c,h,p){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Vs(t.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new we(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(Ww,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(_e(Ww,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PM extends eb{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=VP(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Fe.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Fe.min():c.readTime?ss(c.readTime):Fe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=dm(this.serializer),t.addTarget=(function(a,c){let h;const p=c.target;if(h=om(p)?{documents:zP(a,p)}:{query:BP(a,p).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=B1(a,c.resumeToken);const g=lm(a,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Fe.min())>0){h.readTime=Dd(a,c.snapshotVersion.toTimestamp());const g=lm(a,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const r=HP(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=dm(this.serializer),t.removeTarget=e,this.q_(t)}}class MM extends eb{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=UP(e.writeResults,e.commitTime),r=ss(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=dm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>FP(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{}class jM extends DM{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new we(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,cm(t,r),i,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(te.UNKNOWN,a.toString())}))}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,cm(t,r),i,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(t),this.aa=!1):_e("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="RemoteStore";class LM{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Di(this)&&(_e(Si,"Restarting streams for network reachability change."),await(async function(p){const g=ze(p);g.Ea.add(4),await Rc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await gh(g)})(this))}))})),this.Ra=new OM(r,i)}}async function gh(n){if(Di(n))for(const e of n.da)await e(!0)}async function Rc(n){for(const e of n.da)await e(!1)}function tb(n,e){const t=ze(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),gg(t)?mg(t):Xa(t).O_()&&pg(t,e))}function fg(n,e){const t=ze(n),r=Xa(t);t.Ia.delete(e),r.O_()&&nb(t,e),t.Ia.size===0&&(r.O_()?r.L_():Di(t)&&t.Ra.set("Unknown"))}function pg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xa(n).Y_(e)}function nb(n,e){n.Va.Ue(e),Xa(n).Z_(e)}function mg(n){n.Va=new AP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Xa(n).start(),n.Ra.ua()}function gg(n){return Di(n)&&!Xa(n).x_()&&n.Ia.size>0}function Di(n){return ze(n).Ea.size===0}function rb(n){n.Va=void 0}async function VM(n){n.Ra.set("Online")}async function FM(n){n.Ia.forEach(((e,t)=>{pg(n,e)}))}async function UM(n,e){rb(n),gg(n)?(n.Ra.ha(e),mg(n)):n.Ra.set("Unknown")}async function zM(n,e,t){if(n.Ra.set("Online"),e instanceof z1&&e.state===2&&e.cause)try{await(async function(i,a){const c=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,c),i.Ia.delete(h),i.Va.removeTarget(h))})(n,e)}catch(r){_e(Si,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Od(n,r)}else if(e instanceof md?n.Va.Ze(e):e instanceof U1?n.Va.st(e):n.Va.tt(e),!t.isEqual(Fe.min()))try{const r=await J1(n.localStore);t.compareTo(r)>=0&&await(function(a,c){const h=a.Va.Tt(c);return h.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.Ia.get(g);_&&a.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),h.targetMismatches.forEach(((p,g)=>{const _=a.Ia.get(p);if(!_)return;a.Ia.set(p,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),nb(a,p);const y=new bo(_.target,p,g,_.sequenceNumber);pg(a,y)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){_e(Si,"Failed to raise snapshot:",r),await Od(n,r)}}async function Od(n,e,t){if(!Qa(e))throw e;n.Ea.add(1),await Rc(n),n.Ra.set("Offline"),t||(t=()=>J1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{_e(Si,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await gh(n)}))}function sb(n,e){return e().catch((t=>Od(n,t,e)))}async function yh(n){const e=ze(n),t=Mo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zm;for(;BM(e);)try{const i=await EM(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,$M(e,i)}catch(i){await Od(e,i)}ob(e)&&ib(e)}function BM(n){return Di(n)&&n.Ta.length<10}function $M(n,e){n.Ta.push(e);const t=Mo(n);t.O_()&&t.X_&&t.ea(e.mutations)}function ob(n){return Di(n)&&!Mo(n).x_()&&n.Ta.length>0}function ib(n){Mo(n).start()}async function HM(n){Mo(n).ra()}async function WM(n){const e=Mo(n);for(const t of n.Ta)e.ea(t.mutations)}async function GM(n,e,t){const r=n.Ta.shift(),i=ig.from(r,e,t);await sb(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await yh(n)}async function qM(n,e){e&&Mo(n).X_&&await(async function(r,i){if((function(c){return kP(c)&&c!==te.ABORTED})(i.code)){const a=r.Ta.shift();Mo(r).B_(),await sb(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await yh(r)}})(n,e),ob(n)&&ib(n)}async function Gw(n,e){const t=ze(n);t.asyncQueue.verifyOperationInProgress(),_e(Si,"RemoteStore received new credentials");const r=Di(t);t.Ea.add(3),await Rc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await gh(t)}async function KM(n,e){const t=ze(n);e?(t.Ea.delete(2),await gh(t)):e||(t.Ea.add(2),await Rc(t),t.Ra.set("Unknown"))}function Xa(n){return n.ma||(n.ma=(function(t,r,i){const a=ze(t);return a.sa(),new PM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:VM.bind(null,n),t_:FM.bind(null,n),r_:UM.bind(null,n),H_:zM.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),gg(n)?mg(n):n.Ra.set("Unknown")):(await n.ma.stop(),rb(n))}))),n.ma}function Mo(n){return n.fa||(n.fa=(function(t,r,i){const a=ze(t);return a.sa(),new MM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:HM.bind(null,n),r_:qM.bind(null,n),ta:WM.bind(null,n),na:GM.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await yh(n)):(await n.fa.stop(),n.Ta.length>0&&(_e(Si,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,h=new yg(e,t,c,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(n,e){if(Vs("AsyncQueue",`${e}: ${n}`),Qa(n))return new we(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{static emptySet(e){return new Ra(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Re.comparator(t.key,r.key):(t,r)=>Re.comparator(t.key,r.key),this.keyedMap=Kl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ra)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.ga=new bt(Re.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Ua{constructor(e,t,r,i,a,c,h,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new Ua(e,t,Ra.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class YM{constructor(){this.queries=Kw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=ze(t),a=i.queries;i.queries=Kw(),a.forEach(((c,h)=>{for(const p of h.Sa)p.onError(r)}))})(this,new we(te.ABORTED,"Firestore shutting down"))}}function Kw(){return new Pi((n=>I1(n)),uh)}async function ab(n,e){const t=ze(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new QM,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(c){const h=vg(c,`Initialization of query '${Ta(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&wg(t)}async function lb(n,e){const t=ze(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function XM(n,e){const t=ze(n);let r=!1;for(const i of e){const a=i.query,c=t.queries.get(a);if(c){for(const h of c.Sa)h.Fa(i)&&(r=!0);c.wa=i}}r&&wg(t)}function JM(n,e,t){const r=ze(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function wg(n){n.Ca.forEach((e=>{e.next()}))}var pm,Qw;(Qw=pm||(pm={})).Ma="default",Qw.Cache="cache";class cb{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.key=e}}class db{constructor(e){this.key=e}}class ZM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=C1(e),this.tu=new Ra(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new qw,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((_,y)=>{const x=i.get(_),C=dh(this.query,y)?y:null,P=!!x&&this.mutatedKeys.has(x.key),k=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let A=!1;x&&C?x.data.isEqual(C.data)?P!==k&&(r.track({type:3,doc:C}),A=!0):this.su(x,C)||(r.track({type:2,doc:C}),A=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(h=!0)):!x&&C?(r.track({type:0,doc:C}),A=!0):x&&!C&&(r.track({type:1,doc:x}),A=!0,(p||g)&&(h=!0)),A&&(C?(c=c.add(C),a=k?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{tu:c,iu:r,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,y)=>(function(C,P){const k=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:A})}};return k(C)-k(P)})(_.type,y.type)||this.eu(_.doc,y.doc))),this.ou(r),i=i??!1;const h=t&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Ua(this.query,e.tu,a,c,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new db(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new ub(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Qe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ua.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _g="SyncEngine";class eD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tD{constructor(e){this.key=e,this.hu=!1}}class nD{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Pi((h=>I1(h)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new bt(Re.comparator),this.Au=new Map,this.Ru=new cg,this.Vu={},this.mu=new Map,this.fu=Fa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rD(n,e,t=!0){const r=yb(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await hb(r,e,t,!0),i}async function sD(n,e){const t=yb(n);await hb(t,e,!0,!1)}async function hb(n,e,t,r){const i=await TM(n.localStore,ns(e)),a=i.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await oD(n,e,a,c==="current",i.resumeToken)),n.isPrimaryClient&&t&&tb(n.remoteStore,i),h}async function oD(n,e,t,r,i){n.pu=(y,x,C)=>(async function(k,A,V,U){let I=A.view.ru(V);I.Cs&&(I=await zw(k.localStore,A.query,!1).then((({documents:M})=>A.view.ru(M,I))));const W=U&&U.targetChanges.get(A.targetId),X=U&&U.targetMismatches.get(A.targetId)!=null,ne=A.view.applyChanges(I,k.isPrimaryClient,W,X);return Xw(k,A.targetId,ne.au),ne.snapshot})(n,y,x,C);const a=await zw(n.localStore,e,!0),c=new ZM(e,a.Qs),h=c.ru(a.documents),p=Nc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),g=c.applyChanges(h,n.isPrimaryClient,p);Xw(n,t,g.au);const _=new eD(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function iD(n,e,t){const r=ze(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((c=>!uh(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&fg(r.remoteStore,i.targetId),mm(r,i.targetId)})).catch(Ka)):(mm(r,i.targetId),await hm(r.localStore,i.targetId,!0))}async function aD(n,e){const t=ze(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),fg(t.remoteStore,r.targetId))}async function lD(n,e,t){const r=mD(n);try{const i=await(function(c,h){const p=ze(c),g=mt.now(),_=h.reduce(((C,P)=>C.add(P.key)),Qe());let y,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let P=Fs(),k=Qe();return p.Ns.getEntries(C,_).next((A=>{P=A,P.forEach(((V,U)=>{U.isValidDocument()||(k=k.add(V))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,P))).next((A=>{y=A;const V=[];for(const U of h){const I=EP(U,y.get(U.key).overlayedDocument);I!=null&&V.push(new Mi(U.key,I,v1(I.value.mapValue),rs.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,V,h)})).next((A=>{x=A;const V=A.applyToLocalDocumentSet(y,k);return p.documentOverlayCache.saveOverlays(C,A.batchId,V)}))})).then((()=>({batchId:x.batchId,changes:N1(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,h,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new bt(Ke)),g=g.insert(h,p),c.Vu[c.currentUser.toKey()]=g})(r,i.batchId,t),await Ac(r,i.changes),await yh(r.remoteStore)}catch(i){const a=vg(i,"Failed to persist write");t.reject(a)}}async function fb(n,e){const t=ze(n);try{const r=await xM(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const c=t.Au.get(a);c&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?rt(c.hu,14607):i.removedDocuments.size>0&&(rt(c.hu,42227),c.hu=!1))})),await Ac(t,r,e)}catch(r){await Ka(r)}}function Yw(n,e,t){const r=ze(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(c,h){const p=ze(c);p.onlineState=h;let g=!1;p.queries.forEach(((_,y)=>{for(const x of y.Sa)x.va(h)&&(g=!0)})),g&&wg(p)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cD(n,e,t){const r=ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let c=new bt(Re.comparator);c=c.insert(a,hn.newNoDocument(a,Fe.min()));const h=Qe().add(a),p=new ph(Fe.min(),new Map,new bt(Ke),c,h);await fb(r,p),r.du=r.du.remove(a),r.Au.delete(e),xg(r)}else await hm(r.localStore,e,!1).then((()=>mm(r,e,t))).catch(Ka)}async function uD(n,e){const t=ze(n),r=e.batch.batchId;try{const i=await _M(t.localStore,e);mb(t,r,null),pb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ac(t,i)}catch(i){await Ka(i)}}async function dD(n,e,t){const r=ze(n);try{const i=await(function(c,h){const p=ze(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,h).next((y=>(rt(y!==null,37113),_=y.keys(),p.mutationQueue.removeMutationBatch(g,y)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(r.localStore,e);mb(r,e,t),pb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ac(r,i)}catch(i){await Ka(i)}}function pb(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function mb(n,e,t){const r=ze(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function mm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||gb(n,r)}))}function gb(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(fg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),xg(n))}function Xw(n,e,t){for(const r of t)r instanceof ub?(n.Ru.addReference(r.key,e),hD(n,r)):r instanceof db?(_e(_g,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||gb(n,r.key)):Oe(19791,{wu:r})}function hD(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(_e(_g,"New document in limbo: "+t),n.Eu.add(r),xg(n))}function xg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Re(ut.fromString(e)),r=n.fu.next();n.Au.set(r,new tD(t)),n.du=n.du.insert(t,r),tb(n.remoteStore,new bo(ns(sg(t.path)),r,"TargetPurposeLimboResolution",ah.ce))}}async function Ac(n,e,t){const r=ze(n),i=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,p)=>{c.push(r.pu(p,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){i.push(g);const _=dg.As(p.targetId,g);a.push(_)}})))})),await Promise.all(c),r.Pu.H_(i),await(async function(p,g){const _=ze(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>re.forEach(g,(x=>re.forEach(x.Es,(C=>_.persistence.referenceDelegate.addReference(y,x.targetId,C))).next((()=>re.forEach(x.ds,(C=>_.persistence.referenceDelegate.removeReference(y,x.targetId,C)))))))))}catch(y){if(!Qa(y))throw y;_e(hg,"Failed to update sequence numbers: "+y)}for(const y of g){const x=y.targetId;if(!y.fromCache){const C=_.Ms.get(x),P=C.snapshotVersion,k=C.withLastLimboFreeSnapshotVersion(P);_.Ms=_.Ms.insert(x,k)}}})(r.localStore,a))}async function fD(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){_e(_g,"User change. New user:",e.toKey());const r=await X1(t.localStore,e);t.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((p=>{p.reject(new we(te.CANCELLED,c))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ac(t,r.Ls)}}function pD(n,e){const t=ze(n),r=t.Au.get(e);if(r&&r.hu)return Qe().add(r.key);{let i=Qe();const a=t.Iu.get(e);if(!a)return i;for(const c of a){const h=t.Tu.get(c);i=i.unionWith(h.view.nu)}return i}}function yb(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cD.bind(null,e),e.Pu.H_=XM.bind(null,e.eventManager),e.Pu.yu=JM.bind(null,e.eventManager),e}function mD(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dD.bind(null,e),e}class Ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return wM(this.persistence,new gM,e.initialUser,this.serializer)}Cu(e){return new Y1(ug.mi,this.serializer)}Du(e){return new IM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ld.provider={build:()=>new Ld};class gD extends Ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){rt(this.persistence.referenceDelegate instanceof jd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tM(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new Y1((r=>jd.mi(r,t)),this.serializer)}}class gm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Yw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fD.bind(null,this.syncEngine),await KM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YM})()}createDatastore(e){const t=mh(e.databaseInfo.databaseId),r=(function(a){return new AM(a)})(e.databaseInfo);return(function(a,c,h,p){return new jM(a,c,h,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,a,c,h){return new LM(r,i,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>Yw(this.syncEngine,t,0)),(function(){return Hw.v()?new Hw:new CM})())}createSyncEngine(e,t){return(function(i,a,c,h,p,g,_){const y=new nD(i,a,c,h,p,g);return _&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ze(t);_e(Si,"RemoteStore shutting down."),r.Ea.add(5),await Rc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="FirestoreClient";class yD{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{_e(Do,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(_e(Do,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=vg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ep(n,e){n.asyncQueue.verifyOperationInProgress(),_e(Do,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await X1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Jw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vD(n);_e(Do,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Gw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>Gw(e.remoteStore,i))),n._onlineComponents=e}async function vD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e(Do,"Using user provided OfflineComponentProvider");try{await Ep(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;ja("Error using user provided cache. Falling back to memory cache: "+t),await Ep(n,new Ld)}}else _e(Do,"Using default OfflineComponentProvider"),await Ep(n,new gD(void 0));return n._offlineComponents}async function wb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e(Do,"Using user provided OnlineComponentProvider"),await Jw(n,n._uninitializedComponentsProvider._online)):(_e(Do,"Using default OnlineComponentProvider"),await Jw(n,new gm))),n._onlineComponents}function wD(n){return wb(n).then((e=>e.syncEngine))}async function ym(n){const e=await wb(n),t=e.eventManager;return t.onListen=rD.bind(null,e.syncEngine),t.onUnlisten=iD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aD.bind(null,e.syncEngine),t}function _D(n,e,t={}){const r=new Io;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,p,g){const _=new vb({next:x=>{_.Nu(),c.enqueueAndForget((()=>lb(a,y))),x.fromCache&&p.source==="server"?g.reject(new we(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),y=new cb(h,_,{includeMetadataChanges:!0,qa:!0});return ab(a,y)})(await ym(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firestore.googleapis.com",e_=!0;class t_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xb,this.ssl=e_}else this.host=e.host,this.ssl=e.ssl??e_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZP)throw new we(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_b(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new IA;switch(r.type){case"firstParty":return new RA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Zw.get(t);r&&(_e("ComponentProvider","Removing Datastore"),Zw.delete(t),r.terminate())})(this),Promise.resolve()}}function xD(n,e,t,r={}){n=js(n,vh);const i=Ni(e),a=n._getSettings(),c={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;i&&(Om(`https://${h}`),Lm("Firestore",!0)),a.host!==xb&&a.host!==h&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:h,ssl:i,emulatorOptions:r};if(!xi(p,c)&&(n._setSettings(p),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=dn.MOCK_USER;else{g=yx(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new we(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(y)}n._authCredentials=new CA(new i1(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class Ot{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Cc(t,Ot._jsonSchema))return new Ot(e,r||null,new Re(ut.fromString(t.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:jt("string",Ot._jsonSchemaVersion),referencePath:jt("string")};class Co extends Vo{constructor(e,t,r){super(e,t,sg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new Re(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function bb(n,e,...t){if(n=wn(n),a1("collection","path",e),n instanceof vh){const r=ut.fromString(e,...t);return pw(r),new Co(n,null,r)}{if(!(n instanceof Ot||n instanceof Co))throw new we(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ut.fromString(e,...t));return pw(r),new Co(n.firestore,null,r)}}function gd(n,e,...t){if(n=wn(n),arguments.length===1&&(e=Jm.newId()),a1("doc","path",e),n instanceof vh){const r=ut.fromString(e,...t);return fw(r),new Ot(n,null,new Re(r))}{if(!(n instanceof Ot||n instanceof Co))throw new we(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ut.fromString(e,...t));return fw(r),new Ot(n.firestore,n instanceof Co?n.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="AsyncQueue";class r_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z1(this,"async_queue_retry"),this._c=()=>{const r=bp();r&&_e(n_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=bp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=bp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Io;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qa(e))throw e;_e(n_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",s_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=yg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Oe(47125,{Pc:s_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function s_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(n,["next","error","complete"])}class za extends vh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new r_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r_(e),this._firestoreClient=void 0,await e}}}function bD(n,e){const t=typeof n=="object"?n:Um(),r=typeof n=="string"?n:Rd,i=nh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=px("firestore");a&&xD(i,...a)}return i}function bg(n){if(n._terminated)throw new we(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ED(n),n._firestoreClient}function ED(n){const e=n._freezeSettings(),t=(function(i,a,c,h){return new qA(i,a,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,_b(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new yD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new or(nn.fromBase64String(e))}catch(t){throw new we(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new or(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cc(e,or._jsonSchema))return or.fromBase64String(e.bytes)}}or._jsonSchemaVersion="firestore/bytes/1.0",or._jsonSchema={type:jt("string",or._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:os._jsonSchemaVersion}}static fromJSON(e){if(Cc(e,os._jsonSchema))return new os(e.latitude,e.longitude)}}os._jsonSchemaVersion="firestore/geoPoint/1.0",os._jsonSchema={type:jt("string",os._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cc(e,is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new is(e.vectorValues);throw new we(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:jt("string",is._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=/^__.*__$/;class SD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,t,this.fieldTransforms):new kc(e,this.data,t,this.fieldTransforms)}}function Eb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:n})}}class Sg{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Eb(this.Ac)&&TD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ID{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||mh(e)}Cc(e,t,r,i=!1){return new Sg({Ac:e,methodName:t,Dc:r,path:tn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ig(n){const e=n._freezeSettings(),t=mh(n._databaseId);return new ID(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Tb(n,e,t,r,i,a={}){const c=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);Cb("Data must be an object, but it was:",c,r);const h=Sb(r,c);let p,g;if(a.merge)p=new br(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const y of a.mergeFields){const x=kD(e,y,t);if(!c.contains(x))throw new we(te.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);RD(_,x)||_.push(x)}p=new br(_),g=c.fieldTransforms.filter((y=>p.covers(y.field)))}else p=null,g=c.fieldTransforms;return new SD(new sr(h),p,g)}class Cg extends Tg{_toFieldTransform(e){return new wP(e.path,new pc)}isEqual(e){return e instanceof Cg}}function CD(n,e,t,r=!1){return kg(t,n.Cc(r?4:3,e))}function kg(n,e){if(Ib(n=wn(n)))return Cb("Unsupported field value:",e,n),Sb(n,e);if(n instanceof Tg)return(function(r,i){if(!Eb(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let c=0;for(const h of r){let p=kg(h,i.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}})(n,e)}return(function(r,i){if((r=wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=mt.fromDate(r);return{timestampValue:Dd(i.serializer,a)}}if(r instanceof mt){const a=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dd(i.serializer,a)}}if(r instanceof os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof or)return{bytesValue:B1(i.serializer,r._byteString)};if(r instanceof Ot){const a=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw i.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:lg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof is)return(function(c,h){return{mapValue:{fields:{[g1]:{stringValue:y1},[Ad]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return og(h.serializer,g)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${ih(r)}`)})(n,e)}function Sb(n,e){const t={};return u1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ai(n,((r,i)=>{const a=kg(i,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function Ib(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mt||n instanceof os||n instanceof or||n instanceof Ot||n instanceof Tg||n instanceof is)}function Cb(n,e,t){if(!Ib(t)||!l1(t)){const r=ih(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function kD(n,e,t){if((e=wn(e))instanceof Eg)return e._internalPath;if(typeof e=="string")return kb(n,e);throw Vd("Field path arguments must be of type string or ",n,!1,void 0,t)}const ND=new RegExp("[~\\*/\\[\\]]");function kb(n,e,t){if(e.search(ND)>=0)throw Vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Eg(...e.split("."))._internalPath}catch{throw Vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vd(n,e,t,r,i){const a=r&&!r.isEmpty(),c=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${r}`),c&&(p+=` in document ${i}`),p+=")"),new we(te.INVALID_ARGUMENT,h+n+p)}function RD(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ng("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AD extends Nb{data(){return super.data()}}function Ng(n,e){return typeof e=="string"?kb(n,e):e instanceof Eg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class Ab extends Rg{}function PD(n,e,...t){let r=[];e instanceof Rg&&r.push(e),r=r.concat(t),(function(a){const c=a.filter((p=>p instanceof Pg)).length,h=a.filter((p=>p instanceof Ag)).length;if(c>1||c>0&&h>0)throw new we(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Ag extends Ab{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ag(e,t,r)}_apply(e){const t=this._parse(e);return Pb(e._query,t),new Vo(e.firestore,e.converter,im(e._query,t))}_parse(e){const t=Ig(e.firestore);return(function(a,c,h,p,g,_,y){let x;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new we(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){a_(y,_);const P=[];for(const k of y)P.push(i_(p,a,k));x={arrayValue:{values:P}}}else x=i_(p,a,y)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||a_(y,_),x=CD(h,c,y,_==="in"||_==="not-in");return Dt.create(g,_,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Pg extends Rg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Sr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,a){let c=i;const h=a.getFlattenedFilters();for(const p of h)Pb(c,p),c=im(c,p)})(e._query,t),new Vo(e.firestore,e.converter,im(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mg extends Ab{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Mg(e,t)}_apply(e){const t=(function(i,a,c){if(i.startAt!==null)throw new we(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fc(a,c)})(e._query,this._field,this._direction);return new Vo(e.firestore,e.converter,(function(i,a){const c=i.explicitOrderBy.concat([a]);return new Ya(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function MD(n,e="asc"){const t=e,r=Ng("orderBy",n);return Mg._create(r,t)}function i_(n,e,t){if(typeof(t=wn(t))=="string"){if(t==="")throw new we(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S1(e)&&t.indexOf("/")!==-1)throw new we(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ut.fromString(t));if(!Re.isDocumentKey(r))throw new we(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bw(n,new Re(r))}if(t instanceof Ot)return bw(n,t._key);throw new we(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(t)}.`)}function a_(n,e){if(!Array.isArray(n)||n.length===0)throw new we(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Pb(n,e){const t=(function(i,a){for(const c of i)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new we(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class DD{convertValue(e,t="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ai(e,((i,a)=>{r[i]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Ad].arrayValue?.values?.map((r=>kt(r.doubleValue)));return new is(t)}convertGeoPoint(e){return new os(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ch(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(uc(e));default:return null}}convertTimestamp(e){const t=Ro(e);return new mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ut.fromString(e);rt(K1(r),9688,{name:e});const i=new dc(r.get(1),r.get(3)),a=new Re(r.popFirst(5));return i.isEqual(t)||Vs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Yl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wi extends Nb{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ng("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=wi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}wi._jsonSchemaVersion="firestore/documentSnapshot/1.0",wi._jsonSchema={type:jt("string",wi._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class yd extends wi{data(e={}){return super.data(e)}}class _i{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Yl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new yd(this._firestore,this._userDataWriter,r.key,r,new Yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((h=>{const p=new yd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Yl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const p=new yd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Yl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,_=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:jD(h.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_i._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:n})}}_i._jsonSchemaVersion="firestore/querySnapshot/1.0",_i._jsonSchema={type:jt("string",_i._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class Dg extends DD{constructor(e){super(),this.firestore=e}convertBytes(e){return new or(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function OD(n){n=js(n,Vo);const e=js(n.firestore,za),t=bg(e),r=new Dg(e);return Rb(n._query),_D(t,n._query).then((i=>new _i(e,r,n,i)))}function Tp(n,e,t){n=js(n,Ot);const r=js(n.firestore,za),i=Mb(n.converter,e);return Db(r,[Tb(Ig(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,rs.none())])}function LD(n,e){const t=js(n.firestore,za),r=gd(n),i=Mb(n.converter,e);return Db(t,[Tb(Ig(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,rs.exists(!1))]).then((()=>r))}function VD(n,...e){n=wn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||o_(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(o_(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let a,c,h;if(n instanceof Ot)c=js(n.firestore,za),h=sg(n._key.path),a={next:p=>{e[r]&&e[r](FD(c,n,p))},error:e[r+1],complete:e[r+2]};else{const p=js(n,Vo);c=js(p.firestore,za),h=p._query;const g=new Dg(c);a={next:_=>{e[r]&&e[r](new _i(c,g,p,_))},error:e[r+1],complete:e[r+2]},Rb(n._query)}return(function(g,_,y,x){const C=new vb(x),P=new cb(_,C,y);return g.asyncQueue.enqueueAndForget((async()=>ab(await ym(g),P))),()=>{C.Nu(),g.asyncQueue.enqueueAndForget((async()=>lb(await ym(g),P)))}})(bg(c),h,i,a)}function Db(n,e){return(function(r,i){const a=new Io;return r.asyncQueue.enqueueAndForget((async()=>lD(await wD(r),i,a))),a.promise})(bg(n),e)}function FD(n,e,t){const r=t.docs.get(e._key),i=new Dg(n);return new wi(n,i,e._key,r,new Yl(t.hasPendingWrites,t.fromCache),e.converter)}function mi(){return new Cg("serverTimestamp")}(function(e,t=!0){(function(i){qa=i})(Ri),bi(new ko("firestore",((r,{instanceIdentifier:i,options:a})=>{const c=r.getProvider("app").getImmediate(),h=new za(new kA(r.getProvider("auth-internal")),new AA(c,r.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new we(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(g.options.projectId,_)})(c,i),c);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),es(cw,uw,e),es(cw,uw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="firebasestorage.googleapis.com",UD="storageBucket",zD=120*1e3,BD=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends fs{constructor(e,t,r=0){super(Sp(e),`Firebase Storage: ${t} (${Sp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ps.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var us;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(us||(us={}));function Sp(n){return"storage/"+n}function $D(){const n="An unknown error occurred, please check the error payload for server response.";return new ps(us.UNKNOWN,n)}function HD(){return new ps(us.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WD(){return new ps(us.CANCELED,"User canceled the upload/download.")}function GD(n){return new ps(us.INVALID_URL,"Invalid URL '"+n+"'.")}function qD(n){return new ps(us.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function l_(n){return new ps(us.INVALID_ARGUMENT,n)}function Ob(){return new ps(us.APP_DELETED,"The Firebase app was deleted.")}function KD(n){return new ps(us.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Er.makeFromUrl(e,t)}catch{return new Er(e,"")}if(r.path==="")return r;throw qD(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+i+c,"i"),p={bucket:1,path:3};function g(W){W.path_=decodeURIComponent(W.path)}const _="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",C=new RegExp(`^https?://${y}/${_}/b/${i}/o${x}`,"i"),P={bucket:1,path:3},k=t===jb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,A="([^?#]*)",V=new RegExp(`^https?://${k}/${i}/${A}`,"i"),I=[{regex:h,indices:p,postModify:a},{regex:C,indices:P,postModify:g},{regex:V,indices:{bucket:1,path:2},postModify:g}];for(let W=0;W<I.length;W++){const X=I[W],ne=X.regex.exec(e);if(ne){const M=ne[X.indices.bucket];let S=ne[X.indices.path];S||(S=""),r=new Er(M,S),X.postModify(r);break}}if(r==null)throw GD(e);return r}}class QD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(n,e,t){let r=1,i=null,a=null,c=!1,h=0;function p(){return h===2}let g=!1;function _(...A){g||(g=!0,e.apply(null,A))}function y(A){i=setTimeout(()=>{i=null,n(C,p())},A)}function x(){a&&clearTimeout(a)}function C(A,...V){if(g){x();return}if(A){x(),_.call(null,A,...V);return}if(p()||c){x(),_.call(null,A,...V);return}r<64&&(r*=2);let I;h===1?(h=2,I=0):I=(r+Math.random())*1e3,y(I)}let P=!1;function k(A){P||(P=!0,x(),!g&&(i!==null?(A||(h=2),clearTimeout(i),y(0)):A||(h=1)))}return y(0),a=setTimeout(()=>{c=!0,k(!0)},t),k}function XD(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n){return n!==void 0}function c_(n,e,t,r){if(r<e)throw l_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw l_(`Invalid value for '${n}'. Expected ${t} or less.`)}function ZD(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Fd;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Fd||(Fd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,t,r,i,a,c,h,p,g,_,y,x=!0,C=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=y,this.retry=x,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,k)=>{this.resolve_=P,this.reject_=k,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Zu(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{const p=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===Fd.NO_ERROR,p=a.getStatus();if(!h||e4(p,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===Fd.ABORT;r(!1,new Zu(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new Zu(g,a))})},t=(r,i)=>{const a=this.resolve_,c=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());JD(p)?a(p):a()}catch(p){c(p)}else if(h!==null){const p=$D();p.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,p)):c(p)}else if(i.canceled){const p=this.appDelete_?Ob():WD();c(p)}else{const p=HD();c(p)}};this.canceled_?t(!1,new Zu(!1,null,!0)):this.backoffId_=YD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&XD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zu{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function n4(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function r4(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function s4(n,e){e&&(n["X-Firebase-GMPID"]=e)}function o4(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function i4(n,e,t,r,i,a,c=!0,h=!1){const p=ZD(n.urlParams),g=n.url+p,_=Object.assign({},n.headers);return s4(_,e),n4(_,t),r4(_,a),o4(_,r),new t4(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function l4(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,t){this._service=e,t instanceof Er?this._location=t:this._location=Er.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ud(e,t)}get root(){const e=new Er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return l4(this._location.path)}get storage(){return this._service}get parent(){const e=a4(this._location.path);if(e===null)return null;const t=new Er(this._location.bucket,e);return new Ud(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw KD(e)}}function u_(n,e){const t=e?.[UD];return t==null?null:Er.makeFromBucketSpec(t,n)}function c4(n,e,t,r={}){n.host=`${e}:${t}`;const i=Ni(e);i&&(Om(`https://${n.host}/b`),Lm("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:yx(a,n.app.options.projectId))}class u4{constructor(e,t,r,i,a,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=jb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zD,this._maxUploadRetryTime=BD,this._requests=new Set,i!=null?this._bucket=Er.makeFromBucketSpec(i,this._host):this._bucket=u_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Er.makeFromBucketSpec(this._url,e):this._bucket=u_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){c_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){c_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ud(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new QD(Ob());{const c=i4(e,this._appId,r,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const d_="@firebase/storage",h_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="storage";function d4(n=Um(),e){n=wn(n);const r=nh(n,Lb).getImmediate({identifier:e}),i=px("storage");return i&&h4(r,...i),r}function h4(n,e,t,r={}){c4(n,e,t,r)}function f4(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new u4(t,r,i,e,Ri)}function p4(){bi(new ko(Lb,f4,"PUBLIC").setMultipleInstances(!0)),es(d_,h_,""),es(d_,h_,"esm2020")}p4();const Vb={apiKey:"AIzaSyCVYoylRIbSaUPy582j8LAqgpHj5uBmfDo",authDomain:"event-buddy-26a06.firebaseapp.com",projectId:"event-buddy-26a06",storageBucket:"event-buddy-26a06.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:abcdefghijk"};typeof window<"u"&&Vb.apiKey==="your-api-key-here"&&console.warn(" Firebase configuration uses placeholder values. Please update src/firebase/config.ts with your actual Firebase config or set VITE environment variables.");const jg=_x(Vb),Fb=bA(jg),ic=bD(jg);d4(jg);const m4=new Yr,Ub=async()=>{try{const n=await AR(Fb,m4),t=Yr.credentialFromResult(n)?.accessToken;return{user:n.user,token:t}}catch(n){throw new Error(n.message||"Failed to sign in with Google")}},g4=n=>dR(Fb,n);function y4({isOpen:n,onClose:e,onLoginSuccess:t,actionType:r,questTitle:i}){const[a,c]=T.useState(!1),h=async()=>{c(!0);try{console.log("Initiating Google login...");const{user:p}=await Ub();p&&(ot.success("Welcome to QuestBoard! ",{description:`Successfully logged in as ${p.displayName||p.email}. Let's create your quest!`}),e(),t())}catch(p){console.error("Google login failed:",p),ot.error("Login failed",{description:p.message||"Please try again or contact support if the issue persists."})}finally{c(!1)}};return n?Lo.createPortal(f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[f.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),f.jsxs("div",{className:"relative bg-card border border-border rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",role:"dialog","aria-modal":"true","aria-describedby":"login-description",children:[f.jsx("div",{className:"p-6 pb-4",children:f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"p-2 rounded-full bg-gradient-to-r from-neon-cyan to-neon-purple",children:f.jsxs("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}),f.jsx("span",{className:"gradient-text font-bold",children:"LOGIN REQUIRED"})]}),f.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-accent transition-colors",children:f.jsx(Mm,{className:"w-4 h-4"})})]})}),f.jsxs("div",{className:"px-6 pb-6 space-y-6",children:[f.jsx(Wp,{onClick:h,disabled:a,className:"w-full neon-button py-4 font-bold tracking-wider transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsxs("div",{className:"flex items-center justify-center gap-3",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),a?"SIGNING IN...":"CONTINUE WITH GOOGLE"]})}),f.jsx("div",{className:"text-center",children:f.jsx("button",{onClick:e,disabled:a,className:"text-sm text-muted-foreground hover:text-foreground transition-colors disabled:opacity-50",children:"Maybe later"})}),f.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"By continuing, you agree to our Terms of Service and Privacy Policy."})]})]})]}),document.body):null}function f_({quest:n,isProfileCompleted:e=!0,onStartProfileCreation:t,isLoggedIn:r=!1,onGoogleSignIn:i}){const[a,c]=T.useState(!1),[h,p]=T.useState(!1),[g,_]=T.useState(!1),[y,x]=T.useState("join"),C={name:"Alex Chen",bio:"Coffee enthusiast and weekend adventurer. Love exploring hidden spots in the city!",interests:["Coffee","Photography","Hiking","Board Games","Travel"],age:28,location:"Bangalore"},P=I=>{if(I.stopPropagation(),!r){x("save"),_(!0);return}c(!a)},k=I=>{if(I.stopPropagation(),!r){x("join"),_(!0);return}!e&&t?t():p(!0)},A=()=>{_(!1),i?i():t&&t()},U=(I=>({Social:{background:"rgba(236, 72, 153, 0.85)",borderColor:"var(--neon-pink)",color:"var(--background)",textShadow:"0 0 8px rgba(236, 72, 153, 0.8)"},Adventure:{background:"rgba(16, 185, 129, 0.85)",borderColor:"var(--neon-green)",color:"var(--background)",textShadow:"0 0 8px rgba(16, 185, 129, 0.8)"},Learning:{background:"rgba(168, 85, 247, 0.85)",borderColor:"var(--neon-purple)",color:"var(--background)",textShadow:"0 0 8px rgba(168, 85, 247, 0.8)"},Creative:{background:"rgba(245, 158, 11, 0.85)",borderColor:"var(--neon-orange)",color:"var(--background)",textShadow:"0 0 8px rgba(245, 158, 11, 0.8)"}})[I]||{background:"rgba(0, 245, 255, 0.85)",borderColor:"var(--neon-cyan)",color:"var(--background)",textShadow:"0 0 8px rgba(0, 245, 255, 0.8)"})(n.category);return f.jsxs("div",{className:`hud-card relative overflow-hidden group mx-4 mb-4 ${n.isEpic?"ring-2 ring-neon-cyan":""}`,children:[n.isEpic&&f.jsx("div",{className:"absolute -top-2 -right-2 px-3 py-1 text-xs font-bold transform rotate-12 z-10 rounded-md border border-neon-cyan",style:{background:"linear-gradient(135deg, var(--neon-cyan) 0%, var(--neon-purple) 100%)",color:"var(--background)",textShadow:"0 0 10px rgba(0, 245, 255, 0.8)",boxShadow:"0 0 20px rgba(0, 245, 255, 0.4)"},children:" FEATURED"}),f.jsx("div",{className:"p-0 relative",children:f.jsxs("div",{className:"h-36 relative overflow-hidden rounded-t-lg",style:{background:"linear-gradient(135deg, var(--neon-cyan) 0%, var(--neon-purple) 100%)"},children:[n.image&&f.jsx(Dm,{src:n.image,alt:n.title,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),f.jsx("div",{className:"absolute top-3 left-3 flex gap-2",children:f.jsx("div",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider rounded-full border backdrop-blur-sm transition-all",style:{background:U.background,borderColor:U.borderColor,color:U.color,textShadow:U.textShadow,boxShadow:`0 0 15px ${U.borderColor}30`},children:n.category})}),f.jsxs("button",{onClick:P,className:`absolute top-3 right-3 p-3 rounded-full border backdrop-blur-sm transition-all duration-300 group/heart active:scale-90 z-20 touch-manipulation flex items-center justify-center ${a?"bg-gradient-to-r from-neon-pink to-neon-red border-neon-pink":"bg-black/60 border-white/60 active:border-neon-pink active:bg-black/80"}`,style:{boxShadow:a?"0 0 20px rgba(236, 72, 153, 0.5), 0 0 15px rgba(220, 38, 38, 0.3)":"0 0 10px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)",minWidth:"44px",minHeight:"44px"},children:[f.jsx(KI,{className:`w-5 h-5 transition-all duration-300 ${a?"text-white fill-white drop-shadow-[0_0_8px_rgba(255,255,255,0.8)]":"text-white drop-shadow-[0_0_4px_rgba(0,0,0,0.8)] group-active/heart:text-neon-pink group-active/heart:fill-neon-pink/30"}`}),a&&f.jsx("div",{className:"absolute inset-0 rounded-full border border-neon-pink animate-ping opacity-75"})]})]})}),f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg mb-2 text-foreground",children:n.title}),f.jsx("p",{className:"text-muted-foreground text-sm",children:n.description})]}),f.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Zr,{className:"w-4 h-4 text-neon-red"}),f.jsx("span",{className:"text-foreground font-medium",children:n.location})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(K_,{className:"w-4 h-4 text-neon-purple"}),f.jsx("span",{className:"text-foreground font-medium",children:n.time})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"text-xs flex items-center gap-2 text-muted-foreground",children:[f.jsx("span",{className:"text-neon-green",children:" POSTED BY:"}),f.jsx("span",{className:"font-bold text-foreground",children:n.organizer})]}),n.cost&&f.jsx("div",{className:`inline-block ${n.cost.toLowerCase()==="free"?"border border-neon-green text-neon-green bg-green-500/10 backdrop-blur-sm rounded-full px-3 py-1 text-xs font-bold":"gaming-counter px-3 py-1 text-xs font-bold"}`,children:n.cost.toLowerCase()==="free"?" FREE":` ${n.cost}`})]})]}),f.jsx("div",{className:"p-4 pt-0",children:f.jsx("button",{onClick:k,className:`w-full py-4 text-center font-bold tracking-wider active:scale-[0.95] transition-transform touch-manipulation ${e?"neon-button":"bg-gradient-to-r from-neon-purple/20 to-neon-cyan/20 border border-neon-purple/50 text-foreground hover:border-neon-cyan/80"}`,style:{minHeight:"48px"},children:e?" JOIN QUEST":" COMPLETE PROFILE TO JOIN"})}),f.jsx(e2,{isOpen:h,onClose:()=>p(!1),quest:{id:n.id,title:n.title,organizer:n.organizer,category:n.category,location:n.location,date:n.date,time:n.time},userProfile:C}),f.jsx(y4,{isOpen:g,onClose:()=>_(!1),onLoginSuccess:A,actionType:y,questTitle:n.title})]})}const zb=[{name:"Mumbai",state:"Maharashtra",tier:1,displayName:"Mumbai, Maharashtra"},{name:"Delhi",state:"Delhi",tier:1,displayName:"Delhi, NCR"},{name:"Bangalore",state:"Karnataka",tier:1,displayName:"Bangalore, Karnataka"},{name:"Hyderabad",state:"Telangana",tier:1,displayName:"Hyderabad, Telangana"},{name:"Chennai",state:"Tamil Nadu",tier:1,displayName:"Chennai, Tamil Nadu"},{name:"Kolkata",state:"West Bengal",tier:1,displayName:"Kolkata, West Bengal"},{name:"Pune",state:"Maharashtra",tier:1,displayName:"Pune, Maharashtra"},{name:"Ahmedabad",state:"Gujarat",tier:1,displayName:"Ahmedabad, Gujarat"},{name:"Gurgaon",state:"Haryana",tier:2,displayName:"Gurgaon, Haryana"},{name:"Noida",state:"Uttar Pradesh",tier:2,displayName:"Noida, Uttar Pradesh"},{name:"Kochi",state:"Kerala",tier:2,displayName:"Kochi, Kerala"},{name:"Jaipur",state:"Rajasthan",tier:2,displayName:"Jaipur, Rajasthan"},{name:"Indore",state:"Madhya Pradesh",tier:2,displayName:"Indore, Madhya Pradesh"},{name:"Chandigarh",state:"Chandigarh",tier:2,displayName:"Chandigarh, Punjab"},{name:"Coimbatore",state:"Tamil Nadu",tier:2,displayName:"Coimbatore, Tamil Nadu"},{name:"Vadodara",state:"Gujarat",tier:2,displayName:"Vadodara, Gujarat"},{name:"Nashik",state:"Maharashtra",tier:2,displayName:"Nashik, Maharashtra"},{name:"Lucknow",state:"Uttar Pradesh",tier:2,displayName:"Lucknow, Uttar Pradesh"},{name:"Nagpur",state:"Maharashtra",tier:2,displayName:"Nagpur, Maharashtra"},{name:"Visakhapatnam",state:"Andhra Pradesh",tier:2,displayName:"Visakhapatnam, Andhra Pradesh"},{name:"Bhubaneswar",state:"Odisha",tier:2,displayName:"Bhubaneswar, Odisha"},{name:"Patna",state:"Bihar",tier:2,displayName:"Patna, Bihar"},{name:"Thiruvananthapuram",state:"Kerala",tier:2,displayName:"Thiruvananthapuram, Kerala"},{name:"Agra",state:"Uttar Pradesh",tier:2,displayName:"Agra, Uttar Pradesh"},{name:"Mysore",state:"Karnataka",tier:2,displayName:"Mysore, Karnataka"},{name:"Surat",state:"Gujarat",tier:2,displayName:"Surat, Gujarat"},{name:"Mangalore",state:"Karnataka",tier:2,displayName:"Mangalore, Karnataka"},{name:"Dehradun",state:"Uttarakhand",tier:2,displayName:"Dehradun, Uttarakhand"},{name:"Varanasi",state:"Uttar Pradesh",tier:2,displayName:"Varanasi, Uttar Pradesh"},{name:"Amritsar",state:"Punjab",tier:2,displayName:"Amritsar, Punjab"},{name:"Allahabad",state:"Uttar Pradesh",tier:2,displayName:"Allahabad, Uttar Pradesh"},{name:"Ranchi",state:"Jharkhand",tier:2,displayName:"Ranchi, Jharkhand"},{name:"Guwahati",state:"Assam",tier:2,displayName:"Guwahati, Assam"},{name:"Pondicherry",state:"Puducherry",tier:2,displayName:"Pondicherry, Puducherry"},{name:"Jalandhar",state:"Punjab",tier:2,displayName:"Jalandhar, Punjab"},{name:"Madurai",state:"Tamil Nadu",tier:2,displayName:"Madurai, Tamil Nadu"},{name:"Rajkot",state:"Gujarat",tier:2,displayName:"Rajkot, Gujarat"},{name:"Kanpur",state:"Uttar Pradesh",tier:2,displayName:"Kanpur, Uttar Pradesh"}],v4=()=>zb.filter(n=>n.tier===1),w4=()=>zb.filter(n=>n.tier===2);function _4({selectedCity:n,onCityChange:e}){const[t,r]=T.useState(!1),[i,a]=T.useState(""),c=v4(),h=w4(),p=c.filter(x=>x.displayName.toLowerCase().includes(i.toLowerCase())||x.name.toLowerCase().includes(i.toLowerCase())||x.state.toLowerCase().includes(i.toLowerCase())),g=h.filter(x=>x.displayName.toLowerCase().includes(i.toLowerCase())||x.name.toLowerCase().includes(i.toLowerCase())||x.state.toLowerCase().includes(i.toLowerCase())),_=x=>{console.log("City selected:",x.displayName),e(x.displayName),r(!1),a("")},y=()=>{r(!1),a("")};return f.jsxs("div",{className:"relative",children:[f.jsxs("button",{className:"flex items-center gap-3 w-full p-4 hud-card active:border-neon-cyan group transition-all touch-manipulation",style:{minHeight:"60px"},onClick:()=>r(!t),children:[f.jsx(Zr,{className:"w-5 h-5 text-neon-cyan flex-shrink-0"}),f.jsxs("div",{className:"flex-1 text-left min-w-0",children:[f.jsx("div",{className:"text-xs text-muted-foreground font-semibold uppercase tracking-wider",children:"LOCATION"}),f.jsx("div",{className:"font-bold text-foreground truncate",children:n})]}),f.jsx(Pm,{className:`w-5 h-5 text-neon-cyan transition-transform flex-shrink-0 ${t?"rotate-180":""}`})]}),t&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:y}),f.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 z-50",children:f.jsxs("div",{className:"gaming-panel border-2 border-neon-cyan/50 bg-background/95 backdrop-blur-md max-h-[70vh] overflow-hidden",children:[f.jsx("div",{className:"p-4 border-b border-muted/20",children:f.jsx("input",{type:"text",placeholder:"Search cities...",value:i,onChange:x=>a(x.target.value),className:"w-full p-3 bg-input-background border border-input rounded-md text-foreground placeholder-muted-foreground focus:border-neon-cyan focus:outline-none transition-colors",autoFocus:!0})}),f.jsxs("div",{className:"overflow-y-auto max-h-[50vh] mobile-scroll",children:[f.jsx("div",{className:"p-4",children:f.jsxs("div",{className:"space-y-1",children:[p.map(x=>f.jsxs("button",{onClick:()=>_(x),className:`w-full p-3 text-left rounded-lg transition-all group flex items-center justify-between hover:bg-neon-cyan/10 ${n===x.displayName?"bg-neon-cyan/20 border border-neon-cyan/50":"hover:border hover:border-neon-cyan/30"}`,children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-foreground",children:x.name}),f.jsx("div",{className:"text-xs text-muted-foreground",children:x.state})]}),n===x.displayName&&f.jsx(Op,{className:"w-4 h-4 text-neon-cyan"})]},x.displayName)),g.map(x=>f.jsxs("button",{onClick:()=>_(x),className:`w-full p-3 text-left rounded-lg transition-all group flex items-center justify-between hover:bg-neon-purple/10 ${n===x.displayName?"bg-neon-purple/20 border border-neon-purple/50":"hover:border hover:border-neon-purple/30"}`,children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-foreground",children:x.name}),f.jsx("div",{className:"text-xs text-muted-foreground",children:x.state})]}),n===x.displayName&&f.jsx(Op,{className:"w-4 h-4 text-neon-purple"})]},x.displayName))]})}),p.length===0&&g.length===0&&i&&f.jsxs("div",{className:"p-8 text-center",children:[f.jsxs("div",{className:"text-muted-foreground",children:['No cities found matching "',i,'"']}),f.jsx("button",{onClick:()=>a(""),className:"mt-2 text-neon-cyan text-sm hover:underline",children:"Clear search"})]})]})]})})]})]})}function p_(n,[e,t]){return Math.min(t,Math.max(e,n))}function Ae(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function Fo(n,e=[]){let t=[];function r(a,c){const h=T.createContext(c),p=t.length;t=[...t,c];const g=y=>{const{scope:x,children:C,...P}=y,k=x?.[n]?.[p]||h,A=T.useMemo(()=>P,Object.values(P));return f.jsx(k.Provider,{value:A,children:C})};g.displayName=a+"Provider";function _(y,x){const C=x?.[n]?.[p]||h,P=T.useContext(C);if(P)return P;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[g,_]}const i=()=>{const a=t.map(c=>T.createContext(c));return function(h){const p=h?.[n]||a;return T.useMemo(()=>({[`__scope${n}`]:{...h,[n]:p}}),[h,p])}};return i.scopeName=n,[r,x4(i,...e)]}function x4(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=r.reduce((h,{useScope:p,scopeName:g})=>{const y=p(a)[`__scope${g}`];return{...h,...y}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function Og(n){const e=n+"CollectionProvider",[t,r]=Fo(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=k=>{const{scope:A,children:V}=k,U=he.useRef(null),I=he.useRef(new Map).current;return f.jsx(i,{scope:A,itemMap:I,collectionRef:U,children:V})};c.displayName=e;const h=n+"CollectionSlot",p=Ma(h),g=he.forwardRef((k,A)=>{const{scope:V,children:U}=k,I=a(h,V),W=lt(A,I.collectionRef);return f.jsx(p,{ref:W,children:U})});g.displayName=h;const _=n+"CollectionItemSlot",y="data-radix-collection-item",x=Ma(_),C=he.forwardRef((k,A)=>{const{scope:V,children:U,...I}=k,W=he.useRef(null),X=lt(A,W),ne=a(_,V);return he.useEffect(()=>(ne.itemMap.set(W,{ref:W,...I}),()=>void ne.itemMap.delete(W))),f.jsx(x,{[y]:"",ref:X,children:U})});C.displayName=_;function P(k){const A=a(n+"CollectionConsumer",k);return he.useCallback(()=>{const U=A.collectionRef.current;if(!U)return[];const I=Array.from(U.querySelectorAll(`[${y}]`));return Array.from(A.itemMap.values()).sort((ne,M)=>I.indexOf(ne.ref.current)-I.indexOf(M.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:c,Slot:g,ItemSlot:C},P,r]}var b4=T.createContext(void 0);function wh(n){const e=T.useContext(b4);return n||e||"ltr"}var E4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Je=E4.reduce((n,e)=>{const t=Ma(`Primitive.${e}`),r=T.forwardRef((i,a)=>{const{asChild:c,...h}=i,p=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(p,{...h,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function Bb(n,e){n&&Lo.flushSync(()=>n.dispatchEvent(e))}function ds(n){const e=T.useRef(n);return T.useEffect(()=>{e.current=n}),T.useMemo(()=>(...t)=>e.current?.(...t),[])}function T4(n,e=globalThis?.document){const t=ds(n);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var S4="DismissableLayer",vm="dismissableLayer.update",I4="dismissableLayer.pointerDownOutside",C4="dismissableLayer.focusOutside",m_,$b=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lg=T.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:c,onDismiss:h,...p}=n,g=T.useContext($b),[_,y]=T.useState(null),x=_?.ownerDocument??globalThis?.document,[,C]=T.useState({}),P=lt(e,M=>y(M)),k=Array.from(g.layers),[A]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),V=k.indexOf(A),U=_?k.indexOf(_):-1,I=g.layersWithOutsidePointerEventsDisabled.size>0,W=U>=V,X=R4(M=>{const S=M.target,N=[...g.branches].some(j=>j.contains(S));!W||N||(i?.(M),c?.(M),M.defaultPrevented||h?.())},x),ne=A4(M=>{const S=M.target;[...g.branches].some(j=>j.contains(S))||(a?.(M),c?.(M),M.defaultPrevented||h?.())},x);return T4(M=>{U===g.layers.size-1&&(r?.(M),!M.defaultPrevented&&h&&(M.preventDefault(),h()))},x),T.useEffect(()=>{if(_)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(m_=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(_)),g.layers.add(_),g_(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=m_)}},[_,x,t,g]),T.useEffect(()=>()=>{_&&(g.layers.delete(_),g.layersWithOutsidePointerEventsDisabled.delete(_),g_())},[_,g]),T.useEffect(()=>{const M=()=>C({});return document.addEventListener(vm,M),()=>document.removeEventListener(vm,M)},[]),f.jsx(Je.div,{...p,ref:P,style:{pointerEvents:I?W?"auto":"none":void 0,...n.style},onFocusCapture:Ae(n.onFocusCapture,ne.onFocusCapture),onBlurCapture:Ae(n.onBlurCapture,ne.onBlurCapture),onPointerDownCapture:Ae(n.onPointerDownCapture,X.onPointerDownCapture)})});Lg.displayName=S4;var k4="DismissableLayerBranch",N4=T.forwardRef((n,e)=>{const t=T.useContext($b),r=T.useRef(null),i=lt(e,r);return T.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),f.jsx(Je.div,{...n,ref:i})});N4.displayName=k4;function R4(n,e=globalThis?.document){const t=ds(n),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let p=function(){Hb(I4,t,g,{discrete:!0})};const g={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=p,e.addEventListener("click",i.current,{once:!0})):p()}else e.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function A4(n,e=globalThis?.document){const t=ds(n),r=T.useRef(!1);return T.useEffect(()=>{const i=a=>{a.target&&!r.current&&Hb(C4,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function g_(){const n=new CustomEvent(vm);document.dispatchEvent(n)}function Hb(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Bb(i,a):i.dispatchEvent(a)}var Ip=0;function Wb(){T.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??y_()),document.body.insertAdjacentElement("beforeend",n[1]??y_()),Ip++,()=>{Ip===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ip--}},[])}function y_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Cp="focusScope.autoFocusOnMount",kp="focusScope.autoFocusOnUnmount",v_={bubbles:!1,cancelable:!0},P4="FocusScope",Vg=T.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...c}=n,[h,p]=T.useState(null),g=ds(i),_=ds(a),y=T.useRef(null),x=lt(e,k=>p(k)),C=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let k=function(I){if(C.paused||!h)return;const W=I.target;h.contains(W)?y.current=W:vo(y.current,{select:!0})},A=function(I){if(C.paused||!h)return;const W=I.relatedTarget;W!==null&&(h.contains(W)||vo(y.current,{select:!0}))},V=function(I){if(document.activeElement===document.body)for(const X of I)X.removedNodes.length>0&&vo(h)};document.addEventListener("focusin",k),document.addEventListener("focusout",A);const U=new MutationObserver(V);return h&&U.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",A),U.disconnect()}}},[r,h,C.paused]),T.useEffect(()=>{if(h){__.add(C);const k=document.activeElement;if(!h.contains(k)){const V=new CustomEvent(Cp,v_);h.addEventListener(Cp,g),h.dispatchEvent(V),V.defaultPrevented||(M4(V4(Gb(h)),{select:!0}),document.activeElement===k&&vo(h))}return()=>{h.removeEventListener(Cp,g),setTimeout(()=>{const V=new CustomEvent(kp,v_);h.addEventListener(kp,_),h.dispatchEvent(V),V.defaultPrevented||vo(k??document.body,{select:!0}),h.removeEventListener(kp,_),__.remove(C)},0)}}},[h,g,_,C]);const P=T.useCallback(k=>{if(!t&&!r||C.paused)return;const A=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,V=document.activeElement;if(A&&V){const U=k.currentTarget,[I,W]=D4(U);I&&W?!k.shiftKey&&V===W?(k.preventDefault(),t&&vo(I,{select:!0})):k.shiftKey&&V===I&&(k.preventDefault(),t&&vo(W,{select:!0})):V===U&&k.preventDefault()}},[t,r,C.paused]);return f.jsx(Je.div,{tabIndex:-1,...c,ref:x,onKeyDown:P})});Vg.displayName=P4;function M4(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(vo(r,{select:e}),document.activeElement!==t)return}function D4(n){const e=Gb(n),t=w_(e,n),r=w_(e.reverse(),n);return[t,r]}function Gb(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function w_(n,e){for(const t of n)if(!j4(t,{upTo:e}))return t}function j4(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function O4(n){return n instanceof HTMLInputElement&&"select"in n}function vo(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&O4(n)&&e&&n.select()}}var __=L4();function L4(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=x_(n,e),n.unshift(e)},remove(e){n=x_(n,e),n[0]?.resume()}}}function x_(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function V4(n){return n.filter(e=>e.tagName!=="A")}var pn=globalThis?.document?T.useLayoutEffect:()=>{},F4=W_[" useId ".trim().toString()]||(()=>{}),U4=0;function Ba(n){const[e,t]=T.useState(F4());return pn(()=>{t(r=>r??String(U4++))},[n]),n||(e?`radix-${e}`:"")}const z4=["top","right","bottom","left"],jo=Math.min,Hn=Math.max,zd=Math.round,ed=Math.floor,as=n=>({x:n,y:n}),B4={left:"right",right:"left",bottom:"top",top:"bottom"},$4={start:"end",end:"start"};function wm(n,e,t){return Hn(n,jo(e,t))}function Us(n,e){return typeof n=="function"?n(e):n}function zs(n){return n.split("-")[0]}function Ja(n){return n.split("-")[1]}function Fg(n){return n==="x"?"y":"x"}function Ug(n){return n==="y"?"height":"width"}const H4=new Set(["top","bottom"]);function Jr(n){return H4.has(zs(n))?"y":"x"}function zg(n){return Fg(Jr(n))}function W4(n,e,t){t===void 0&&(t=!1);const r=Ja(n),i=zg(n),a=Ug(i);let c=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Bd(c)),[c,Bd(c)]}function G4(n){const e=Bd(n);return[_m(n),e,_m(e)]}function _m(n){return n.replace(/start|end/g,e=>$4[e])}const b_=["left","right"],E_=["right","left"],q4=["top","bottom"],K4=["bottom","top"];function Q4(n,e,t){switch(n){case"top":case"bottom":return t?e?E_:b_:e?b_:E_;case"left":case"right":return e?q4:K4;default:return[]}}function Y4(n,e,t,r){const i=Ja(n);let a=Q4(zs(n),t==="start",r);return i&&(a=a.map(c=>c+"-"+i),e&&(a=a.concat(a.map(_m)))),a}function Bd(n){return n.replace(/left|right|bottom|top/g,e=>B4[e])}function X4(n){return{top:0,right:0,bottom:0,left:0,...n}}function qb(n){return typeof n!="number"?X4(n):{top:n,right:n,bottom:n,left:n}}function $d(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function T_(n,e,t){let{reference:r,floating:i}=n;const a=Jr(e),c=zg(e),h=Ug(c),p=zs(e),g=a==="y",_=r.x+r.width/2-i.width/2,y=r.y+r.height/2-i.height/2,x=r[h]/2-i[h]/2;let C;switch(p){case"top":C={x:_,y:r.y-i.height};break;case"bottom":C={x:_,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y};break;case"left":C={x:r.x-i.width,y};break;default:C={x:r.x,y:r.y}}switch(Ja(e)){case"start":C[c]-=x*(t&&g?-1:1);break;case"end":C[c]+=x*(t&&g?-1:1);break}return C}const J4=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:c}=t,h=a.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(e));let g=await c.getElementRects({reference:n,floating:e,strategy:i}),{x:_,y}=T_(g,r,p),x=r,C={},P=0;for(let k=0;k<h.length;k++){const{name:A,fn:V}=h[k],{x:U,y:I,data:W,reset:X}=await V({x:_,y,initialPlacement:r,placement:x,strategy:i,middlewareData:C,rects:g,platform:c,elements:{reference:n,floating:e}});_=U??_,y=I??y,C={...C,[A]:{...C[A],...W}},X&&P<=50&&(P++,typeof X=="object"&&(X.placement&&(x=X.placement),X.rects&&(g=X.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:i}):X.rects),{x:_,y}=T_(g,x,p)),k=-1)}return{x:_,y,placement:x,strategy:i,middlewareData:C}};async function yc(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:c,elements:h,strategy:p}=n,{boundary:g="clippingAncestors",rootBoundary:_="viewport",elementContext:y="floating",altBoundary:x=!1,padding:C=0}=Us(e,n),P=qb(C),A=h[x?y==="floating"?"reference":"floating":y],V=$d(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:g,rootBoundary:_,strategy:p})),U=y==="floating"?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),W=await(a.isElement==null?void 0:a.isElement(I))?await(a.getScale==null?void 0:a.getScale(I))||{x:1,y:1}:{x:1,y:1},X=$d(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:U,offsetParent:I,strategy:p}):U);return{top:(V.top-X.top+P.top)/W.y,bottom:(X.bottom-V.bottom+P.bottom)/W.y,left:(V.left-X.left+P.left)/W.x,right:(X.right-V.right+P.right)/W.x}}const Z4=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:c,elements:h,middlewareData:p}=e,{element:g,padding:_=0}=Us(n,e)||{};if(g==null)return{};const y=qb(_),x={x:t,y:r},C=zg(i),P=Ug(C),k=await c.getDimensions(g),A=C==="y",V=A?"top":"left",U=A?"bottom":"right",I=A?"clientHeight":"clientWidth",W=a.reference[P]+a.reference[C]-x[C]-a.floating[P],X=x[C]-a.reference[C],ne=await(c.getOffsetParent==null?void 0:c.getOffsetParent(g));let M=ne?ne[I]:0;(!M||!await(c.isElement==null?void 0:c.isElement(ne)))&&(M=h.floating[I]||a.floating[P]);const S=W/2-X/2,N=M/2-k[P]/2-1,j=jo(y[V],N),O=jo(y[U],N),F=j,D=M-k[P]-O,ye=M/2-k[P]/2+S,ke=wm(F,ye,D),le=!p.arrow&&Ja(i)!=null&&ye!==ke&&a.reference[P]/2-(ye<F?j:O)-k[P]/2<0,pe=le?ye<F?ye-F:ye-D:0;return{[C]:x[C]+pe,data:{[C]:ke,centerOffset:ye-ke-pe,...le&&{alignmentOffset:pe}},reset:le}}}),ej=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:c,initialPlacement:h,platform:p,elements:g}=e,{mainAxis:_=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:k=!0,...A}=Us(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const V=zs(i),U=Jr(h),I=zs(h)===h,W=await(p.isRTL==null?void 0:p.isRTL(g.floating)),X=x||(I||!k?[Bd(h)]:G4(h)),ne=P!=="none";!x&&ne&&X.push(...Y4(h,k,P,W));const M=[h,...X],S=await yc(e,A),N=[];let j=((r=a.flip)==null?void 0:r.overflows)||[];if(_&&N.push(S[V]),y){const ye=W4(i,c,W);N.push(S[ye[0]],S[ye[1]])}if(j=[...j,{placement:i,overflows:N}],!N.every(ye=>ye<=0)){var O,F;const ye=(((O=a.flip)==null?void 0:O.index)||0)+1,ke=M[ye];if(ke&&(!(y==="alignment"?U!==Jr(ke):!1)||j.every(H=>Jr(H.placement)===U?H.overflows[0]>0:!0)))return{data:{index:ye,overflows:j},reset:{placement:ke}};let le=(F=j.filter(pe=>pe.overflows[0]<=0).sort((pe,H)=>pe.overflows[1]-H.overflows[1])[0])==null?void 0:F.placement;if(!le)switch(C){case"bestFit":{var D;const pe=(D=j.filter(H=>{if(ne){const J=Jr(H.placement);return J===U||J==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(J=>J>0).reduce((J,se)=>J+se,0)]).sort((H,J)=>H[1]-J[1])[0])==null?void 0:D[0];pe&&(le=pe);break}case"initialPlacement":le=h;break}if(i!==le)return{reset:{placement:le}}}return{}}}};function S_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function I_(n){return z4.some(e=>n[e]>=0)}const tj=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Us(n,e);switch(r){case"referenceHidden":{const a=await yc(e,{...i,elementContext:"reference"}),c=S_(a,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:I_(c)}}}case"escaped":{const a=await yc(e,{...i,altBoundary:!0}),c=S_(a,t.floating);return{data:{escapedOffsets:c,escaped:I_(c)}}}default:return{}}}}},Kb=new Set(["left","top"]);async function nj(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),c=zs(t),h=Ja(t),p=Jr(t)==="y",g=Kb.has(c)?-1:1,_=a&&p?-1:1,y=Us(e,n);let{mainAxis:x,crossAxis:C,alignmentAxis:P}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return h&&typeof P=="number"&&(C=h==="end"?P*-1:P),p?{x:C*_,y:x*g}:{x:x*g,y:C*_}}const rj=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:c,middlewareData:h}=e,p=await nj(e,n);return c===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:i+p.x,y:a+p.y,data:{...p,placement:c}}}}},sj=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:h={fn:A=>{let{x:V,y:U}=A;return{x:V,y:U}}},...p}=Us(n,e),g={x:t,y:r},_=await yc(e,p),y=Jr(zs(i)),x=Fg(y);let C=g[x],P=g[y];if(a){const A=x==="y"?"top":"left",V=x==="y"?"bottom":"right",U=C+_[A],I=C-_[V];C=wm(U,C,I)}if(c){const A=y==="y"?"top":"left",V=y==="y"?"bottom":"right",U=P+_[A],I=P-_[V];P=wm(U,P,I)}const k=h.fn({...e,[x]:C,[y]:P});return{...k,data:{x:k.x-t,y:k.y-r,enabled:{[x]:a,[y]:c}}}}}},oj=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:c}=e,{offset:h=0,mainAxis:p=!0,crossAxis:g=!0}=Us(n,e),_={x:t,y:r},y=Jr(i),x=Fg(y);let C=_[x],P=_[y];const k=Us(h,e),A=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(p){const I=x==="y"?"height":"width",W=a.reference[x]-a.floating[I]+A.mainAxis,X=a.reference[x]+a.reference[I]-A.mainAxis;C<W?C=W:C>X&&(C=X)}if(g){var V,U;const I=x==="y"?"width":"height",W=Kb.has(zs(i)),X=a.reference[y]-a.floating[I]+(W&&((V=c.offset)==null?void 0:V[y])||0)+(W?0:A.crossAxis),ne=a.reference[y]+a.reference[I]+(W?0:((U=c.offset)==null?void 0:U[y])||0)-(W?A.crossAxis:0);P<X?P=X:P>ne&&(P=ne)}return{[x]:C,[y]:P}}}},ij=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:c,elements:h}=e,{apply:p=()=>{},...g}=Us(n,e),_=await yc(e,g),y=zs(i),x=Ja(i),C=Jr(i)==="y",{width:P,height:k}=a.floating;let A,V;y==="top"||y==="bottom"?(A=y,V=x===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(V=y,A=x==="end"?"top":"bottom");const U=k-_.top-_.bottom,I=P-_.left-_.right,W=jo(k-_[A],U),X=jo(P-_[V],I),ne=!e.middlewareData.shift;let M=W,S=X;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=U),ne&&!x){const j=Hn(_.left,0),O=Hn(_.right,0),F=Hn(_.top,0),D=Hn(_.bottom,0);C?S=P-2*(j!==0||O!==0?j+O:Hn(_.left,_.right)):M=k-2*(F!==0||D!==0?F+D:Hn(_.top,_.bottom))}await p({...e,availableWidth:S,availableHeight:M});const N=await c.getDimensions(h.floating);return P!==N.width||k!==N.height?{reset:{rects:!0}}:{}}}};function _h(){return typeof window<"u"}function Za(n){return Qb(n)?(n.nodeName||"").toLowerCase():"#document"}function Wn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ms(n){var e;return(e=(Qb(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Qb(n){return _h()?n instanceof Node||n instanceof Wn(n).Node:!1}function Ir(n){return _h()?n instanceof Element||n instanceof Wn(n).Element:!1}function hs(n){return _h()?n instanceof HTMLElement||n instanceof Wn(n).HTMLElement:!1}function C_(n){return!_h()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Wn(n).ShadowRoot}const aj=new Set(["inline","contents"]);function Pc(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Cr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!aj.has(i)}const lj=new Set(["table","td","th"]);function cj(n){return lj.has(Za(n))}const uj=[":popover-open",":modal"];function xh(n){return uj.some(e=>{try{return n.matches(e)}catch{return!1}})}const dj=["transform","translate","scale","rotate","perspective"],hj=["transform","translate","scale","rotate","perspective","filter"],fj=["paint","layout","strict","content"];function Bg(n){const e=$g(),t=Ir(n)?Cr(n):n;return dj.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||hj.some(r=>(t.willChange||"").includes(r))||fj.some(r=>(t.contain||"").includes(r))}function pj(n){let e=Oo(n);for(;hs(e)&&!$a(e);){if(Bg(e))return e;if(xh(e))return null;e=Oo(e)}return null}function $g(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mj=new Set(["html","body","#document"]);function $a(n){return mj.has(Za(n))}function Cr(n){return Wn(n).getComputedStyle(n)}function bh(n){return Ir(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Oo(n){if(Za(n)==="html")return n;const e=n.assignedSlot||n.parentNode||C_(n)&&n.host||ms(n);return C_(e)?e.host:e}function Yb(n){const e=Oo(n);return $a(e)?n.ownerDocument?n.ownerDocument.body:n.body:hs(e)&&Pc(e)?e:Yb(e)}function vc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Yb(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),c=Wn(i);if(a){const h=xm(c);return e.concat(c,c.visualViewport||[],Pc(i)?i:[],h&&t?vc(h):[])}return e.concat(i,vc(i,[],t))}function xm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Xb(n){const e=Cr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=hs(n),a=i?n.offsetWidth:t,c=i?n.offsetHeight:r,h=zd(t)!==a||zd(r)!==c;return h&&(t=a,r=c),{width:t,height:r,$:h}}function Hg(n){return Ir(n)?n:n.contextElement}function Aa(n){const e=Hg(n);if(!hs(e))return as(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=Xb(e);let c=(a?zd(t.width):t.width)/r,h=(a?zd(t.height):t.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const gj=as(0);function Jb(n){const e=Wn(n);return!$g()||!e.visualViewport?gj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yj(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Wn(n)?!1:e}function Ii(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=Hg(n);let c=as(1);e&&(r?Ir(r)&&(c=Aa(r)):c=Aa(n));const h=yj(a,t,r)?Jb(a):as(0);let p=(i.left+h.x)/c.x,g=(i.top+h.y)/c.y,_=i.width/c.x,y=i.height/c.y;if(a){const x=Wn(a),C=r&&Ir(r)?Wn(r):r;let P=x,k=xm(P);for(;k&&r&&C!==P;){const A=Aa(k),V=k.getBoundingClientRect(),U=Cr(k),I=V.left+(k.clientLeft+parseFloat(U.paddingLeft))*A.x,W=V.top+(k.clientTop+parseFloat(U.paddingTop))*A.y;p*=A.x,g*=A.y,_*=A.x,y*=A.y,p+=I,g+=W,P=Wn(k),k=xm(P)}}return $d({width:_,height:y,x:p,y:g})}function Eh(n,e){const t=bh(n).scrollLeft;return e?e.left+t:Ii(ms(n)).left+t}function Zb(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Eh(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function vj(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",c=ms(r),h=e?xh(e.floating):!1;if(r===c||h&&a)return t;let p={scrollLeft:0,scrollTop:0},g=as(1);const _=as(0),y=hs(r);if((y||!y&&!a)&&((Za(r)!=="body"||Pc(c))&&(p=bh(r)),hs(r))){const C=Ii(r);g=Aa(r),_.x=C.x+r.clientLeft,_.y=C.y+r.clientTop}const x=c&&!y&&!a?Zb(c,p):as(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-p.scrollLeft*g.x+_.x+x.x,y:t.y*g.y-p.scrollTop*g.y+_.y+x.y}}function wj(n){return Array.from(n.getClientRects())}function _j(n){const e=ms(n),t=bh(n),r=n.ownerDocument.body,i=Hn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Hn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-t.scrollLeft+Eh(n);const h=-t.scrollTop;return Cr(r).direction==="rtl"&&(c+=Hn(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:c,y:h}}const k_=25;function xj(n,e){const t=Wn(n),r=ms(n),i=t.visualViewport;let a=r.clientWidth,c=r.clientHeight,h=0,p=0;if(i){a=i.width,c=i.height;const _=$g();(!_||_&&e==="fixed")&&(h=i.offsetLeft,p=i.offsetTop)}const g=Eh(r);if(g<=0){const _=r.ownerDocument,y=_.body,x=getComputedStyle(y),C=_.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,P=Math.abs(r.clientWidth-y.clientWidth-C);P<=k_&&(a-=P)}else g<=k_&&(a+=g);return{width:a,height:c,x:h,y:p}}const bj=new Set(["absolute","fixed"]);function Ej(n,e){const t=Ii(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=hs(n)?Aa(n):as(1),c=n.clientWidth*a.x,h=n.clientHeight*a.y,p=i*a.x,g=r*a.y;return{width:c,height:h,x:p,y:g}}function N_(n,e,t){let r;if(e==="viewport")r=xj(n,t);else if(e==="document")r=_j(ms(n));else if(Ir(e))r=Ej(e,t);else{const i=Jb(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return $d(r)}function eE(n,e){const t=Oo(n);return t===e||!Ir(t)||$a(t)?!1:Cr(t).position==="fixed"||eE(t,e)}function Tj(n,e){const t=e.get(n);if(t)return t;let r=vc(n,[],!1).filter(h=>Ir(h)&&Za(h)!=="body"),i=null;const a=Cr(n).position==="fixed";let c=a?Oo(n):n;for(;Ir(c)&&!$a(c);){const h=Cr(c),p=Bg(c);!p&&h.position==="fixed"&&(i=null),(a?!p&&!i:!p&&h.position==="static"&&!!i&&bj.has(i.position)||Pc(c)&&!p&&eE(n,c))?r=r.filter(_=>_!==c):i=h,c=Oo(c)}return e.set(n,r),r}function Sj(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const c=[...t==="clippingAncestors"?xh(e)?[]:Tj(e,this._c):[].concat(t),r],h=c[0],p=c.reduce((g,_)=>{const y=N_(e,_,i);return g.top=Hn(y.top,g.top),g.right=jo(y.right,g.right),g.bottom=jo(y.bottom,g.bottom),g.left=Hn(y.left,g.left),g},N_(e,h,i));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Ij(n){const{width:e,height:t}=Xb(n);return{width:e,height:t}}function Cj(n,e,t){const r=hs(e),i=ms(e),a=t==="fixed",c=Ii(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const p=as(0);function g(){p.x=Eh(i)}if(r||!r&&!a)if((Za(e)!=="body"||Pc(i))&&(h=bh(e)),r){const C=Ii(e,!0,a,e);p.x=C.x+e.clientLeft,p.y=C.y+e.clientTop}else i&&g();a&&!r&&i&&g();const _=i&&!r&&!a?Zb(i,h):as(0),y=c.left+h.scrollLeft-p.x-_.x,x=c.top+h.scrollTop-p.y-_.y;return{x:y,y:x,width:c.width,height:c.height}}function Np(n){return Cr(n).position==="static"}function R_(n,e){if(!hs(n)||Cr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ms(n)===t&&(t=t.ownerDocument.body),t}function tE(n,e){const t=Wn(n);if(xh(n))return t;if(!hs(n)){let i=Oo(n);for(;i&&!$a(i);){if(Ir(i)&&!Np(i))return i;i=Oo(i)}return t}let r=R_(n,e);for(;r&&cj(r)&&Np(r);)r=R_(r,e);return r&&$a(r)&&Np(r)&&!Bg(r)?t:r||pj(n)||t}const kj=async function(n){const e=this.getOffsetParent||tE,t=this.getDimensions,r=await t(n.floating);return{reference:Cj(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Nj(n){return Cr(n).direction==="rtl"}const Rj={convertOffsetParentRelativeRectToViewportRelativeRect:vj,getDocumentElement:ms,getClippingRect:Sj,getOffsetParent:tE,getElementRects:kj,getClientRects:wj,getDimensions:Ij,getScale:Aa,isElement:Ir,isRTL:Nj};function nE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Aj(n,e){let t=null,r;const i=ms(n);function a(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function c(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),a();const g=n.getBoundingClientRect(),{left:_,top:y,width:x,height:C}=g;if(h||e(),!x||!C)return;const P=ed(y),k=ed(i.clientWidth-(_+x)),A=ed(i.clientHeight-(y+C)),V=ed(_),I={rootMargin:-P+"px "+-k+"px "+-A+"px "+-V+"px",threshold:Hn(0,jo(1,p))||1};let W=!0;function X(ne){const M=ne[0].intersectionRatio;if(M!==p){if(!W)return c();M?c(!1,M):r=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!nE(g,n.getBoundingClientRect())&&c(),W=!1}try{t=new IntersectionObserver(X,{...I,root:i.ownerDocument})}catch{t=new IntersectionObserver(X,I)}t.observe(n)}return c(!0),a}function Pj(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,g=Hg(n),_=i||a?[...g?vc(g):[],...vc(e)]:[];_.forEach(V=>{i&&V.addEventListener("scroll",t,{passive:!0}),a&&V.addEventListener("resize",t)});const y=g&&h?Aj(g,t):null;let x=-1,C=null;c&&(C=new ResizeObserver(V=>{let[U]=V;U&&U.target===g&&C&&(C.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var I;(I=C)==null||I.observe(e)})),t()}),g&&!p&&C.observe(g),C.observe(e));let P,k=p?Ii(n):null;p&&A();function A(){const V=Ii(n);k&&!nE(k,V)&&t(),k=V,P=requestAnimationFrame(A)}return t(),()=>{var V;_.forEach(U=>{i&&U.removeEventListener("scroll",t),a&&U.removeEventListener("resize",t)}),y?.(),(V=C)==null||V.disconnect(),C=null,p&&cancelAnimationFrame(P)}}const Mj=rj,Dj=sj,jj=ej,Oj=ij,Lj=tj,A_=Z4,Vj=oj,Fj=(n,e,t)=>{const r=new Map,i={platform:Rj,...t},a={...i.platform,_c:r};return J4(n,e,{...i,platform:a})};var Uj=typeof document<"u",zj=function(){},vd=Uj?T.useLayoutEffect:zj;function Hd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Hd(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!Hd(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function rE(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function P_(n,e){const t=rE(n);return Math.round(e*t)/t}function Rp(n){const e=T.useRef(n);return vd(()=>{e.current=n}),e}function Bj(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:c}={},transform:h=!0,whileElementsMounted:p,open:g}=n,[_,y]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,C]=T.useState(r);Hd(x,r)||C(r);const[P,k]=T.useState(null),[A,V]=T.useState(null),U=T.useCallback(H=>{H!==ne.current&&(ne.current=H,k(H))},[]),I=T.useCallback(H=>{H!==M.current&&(M.current=H,V(H))},[]),W=a||P,X=c||A,ne=T.useRef(null),M=T.useRef(null),S=T.useRef(_),N=p!=null,j=Rp(p),O=Rp(i),F=Rp(g),D=T.useCallback(()=>{if(!ne.current||!M.current)return;const H={placement:e,strategy:t,middleware:x};O.current&&(H.platform=O.current),Fj(ne.current,M.current,H).then(J=>{const se={...J,isPositioned:F.current!==!1};ye.current&&!Hd(S.current,se)&&(S.current=se,Lo.flushSync(()=>{y(se)}))})},[x,e,t,O,F]);vd(()=>{g===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,y(H=>({...H,isPositioned:!1})))},[g]);const ye=T.useRef(!1);vd(()=>(ye.current=!0,()=>{ye.current=!1}),[]),vd(()=>{if(W&&(ne.current=W),X&&(M.current=X),W&&X){if(j.current)return j.current(W,X,D);D()}},[W,X,D,j,N]);const ke=T.useMemo(()=>({reference:ne,floating:M,setReference:U,setFloating:I}),[U,I]),le=T.useMemo(()=>({reference:W,floating:X}),[W,X]),pe=T.useMemo(()=>{const H={position:t,left:0,top:0};if(!le.floating)return H;const J=P_(le.floating,_.x),se=P_(le.floating,_.y);return h?{...H,transform:"translate("+J+"px, "+se+"px)",...rE(le.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:J,top:se}},[t,h,le.floating,_.x,_.y]);return T.useMemo(()=>({..._,update:D,refs:ke,elements:le,floatingStyles:pe}),[_,D,ke,le,pe])}const $j=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?A_({element:r.current,padding:i}).fn(t):{}:r?A_({element:r,padding:i}).fn(t):{}}}},Hj=(n,e)=>({...Mj(n),options:[n,e]}),Wj=(n,e)=>({...Dj(n),options:[n,e]}),Gj=(n,e)=>({...Vj(n),options:[n,e]}),qj=(n,e)=>({...jj(n),options:[n,e]}),Kj=(n,e)=>({...Oj(n),options:[n,e]}),Qj=(n,e)=>({...Lj(n),options:[n,e]}),Yj=(n,e)=>({...$j(n),options:[n,e]});var Xj="Arrow",sE=T.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return f.jsx(Je.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});sE.displayName=Xj;var Jj=sE;function oE(n){const[e,t]=T.useState(void 0);return pn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let c,h;if("borderBoxSize"in a){const p=a.borderBoxSize,g=Array.isArray(p)?p[0]:p;c=g.inlineSize,h=g.blockSize}else c=n.offsetWidth,h=n.offsetHeight;t({width:c,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Wg="Popper",[iE,Th]=Fo(Wg),[Zj,aE]=iE(Wg),lE=n=>{const{__scopePopper:e,children:t}=n,[r,i]=T.useState(null);return f.jsx(Zj,{scope:e,anchor:r,onAnchorChange:i,children:t})};lE.displayName=Wg;var cE="PopperAnchor",uE=T.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=aE(cE,t),c=T.useRef(null),h=lt(e,c),p=T.useRef(null);return T.useEffect(()=>{const g=p.current;p.current=r?.current||c.current,g!==p.current&&a.onAnchorChange(p.current)}),r?null:f.jsx(Je.div,{...i,ref:h})});uE.displayName=cE;var Gg="PopperContent",[eO,tO]=iE(Gg),dE=T.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:c=0,arrowPadding:h=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:_=0,sticky:y="partial",hideWhenDetached:x=!1,updatePositionStrategy:C="optimized",onPlaced:P,...k}=n,A=aE(Gg,t),[V,U]=T.useState(null),I=lt(e,ee=>U(ee)),[W,X]=T.useState(null),ne=oE(W),M=ne?.width??0,S=ne?.height??0,N=r+(a!=="center"?"-"+a:""),j=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},O=Array.isArray(g)?g:[g],F=O.length>0,D={padding:j,boundary:O.filter(rO),altBoundary:F},{refs:ye,floatingStyles:ke,placement:le,isPositioned:pe,middlewareData:H}=Bj({strategy:"fixed",placement:N,whileElementsMounted:(...ee)=>Pj(...ee,{animationFrame:C==="always"}),elements:{reference:A.anchor},middleware:[Hj({mainAxis:i+S,alignmentAxis:c}),p&&Wj({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?Gj():void 0,...D}),p&&qj({...D}),Kj({...D,apply:({elements:ee,rects:fe,availableWidth:Ne,availableHeight:De})=>{const{width:Be,height:We}=fe.reference,vt=ee.floating.style;vt.setProperty("--radix-popper-available-width",`${Ne}px`),vt.setProperty("--radix-popper-available-height",`${De}px`),vt.setProperty("--radix-popper-anchor-width",`${Be}px`),vt.setProperty("--radix-popper-anchor-height",`${We}px`)}}),W&&Yj({element:W,padding:h}),sO({arrowWidth:M,arrowHeight:S}),x&&Qj({strategy:"referenceHidden",...D})]}),[J,se]=pE(le),B=ds(P);pn(()=>{pe&&B?.()},[pe,B]);const Z=H.arrow?.x,ie=H.arrow?.y,ue=H.arrow?.centerOffset!==0,[ge,xe]=T.useState();return pn(()=>{V&&xe(window.getComputedStyle(V).zIndex)},[V]),f.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...ke,transform:pe?ke.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:f.jsx(eO,{scope:t,placedSide:J,onArrowChange:X,arrowX:Z,arrowY:ie,shouldHideArrow:ue,children:f.jsx(Je.div,{"data-side":J,"data-align":se,...k,ref:I,style:{...k.style,animation:pe?void 0:"none"}})})})});dE.displayName=Gg;var hE="PopperArrow",nO={top:"bottom",right:"left",bottom:"top",left:"right"},fE=T.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=tO(hE,r),c=nO[a.placedSide];return f.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:f.jsx(Jj,{...i,ref:t,style:{...i.style,display:"block"}})})});fE.displayName=hE;function rO(n){return n!==null}var sO=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:i}=e,c=i.arrow?.centerOffset!==0,h=c?0:n.arrowWidth,p=c?0:n.arrowHeight,[g,_]=pE(t),y={start:"0%",center:"50%",end:"100%"}[_],x=(i.arrow?.x??0)+h/2,C=(i.arrow?.y??0)+p/2;let P="",k="";return g==="bottom"?(P=c?y:`${x}px`,k=`${-p}px`):g==="top"?(P=c?y:`${x}px`,k=`${r.floating.height+p}px`):g==="right"?(P=`${-p}px`,k=c?y:`${C}px`):g==="left"&&(P=`${r.floating.width+p}px`,k=c?y:`${C}px`),{data:{x:P,y:k}}}});function pE(n){const[e,t="center"]=n.split("-");return[e,t]}var mE=lE,gE=uE,yE=dE,vE=fE,oO="Portal",qg=T.forwardRef((n,e)=>{const{container:t,...r}=n,[i,a]=T.useState(!1);pn(()=>a(!0),[]);const c=t||i&&globalThis?.document?.body;return c?X_.createPortal(f.jsx(Je.div,{...r,ref:e}),c):null});qg.displayName=oO;var iO=W_[" useInsertionEffect ".trim().toString()]||pn;function wc({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,a,c]=aO({defaultProp:e,onChange:t}),h=n!==void 0,p=h?n:i;{const _=T.useRef(n!==void 0);T.useEffect(()=>{const y=_.current;y!==h&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=h},[h,r])}const g=T.useCallback(_=>{if(h){const y=lO(_)?_(n):_;y!==n&&c.current?.(y)}else a(_)},[h,n,a,c]);return[p,g]}function aO({defaultProp:n,onChange:e}){const[t,r]=T.useState(n),i=T.useRef(t),a=T.useRef(e);return iO(()=>{a.current=e},[e]),T.useEffect(()=>{i.current!==t&&(a.current?.(t),i.current=t)},[t,i]),[t,r,a]}function lO(n){return typeof n=="function"}function wE(n){const e=T.useRef({value:n,previous:n});return T.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var _E=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cO="VisuallyHidden",uO=T.forwardRef((n,e)=>f.jsx(Je.span,{...n,ref:e,style:{..._E,...n.style}}));uO.displayName=cO;var dO=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},wa=new WeakMap,td=new WeakMap,nd={},Ap=0,xE=function(n){return n&&(n.host||xE(n.parentNode))},hO=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=xE(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},fO=function(n,e,t,r){var i=hO(e,Array.isArray(n)?n:[n]);nd[t]||(nd[t]=new WeakMap);var a=nd[t],c=[],h=new Set,p=new Set(i),g=function(y){!y||h.has(y)||(h.add(y),g(y.parentNode))};i.forEach(g);var _=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(x){if(h.has(x))_(x);else try{var C=x.getAttribute(r),P=C!==null&&C!=="false",k=(wa.get(x)||0)+1,A=(a.get(x)||0)+1;wa.set(x,k),a.set(x,A),c.push(x),k===1&&P&&td.set(x,!0),A===1&&x.setAttribute(t,"true"),P||x.setAttribute(r,"true")}catch(V){console.error("aria-hidden: cannot operate on ",x,V)}})};return _(e),h.clear(),Ap++,function(){c.forEach(function(y){var x=wa.get(y)-1,C=a.get(y)-1;wa.set(y,x),a.set(y,C),x||(td.has(y)||y.removeAttribute(r),td.delete(y)),C||y.removeAttribute(t)}),Ap--,Ap||(wa=new WeakMap,wa=new WeakMap,td=new WeakMap,nd={})}},bE=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=dO(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),fO(r,i,t,"aria-hidden")):function(){return null}},Xr=function(){return Xr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Xr.apply(this,arguments)};function EE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function pO(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var wd="right-scroll-bar-position",_d="width-before-scroll-bar",mO="with-scroll-bars-hidden",gO="--removed-body-scroll-bar-size";function Pp(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function yO(n,e){var t=T.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var vO=typeof window<"u"?T.useLayoutEffect:T.useEffect,M_=new WeakMap;function wO(n,e){var t=yO(null,function(r){return n.forEach(function(i){return Pp(i,r)})});return vO(function(){var r=M_.get(t);if(r){var i=new Set(r),a=new Set(n),c=t.current;i.forEach(function(h){a.has(h)||Pp(h,null)}),a.forEach(function(h){i.has(h)||Pp(h,c)})}M_.set(t,n)},[n]),t}function _O(n){return n}function xO(n,e){e===void 0&&(e=_O);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var c=e(a,r);return t.push(c),function(){t=t.filter(function(h){return h!==c})}},assignSyncMedium:function(a){for(r=!0;t.length;){var c=t;t=[],c.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){r=!0;var c=[];if(t.length){var h=t;t=[],h.forEach(a),c=t}var p=function(){var _=c;c=[],_.forEach(a)},g=function(){return Promise.resolve().then(p)};g(),t={push:function(_){c.push(_),g()},filter:function(_){return c=c.filter(_),t}}}};return i}function bO(n){n===void 0&&(n={});var e=xO(null);return e.options=Xr({async:!0,ssr:!1},n),e}var TE=function(n){var e=n.sideCar,t=EE(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Xr({},t))};TE.isSideCarExport=!0;function EO(n,e){return n.useMedium(e),TE}var SE=bO(),Mp=function(){},Sh=T.forwardRef(function(n,e){var t=T.useRef(null),r=T.useState({onScrollCapture:Mp,onWheelCapture:Mp,onTouchMoveCapture:Mp}),i=r[0],a=r[1],c=n.forwardProps,h=n.children,p=n.className,g=n.removeScrollBar,_=n.enabled,y=n.shards,x=n.sideCar,C=n.noRelative,P=n.noIsolation,k=n.inert,A=n.allowPinchZoom,V=n.as,U=V===void 0?"div":V,I=n.gapMode,W=EE(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),X=x,ne=wO([t,e]),M=Xr(Xr({},W),i);return T.createElement(T.Fragment,null,_&&T.createElement(X,{sideCar:SE,removeScrollBar:g,shards:y,noRelative:C,noIsolation:P,inert:k,setCallbacks:a,allowPinchZoom:!!A,lockRef:t,gapMode:I}),c?T.cloneElement(T.Children.only(h),Xr(Xr({},M),{ref:ne})):T.createElement(U,Xr({},M,{className:p,ref:ne}),h))});Sh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sh.classNames={fullWidth:_d,zeroRight:wd};var TO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SO(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=TO();return e&&n.setAttribute("nonce",e),n}function IO(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function CO(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var kO=function(){var n=0,e=null;return{add:function(t){n==0&&(e=SO())&&(IO(e,t),CO(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},NO=function(){var n=kO();return function(e,t){T.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},IE=function(){var n=NO(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},RO={left:0,top:0,right:0,gap:0},Dp=function(n){return parseInt(n||"",10)||0},AO=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Dp(t),Dp(r),Dp(i)]},PO=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return RO;var e=AO(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},MO=IE(),Pa="data-scroll-locked",DO=function(n,e,t,r){var i=n.left,a=n.top,c=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(mO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(Pa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wd,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(_d,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(wd," .").concat(wd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_d," .").concat(_d,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Pa,`] {
    `).concat(gO,": ").concat(h,`px;
  }
`)},D_=function(){var n=parseInt(document.body.getAttribute(Pa)||"0",10);return isFinite(n)?n:0},jO=function(){T.useEffect(function(){return document.body.setAttribute(Pa,(D_()+1).toString()),function(){var n=D_()-1;n<=0?document.body.removeAttribute(Pa):document.body.setAttribute(Pa,n.toString())}},[])},OO=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;jO();var a=T.useMemo(function(){return PO(i)},[i]);return T.createElement(MO,{styles:DO(a,!e,i,t?"":"!important")})},bm=!1;if(typeof window<"u")try{var rd=Object.defineProperty({},"passive",{get:function(){return bm=!0,!0}});window.addEventListener("test",rd,rd),window.removeEventListener("test",rd,rd)}catch{bm=!1}var _a=bm?{passive:!1}:!1,LO=function(n){return n.tagName==="TEXTAREA"},CE=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!LO(n)&&t[e]==="visible")},VO=function(n){return CE(n,"overflowY")},FO=function(n){return CE(n,"overflowX")},j_=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=kE(n,r);if(i){var a=NE(n,r),c=a[1],h=a[2];if(c>h)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},UO=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},zO=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},kE=function(n,e){return n==="v"?VO(e):FO(e)},NE=function(n,e){return n==="v"?UO(e):zO(e)},BO=function(n,e){return n==="h"&&e==="rtl"?-1:1},$O=function(n,e,t,r,i){var a=BO(n,window.getComputedStyle(e).direction),c=a*r,h=t.target,p=e.contains(h),g=!1,_=c>0,y=0,x=0;do{if(!h)break;var C=NE(n,h),P=C[0],k=C[1],A=C[2],V=k-A-a*P;(P||V)&&kE(n,h)&&(y+=V,x+=P);var U=h.parentNode;h=U&&U.nodeType===Node.DOCUMENT_FRAGMENT_NODE?U.host:U}while(!p&&h!==document.body||p&&(e.contains(h)||e===h));return(_&&Math.abs(y)<1||!_&&Math.abs(x)<1)&&(g=!0),g},sd=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},O_=function(n){return[n.deltaX,n.deltaY]},L_=function(n){return n&&"current"in n?n.current:n},HO=function(n,e){return n[0]===e[0]&&n[1]===e[1]},WO=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},GO=0,xa=[];function qO(n){var e=T.useRef([]),t=T.useRef([0,0]),r=T.useRef(),i=T.useState(GO++)[0],a=T.useState(IE)[0],c=T.useRef(n);T.useEffect(function(){c.current=n},[n]),T.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var k=pO([n.lockRef.current],(n.shards||[]).map(L_),!0).filter(Boolean);return k.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),k.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var h=T.useCallback(function(k,A){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!c.current.allowPinchZoom;var V=sd(k),U=t.current,I="deltaX"in k?k.deltaX:U[0]-V[0],W="deltaY"in k?k.deltaY:U[1]-V[1],X,ne=k.target,M=Math.abs(I)>Math.abs(W)?"h":"v";if("touches"in k&&M==="h"&&ne.type==="range")return!1;var S=j_(M,ne);if(!S)return!0;if(S?X=M:(X=M==="v"?"h":"v",S=j_(M,ne)),!S)return!1;if(!r.current&&"changedTouches"in k&&(I||W)&&(r.current=X),!X)return!0;var N=r.current||X;return $O(N,A,k,N==="h"?I:W)},[]),p=T.useCallback(function(k){var A=k;if(!(!xa.length||xa[xa.length-1]!==a)){var V="deltaY"in A?O_(A):sd(A),U=e.current.filter(function(X){return X.name===A.type&&(X.target===A.target||A.target===X.shadowParent)&&HO(X.delta,V)})[0];if(U&&U.should){A.cancelable&&A.preventDefault();return}if(!U){var I=(c.current.shards||[]).map(L_).filter(Boolean).filter(function(X){return X.contains(A.target)}),W=I.length>0?h(A,I[0]):!c.current.noIsolation;W&&A.cancelable&&A.preventDefault()}}},[]),g=T.useCallback(function(k,A,V,U){var I={name:k,delta:A,target:V,should:U,shadowParent:KO(V)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(W){return W!==I})},1)},[]),_=T.useCallback(function(k){t.current=sd(k),r.current=void 0},[]),y=T.useCallback(function(k){g(k.type,O_(k),k.target,h(k,n.lockRef.current))},[]),x=T.useCallback(function(k){g(k.type,sd(k),k.target,h(k,n.lockRef.current))},[]);T.useEffect(function(){return xa.push(a),n.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",p,_a),document.addEventListener("touchmove",p,_a),document.addEventListener("touchstart",_,_a),function(){xa=xa.filter(function(k){return k!==a}),document.removeEventListener("wheel",p,_a),document.removeEventListener("touchmove",p,_a),document.removeEventListener("touchstart",_,_a)}},[]);var C=n.removeScrollBar,P=n.inert;return T.createElement(T.Fragment,null,P?T.createElement(a,{styles:WO(i)}):null,C?T.createElement(OO,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function KO(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const QO=EO(SE,qO);var Kg=T.forwardRef(function(n,e){return T.createElement(Sh,Xr({},n,{ref:e,sideCar:QO}))});Kg.classNames=Sh.classNames;var YO=[" ","Enter","ArrowUp","ArrowDown"],XO=[" ","Enter"],Ci="Select",[Ih,Ch,JO]=Og(Ci),[el]=Fo(Ci,[JO,Th]),kh=Th(),[ZO,Uo]=el(Ci),[e5,t5]=el(Ci),RE=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:a,value:c,defaultValue:h,onValueChange:p,dir:g,name:_,autoComplete:y,disabled:x,required:C,form:P}=n,k=kh(e),[A,V]=T.useState(null),[U,I]=T.useState(null),[W,X]=T.useState(!1),ne=wh(g),[M,S]=wc({prop:r,defaultProp:i??!1,onChange:a,caller:Ci}),[N,j]=wc({prop:c,defaultProp:h,onChange:p,caller:Ci}),O=T.useRef(null),F=A?P||!!A.closest("form"):!0,[D,ye]=T.useState(new Set),ke=Array.from(D).map(le=>le.props.value).join(";");return f.jsx(mE,{...k,children:f.jsxs(ZO,{required:C,scope:e,trigger:A,onTriggerChange:V,valueNode:U,onValueNodeChange:I,valueNodeHasChildren:W,onValueNodeHasChildrenChange:X,contentId:Ba(),value:N,onValueChange:j,open:M,onOpenChange:S,dir:ne,triggerPointerDownPosRef:O,disabled:x,children:[f.jsx(Ih.Provider,{scope:e,children:f.jsx(e5,{scope:n.__scopeSelect,onNativeOptionAdd:T.useCallback(le=>{ye(pe=>new Set(pe).add(le))},[]),onNativeOptionRemove:T.useCallback(le=>{ye(pe=>{const H=new Set(pe);return H.delete(le),H})},[]),children:t})}),F?f.jsxs(JE,{"aria-hidden":!0,required:C,tabIndex:-1,name:_,autoComplete:y,value:N,onChange:le=>j(le.target.value),disabled:x,form:P,children:[N===void 0?f.jsx("option",{value:""}):null,Array.from(D)]},ke):null]})})};RE.displayName=Ci;var AE="SelectTrigger",PE=T.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,a=kh(t),c=Uo(AE,t),h=c.disabled||r,p=lt(e,c.onTriggerChange),g=Ch(t),_=T.useRef("touch"),[y,x,C]=eT(k=>{const A=g().filter(I=>!I.disabled),V=A.find(I=>I.value===c.value),U=tT(A,k,V);U!==void 0&&c.onValueChange(U.value)}),P=k=>{h||(c.onOpenChange(!0),C()),k&&(c.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return f.jsx(gE,{asChild:!0,...a,children:f.jsx(Je.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":ZE(c.value)?"":void 0,...i,ref:p,onClick:Ae(i.onClick,k=>{k.currentTarget.focus(),_.current!=="mouse"&&P(k)}),onPointerDown:Ae(i.onPointerDown,k=>{_.current=k.pointerType;const A=k.target;A.hasPointerCapture(k.pointerId)&&A.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(P(k),k.preventDefault())}),onKeyDown:Ae(i.onKeyDown,k=>{const A=y.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&x(k.key),!(A&&k.key===" ")&&YO.includes(k.key)&&(P(),k.preventDefault())})})})});PE.displayName=AE;var ME="SelectValue",DE=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:a,placeholder:c="",...h}=n,p=Uo(ME,t),{onValueNodeHasChildrenChange:g}=p,_=a!==void 0,y=lt(e,p.onValueNodeChange);return pn(()=>{g(_)},[g,_]),f.jsx(Je.span,{...h,ref:y,style:{pointerEvents:"none"},children:ZE(p.value)?f.jsx(f.Fragment,{children:c}):a})});DE.displayName=ME;var n5="SelectIcon",jE=T.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return f.jsx(Je.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});jE.displayName=n5;var r5="SelectPortal",OE=n=>f.jsx(qg,{asChild:!0,...n});OE.displayName=r5;var ki="SelectContent",LE=T.forwardRef((n,e)=>{const t=Uo(ki,n.__scopeSelect),[r,i]=T.useState();if(pn(()=>{i(new DocumentFragment)},[]),!t.open){const a=r;return a?Lo.createPortal(f.jsx(VE,{scope:n.__scopeSelect,children:f.jsx(Ih.Slot,{scope:n.__scopeSelect,children:f.jsx("div",{children:n.children})})}),a):null}return f.jsx(FE,{...n,ref:e})});LE.displayName=ki;var _r=10,[VE,zo]=el(ki),s5="SelectContentImpl",o5=Ma("SelectContent.RemoveScroll"),FE=T.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:c,side:h,sideOffset:p,align:g,alignOffset:_,arrowPadding:y,collisionBoundary:x,collisionPadding:C,sticky:P,hideWhenDetached:k,avoidCollisions:A,...V}=n,U=Uo(ki,t),[I,W]=T.useState(null),[X,ne]=T.useState(null),M=lt(e,ee=>W(ee)),[S,N]=T.useState(null),[j,O]=T.useState(null),F=Ch(t),[D,ye]=T.useState(!1),ke=T.useRef(!1);T.useEffect(()=>{if(I)return bE(I)},[I]),Wb();const le=T.useCallback(ee=>{const[fe,...Ne]=F().map(We=>We.ref.current),[De]=Ne.slice(-1),Be=document.activeElement;for(const We of ee)if(We===Be||(We?.scrollIntoView({block:"nearest"}),We===fe&&X&&(X.scrollTop=0),We===De&&X&&(X.scrollTop=X.scrollHeight),We?.focus(),document.activeElement!==Be))return},[F,X]),pe=T.useCallback(()=>le([S,I]),[le,S,I]);T.useEffect(()=>{D&&pe()},[D,pe]);const{onOpenChange:H,triggerPointerDownPosRef:J}=U;T.useEffect(()=>{if(I){let ee={x:0,y:0};const fe=De=>{ee={x:Math.abs(Math.round(De.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(De.pageY)-(J.current?.y??0))}},Ne=De=>{ee.x<=10&&ee.y<=10?De.preventDefault():I.contains(De.target)||H(!1),document.removeEventListener("pointermove",fe),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[I,H,J]),T.useEffect(()=>{const ee=()=>H(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[H]);const[se,B]=eT(ee=>{const fe=F().filter(Be=>!Be.disabled),Ne=fe.find(Be=>Be.ref.current===document.activeElement),De=tT(fe,ee,Ne);De&&setTimeout(()=>De.ref.current.focus())}),Z=T.useCallback((ee,fe,Ne)=>{const De=!ke.current&&!Ne;(U.value!==void 0&&U.value===fe||De)&&(N(ee),De&&(ke.current=!0))},[U.value]),ie=T.useCallback(()=>I?.focus(),[I]),ue=T.useCallback((ee,fe,Ne)=>{const De=!ke.current&&!Ne;(U.value!==void 0&&U.value===fe||De)&&O(ee)},[U.value]),ge=r==="popper"?Em:UE,xe=ge===Em?{side:h,sideOffset:p,align:g,alignOffset:_,arrowPadding:y,collisionBoundary:x,collisionPadding:C,sticky:P,hideWhenDetached:k,avoidCollisions:A}:{};return f.jsx(VE,{scope:t,content:I,viewport:X,onViewportChange:ne,itemRefCallback:Z,selectedItem:S,onItemLeave:ie,itemTextRefCallback:ue,focusSelectedItem:pe,selectedItemText:j,position:r,isPositioned:D,searchRef:se,children:f.jsx(Kg,{as:o5,allowPinchZoom:!0,children:f.jsx(Vg,{asChild:!0,trapped:U.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Ae(i,ee=>{U.trigger?.focus({preventScroll:!0}),ee.preventDefault()}),children:f.jsx(Lg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:f.jsx(ge,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:ee=>ee.preventDefault(),...V,...xe,onPlaced:()=>ye(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...V.style},onKeyDown:Ae(V.onKeyDown,ee=>{const fe=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!fe&&ee.key.length===1&&B(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let De=F().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const Be=ee.target,We=De.indexOf(Be);De=De.slice(We+1)}setTimeout(()=>le(De)),ee.preventDefault()}})})})})})})});FE.displayName=s5;var i5="SelectItemAlignedPosition",UE=T.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,a=Uo(ki,t),c=zo(ki,t),[h,p]=T.useState(null),[g,_]=T.useState(null),y=lt(e,M=>_(M)),x=Ch(t),C=T.useRef(!1),P=T.useRef(!0),{viewport:k,selectedItem:A,selectedItemText:V,focusSelectedItem:U}=c,I=T.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&g&&k&&A&&V){const M=a.trigger.getBoundingClientRect(),S=g.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),j=V.getBoundingClientRect();if(a.dir!=="rtl"){const Be=j.left-S.left,We=N.left-Be,vt=M.left-We,Bt=M.width+vt,kr=Math.max(Bt,S.width),Pn=window.innerWidth-_r,Qt=p_(We,[_r,Math.max(_r,Pn-kr)]);h.style.minWidth=Bt+"px",h.style.left=Qt+"px"}else{const Be=S.right-j.right,We=window.innerWidth-N.right-Be,vt=window.innerWidth-M.right-We,Bt=M.width+vt,kr=Math.max(Bt,S.width),Pn=window.innerWidth-_r,Qt=p_(We,[_r,Math.max(_r,Pn-kr)]);h.style.minWidth=Bt+"px",h.style.right=Qt+"px"}const O=x(),F=window.innerHeight-_r*2,D=k.scrollHeight,ye=window.getComputedStyle(g),ke=parseInt(ye.borderTopWidth,10),le=parseInt(ye.paddingTop,10),pe=parseInt(ye.borderBottomWidth,10),H=parseInt(ye.paddingBottom,10),J=ke+le+D+H+pe,se=Math.min(A.offsetHeight*5,J),B=window.getComputedStyle(k),Z=parseInt(B.paddingTop,10),ie=parseInt(B.paddingBottom,10),ue=M.top+M.height/2-_r,ge=F-ue,xe=A.offsetHeight/2,ee=A.offsetTop+xe,fe=ke+le+ee,Ne=J-fe;if(fe<=ue){const Be=O.length>0&&A===O[O.length-1].ref.current;h.style.bottom="0px";const We=g.clientHeight-k.offsetTop-k.offsetHeight,vt=Math.max(ge,xe+(Be?ie:0)+We+pe),Bt=fe+vt;h.style.height=Bt+"px"}else{const Be=O.length>0&&A===O[0].ref.current;h.style.top="0px";const vt=Math.max(ue,ke+k.offsetTop+(Be?Z:0)+xe)+Ne;h.style.height=vt+"px",k.scrollTop=fe-ue+k.offsetTop}h.style.margin=`${_r}px 0`,h.style.minHeight=se+"px",h.style.maxHeight=F+"px",r?.(),requestAnimationFrame(()=>C.current=!0)}},[x,a.trigger,a.valueNode,h,g,k,A,V,a.dir,r]);pn(()=>I(),[I]);const[W,X]=T.useState();pn(()=>{g&&X(window.getComputedStyle(g).zIndex)},[g]);const ne=T.useCallback(M=>{M&&P.current===!0&&(I(),U?.(),P.current=!1)},[I,U]);return f.jsx(l5,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:C,onScrollButtonChange:ne,children:f.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:W},children:f.jsx(Je.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});UE.displayName=i5;var a5="SelectPopperPosition",Em=T.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=_r,...a}=n,c=kh(t);return f.jsx(yE,{...c,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Em.displayName=a5;var[l5,Qg]=el(ki,{}),Tm="SelectViewport",zE=T.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,a=zo(Tm,t),c=Qg(Tm,t),h=lt(e,a.onViewportChange),p=T.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Ih.Slot,{scope:t,children:f.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ae(i.onScroll,g=>{const _=g.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:x}=c;if(x?.current&&y){const C=Math.abs(p.current-_.scrollTop);if(C>0){const P=window.innerHeight-_r*2,k=parseFloat(y.style.minHeight),A=parseFloat(y.style.height),V=Math.max(k,A);if(V<P){const U=V+C,I=Math.min(P,U),W=U-I;y.style.height=I+"px",y.style.bottom==="0px"&&(_.scrollTop=W>0?W:0,y.style.justifyContent="flex-end")}}}p.current=_.scrollTop})})})]})});zE.displayName=Tm;var BE="SelectGroup",[c5,u5]=el(BE),d5=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Ba();return f.jsx(c5,{scope:t,id:i,children:f.jsx(Je.div,{role:"group","aria-labelledby":i,...r,ref:e})})});d5.displayName=BE;var $E="SelectLabel",h5=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=u5($E,t);return f.jsx(Je.div,{id:i.id,...r,ref:e})});h5.displayName=$E;var Wd="SelectItem",[f5,HE]=el(Wd),WE=T.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:a,...c}=n,h=Uo(Wd,t),p=zo(Wd,t),g=h.value===r,[_,y]=T.useState(a??""),[x,C]=T.useState(!1),P=lt(e,U=>p.itemRefCallback?.(U,r,i)),k=Ba(),A=T.useRef("touch"),V=()=>{i||(h.onValueChange(r),h.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(f5,{scope:t,value:r,disabled:i,textId:k,isSelected:g,onItemTextChange:T.useCallback(U=>{y(I=>I||(U?.textContent??"").trim())},[]),children:f.jsx(Ih.ItemSlot,{scope:t,value:r,disabled:i,textValue:_,children:f.jsx(Je.div,{role:"option","aria-labelledby":k,"data-highlighted":x?"":void 0,"aria-selected":g&&x,"data-state":g?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:P,onFocus:Ae(c.onFocus,()=>C(!0)),onBlur:Ae(c.onBlur,()=>C(!1)),onClick:Ae(c.onClick,()=>{A.current!=="mouse"&&V()}),onPointerUp:Ae(c.onPointerUp,()=>{A.current==="mouse"&&V()}),onPointerDown:Ae(c.onPointerDown,U=>{A.current=U.pointerType}),onPointerMove:Ae(c.onPointerMove,U=>{A.current=U.pointerType,i?p.onItemLeave?.():A.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(c.onPointerLeave,U=>{U.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:Ae(c.onKeyDown,U=>{p.searchRef?.current!==""&&U.key===" "||(XO.includes(U.key)&&V(),U.key===" "&&U.preventDefault())})})})})});WE.displayName=Wd;var Xl="SelectItemText",GE=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...a}=n,c=Uo(Xl,t),h=zo(Xl,t),p=HE(Xl,t),g=t5(Xl,t),[_,y]=T.useState(null),x=lt(e,V=>y(V),p.onItemTextChange,V=>h.itemTextRefCallback?.(V,p.value,p.disabled)),C=_?.textContent,P=T.useMemo(()=>f.jsx("option",{value:p.value,disabled:p.disabled,children:C},p.value),[p.disabled,p.value,C]),{onNativeOptionAdd:k,onNativeOptionRemove:A}=g;return pn(()=>(k(P),()=>A(P)),[k,A,P]),f.jsxs(f.Fragment,{children:[f.jsx(Je.span,{id:p.textId,...a,ref:x}),p.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Lo.createPortal(a.children,c.valueNode):null]})});GE.displayName=Xl;var qE="SelectItemIndicator",KE=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return HE(qE,t).isSelected?f.jsx(Je.span,{"aria-hidden":!0,...r,ref:e}):null});KE.displayName=qE;var Sm="SelectScrollUpButton",QE=T.forwardRef((n,e)=>{const t=zo(Sm,n.__scopeSelect),r=Qg(Sm,n.__scopeSelect),[i,a]=T.useState(!1),c=lt(e,r.onScrollButtonChange);return pn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=p.scrollTop>0;a(g)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),i?f.jsx(XE,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop-p.offsetHeight)}}):null});QE.displayName=Sm;var Im="SelectScrollDownButton",YE=T.forwardRef((n,e)=>{const t=zo(Im,n.__scopeSelect),r=Qg(Im,n.__scopeSelect),[i,a]=T.useState(!1),c=lt(e,r.onScrollButtonChange);return pn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=p.scrollHeight-p.clientHeight,_=Math.ceil(p.scrollTop)<g;a(_)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),i?f.jsx(XE,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop+p.offsetHeight)}}):null});YE.displayName=Im;var XE=T.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,a=zo("SelectScrollButton",t),c=T.useRef(null),h=Ch(t),p=T.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return T.useEffect(()=>()=>p(),[p]),pn(()=>{h().find(_=>_.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),f.jsx(Je.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ae(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Ae(i.onPointerMove,()=>{a.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Ae(i.onPointerLeave,()=>{p()})})}),p5="SelectSeparator",m5=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return f.jsx(Je.div,{"aria-hidden":!0,...r,ref:e})});m5.displayName=p5;var Cm="SelectArrow",g5=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=kh(t),a=Uo(Cm,t),c=zo(Cm,t);return a.open&&c.position==="popper"?f.jsx(vE,{...i,...r,ref:e}):null});g5.displayName=Cm;var y5="SelectBubbleInput",JE=T.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=T.useRef(null),a=lt(r,i),c=wE(e);return T.useEffect(()=>{const h=i.current;if(!h)return;const p=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(p,"value").set;if(c!==e&&_){const y=new Event("change",{bubbles:!0});_.call(h,e),h.dispatchEvent(y)}},[c,e]),f.jsx(Je.select,{...t,style:{..._E,...t.style},ref:a,defaultValue:e})});JE.displayName=y5;function ZE(n){return n===""||n===void 0}function eT(n){const e=ds(n),t=T.useRef(""),r=T.useRef(0),i=T.useCallback(c=>{const h=t.current+c;e(h),(function p(g){t.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>p(""),1e3))})(h)},[e]),a=T.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,a]}function tT(n,e,t){const i=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let c=v5(n,Math.max(a,0));i.length===1&&(c=c.filter(g=>g!==t));const p=c.find(g=>g.textValue.toLowerCase().startsWith(i.toLowerCase()));return p!==t?p:void 0}function v5(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var w5=RE,_5=PE,x5=DE,b5=jE,E5=OE,T5=LE,S5=zE,I5=WE,C5=GE,k5=KE,N5=QE,R5=YE;function Gd({...n}){return f.jsx(w5,{"data-slot":"select",...n})}function qd({...n}){return f.jsx(x5,{"data-slot":"select-value",...n})}function Kd({className:n,size:e="default",children:t,...r}){return f.jsxs(_5,{"data-slot":"select-trigger","data-size":e,className:An("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,f.jsx(b5,{asChild:!0,children:f.jsx(Pm,{className:"size-4 opacity-50"})})]})}function Qd({className:n,children:e,position:t="popper",...r}){return f.jsx(E5,{children:f.jsxs(T5,{"data-slot":"select-content",className:An("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[f.jsx(A5,{}),f.jsx(S5,{className:An("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),f.jsx(P5,{})]})})}function Yd({className:n,children:e,...t}){return f.jsxs(I5,{"data-slot":"select-item",className:An("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[f.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:f.jsx(k5,{children:f.jsx(Op,{className:"size-4"})})}),f.jsx(C5,{children:e})]})}function A5({className:n,...e}){return f.jsx(N5,{"data-slot":"select-scroll-up-button",className:An("flex cursor-default items-center justify-center py-1",n),...e,children:f.jsx(MI,{className:"size-4"})})}function P5({className:n,...e}){return f.jsx(R5,{"data-slot":"select-scroll-down-button",className:An("flex cursor-default items-center justify-center py-1",n),...e,children:f.jsx(Pm,{className:"size-4"})})}const M5=["Social","Adventure","Learning","Creative"],D5=["Mumbai","Delhi","Bangalore","Chennai","Hyderabad","Pune","Kolkata","Ahmedabad","Jaipur","Goa","Kochi","Chandigarh","Indore","Nagpur","Coimbatore","Lucknow","Kanpur","Visakhapatnam","Bhopal","Patna","Vadodara","Ludhiana","Agra","Nashik","Faridabad","Meerut","Rajkot","Kalyan-Dombivli","Vasai-Virar","Varanasi"],j5={title:["Hidden Coffee Gems Discovery Mission ","Third Wave Coffee Crawl Adventure","Specialty Brew Tasting Quest","Rooftop Coffee & Sunrise Views","Local Roastery Exploration Trail","Midnight Trekking Adventure ","Board Game Battle Royale ","Street Art Discovery Walk ","Filter Coffee vs Espresso Showdown","Weekend Coffee Shop Hopping","Artisan Coffee & Pastry Hunt","Cold Brew & Conversations"],description:["Let's explore the city's best-kept coffee secrets! From hole-in-the-wall roasters to trendy third-wave cafes, we'll taste our way through the local coffee scene.","Calling all coffee enthusiasts! Join me on a quest to discover hidden gems where passionate baristas craft the perfect cup. We'll chat with locals, try unique brewing methods, and maybe find your new favorite spot.","Time to ditch the usual Starbucks and discover what real coffee tastes like! We'll visit 3-4 specialty coffee shops, learn about different beans, and rate each spot's vibe and brew quality.","Let's touch grass and make some memories! Who's ready for an epic adventure?","Warning: May cause excessive caffeine intake and new friendships! We'll spend the day exploring neighborhood coffee culture and supporting local businesses.","Ready to become coffee connoisseurs together? We'll visit places only locals know about - from rooftop cafes with city views to cozy basement spots with board games.","Escape the digital world and join the real-life quest!","Calling all adventurers for some IRL coffee exploration! We'll discover places with the best flat whites, unique single origins, and maybe some killer homemade cookies too."],area:["Koramangala 5th Block, Near Sony Signal","Indiranagar 100 Feet Road, CMH Area","Jayanagar 4th Block, Near Ragigudda Temple","HSR Layout Sector 7, BDA Complex","Whitefield Main Road, Near Forum Mall","Malleswaram 8th Cross, Sampige Road","Commercial Street, Near Brigade Road","Rajajinagar 2nd Block, Near Metro Station","Banashankari 3rd Stage, ISKCON Temple Road","JP Nagar 7th Phase, Near Total Mall"],cost:["300-400 per person (covers 3-4 coffee tastings)","200-250 (coffee + light snacks at each spot)","150-200 per cafe (we'll split transport)","500 all-inclusive (premium coffee experience)","100-150 per person + own transport","FREE (just buy your own coffee at each place!)","250 covers coffee + pastries + auto rickshaw","350 (includes specialty pour-overs & desserts)"]};function nT({questToEdit:n,onQuestSaved:e,onDiscard:t,onClose:r}){const[i,a]=T.useState({title:"",description:"",category:"",city:"",area:"",date:"",time:"",cost:""}),c=!!n;T.useEffect(()=>{n&&a({title:n.title||"",description:n.description||"",category:n.category||"",city:n.city||"",area:n.location||"",date:n.date||"",time:n.time||"",cost:n.cost||""})},[n]);const h=x=>{const C=j5[x];return C[Math.floor(Math.random()*C.length)]},p=x=>{x.preventDefault(),c?(console.log("Quest updated:",i),ot.success("Quest updated successfully! ")):(console.log("Quest created:",i),ot.success("Epic quest launched! ")),e?.(i),r?.()},g=()=>{window.confirm("Are you sure you want to delete this quest? This action cannot be undone.")&&(console.log("Quest deleted:",n?.id),ot.success("Quest deleted successfully"),e?.())},_=()=>{i.title||i.description||i.category||i.city||i.area||i.date||i.time||i.cost?window.confirm("Are you sure you want to discard your changes? All unsaved changes will be lost.")&&t?.():t?.()},y=()=>i.title&&i.description&&i.category&&i.city&&i.area&&i.date&&i.time;return Lo.createPortal(f.jsx("div",{className:"fixed inset-0 z-50 bg-background overflow-y-auto",children:f.jsxs("div",{className:"min-h-screen pb-24",children:[f.jsxs("div",{className:"hud-card m-4 p-6 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-cyan/10 via-neon-purple/10 to-neon-pink/10"}),f.jsx("button",{onClick:r,className:"absolute top-4 left-4 z-20 p-2 rounded-full hover:bg-accent/50 transition-colors",children:f.jsx(Am,{className:"w-5 h-5 text-foreground"})}),f.jsxs("div",{className:"relative z-10 text-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:c?"EDIT YOUR QUEST":"CREATE YOUR OWN QUEST"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:c?"Update your adventure details!":"Fill out the deets and let's get this adventure started!"})]})]}),f.jsx("div",{className:"px-4",children:f.jsxs("form",{onSubmit:p,className:"space-y-6",children:[f.jsxs("div",{className:"hud-card p-6 space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"Title *"}),f.jsx("input",{type:"text",placeholder:c?"":h("title"),value:i.title,onChange:x=>a({...i,title:x.target.value}),className:"w-full p-4 rounded-lg border border-border bg-white text-black placeholder-gray-500 focus:border-neon-cyan focus:ring-2 focus:ring-neon-cyan/20 transition-all",required:!0,autoFocus:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"Tell us more about the adventure! *"}),f.jsx("textarea",{placeholder:c?"":h("description"),value:i.description,onChange:x=>a({...i,description:x.target.value}),className:"w-full p-4 rounded-lg border border-border bg-white text-black placeholder-gray-500 focus:border-neon-cyan focus:ring-2 focus:ring-neon-cyan/20 transition-all min-h-[100px] resize-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"Pick your quest type *"}),f.jsxs(Gd,{value:i.category,onValueChange:x=>a({...i,category:x}),children:[f.jsx(Kd,{className:"w-full p-4 rounded-lg border border-border bg-input-background text-foreground focus:border-neon-cyan focus:ring-2 focus:ring-neon-cyan/20 transition-all",children:f.jsx(qd,{placeholder:"Choose your adventure type..."})}),f.jsx(Qd,{className:"bg-card border border-border rounded-lg shadow-lg",children:M5.map(x=>f.jsxs(Yd,{value:x,className:"flex items-center gap-3 p-3 hover:bg-accent/50 cursor-pointer",children:[f.jsxs("span",{className:"text-lg",children:[x==="Social"&&"",x==="Adventure"&&"",x==="Learning"&&"",x==="Creative"&&""]}),x]},x))})]})]})]}),f.jsxs("div",{className:"hud-card p-6 space-y-5",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(Zr,{className:"w-5 h-5 text-neon-red"}),f.jsx("h2",{className:"text-lg font-bold text-foreground",children:"When & Where"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"City *"}),f.jsxs(Gd,{value:i.city,onValueChange:x=>a({...i,city:x}),children:[f.jsx(Kd,{className:"w-full p-4 rounded-lg border border-border bg-input-background text-foreground focus:border-neon-cyan focus:ring-2 focus:ring-neon-cyan/20 transition-all",children:f.jsx(qd,{placeholder:"Select your city..."})}),f.jsx(Qd,{className:"bg-card border border-border rounded-lg shadow-lg max-h-60",children:D5.map(x=>f.jsxs(Yd,{value:x,className:"flex items-center gap-3 p-3 hover:bg-accent/50 cursor-pointer",children:[" ",x]},x))})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"Area/Location *"}),f.jsx("input",{type:"text",placeholder:c?"":h("area"),value:i.area,onChange:x=>a({...i,area:x.target.value}),className:"w-full p-4 rounded-lg border border-border bg-white text-black placeholder-gray-500 focus:border-neon-cyan focus:ring-2 focus:ring-neon-cyan/20 transition-all",required:!0,disabled:!i.city}),f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" Be specific! Include landmarks, metro stations, or popular spots"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"Date *"}),f.jsx("input",{type:"date",value:i.date,onChange:x=>a({...i,date:x.target.value}),className:"w-full p-4 rounded-lg border border-border bg-input-background text-foreground focus:border-neon-cyan focus:ring-2 focus:ring-neon-cyan/20 transition-all",min:new Date().toISOString().split("T")[0],required:!0})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-bold text-foreground mb-2 flex items-center gap-2",children:[f.jsx(K_,{className:"w-4 h-4 text-neon-purple"}),"Time *"]}),f.jsx("input",{type:"time",value:i.time,onChange:x=>a({...i,time:x.target.value}),className:"w-full p-4 rounded-lg border border-border bg-input-background text-foreground focus:border-neon-cyan focus:ring-2 focus:ring-neon-cyan/20 transition-all",required:!0})]})]})]}),f.jsxs("div",{className:"hud-card p-6 space-y-5",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(FI,{className:"w-5 h-5 text-neon-green"}),f.jsx("h2",{className:"text-lg font-bold text-foreground",children:"Cost Details"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"Cost per person (optional)"}),f.jsx("input",{type:"text",placeholder:c?"":h("cost"),value:i.cost,onChange:x=>a({...i,cost:x.target.value}),className:"w-full p-4 rounded-lg border border-border bg-input-background text-foreground placeholder-muted-foreground focus:border-neon-cyan focus:ring-2 focus:ring-neon-cyan/20 transition-all"}),f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:` Type "FREE" if there's no cost!`})]})]}),f.jsxs("div",{className:"pt-2 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{type:"button",onClick:_,className:"py-4 bg-muted/30 border border-muted-foreground/30 text-muted-foreground font-bold tracking-wider transition-all hover:bg-muted/50 hover:border-muted-foreground/50 hover:scale-[1.02] rounded-lg flex items-center justify-center active:scale-[0.98] touch-manipulation",style:{minHeight:"56px"},children:"CANCEL"}),f.jsx("button",{type:"submit",disabled:!y(),className:`neon-button py-4 text-center font-bold tracking-wider transition-all ${y()?"hover:scale-[1.02]":"opacity-50 cursor-not-allowed"}`,style:{minHeight:"56px"},children:f.jsxs("div",{className:"flex items-center justify-center gap-1",children:[f.jsx(Up,{className:"w-4 h-4"}),c?"UPDATE":"LAUNCH",f.jsx(Up,{className:"w-4 h-4"})]})})]}),!y()&&f.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Fill in all required fields (*) to ",c?"update":"launch"," your quest!"]}),c&&f.jsxs("button",{type:"button",onClick:g,className:"w-full py-4 bg-destructive/10 border border-destructive text-destructive font-bold tracking-wider text-lg transition-all hover:bg-destructive/20 hover:scale-[1.02] rounded-lg flex items-center justify-center gap-2 active:scale-[0.98] touch-manipulation",style:{minHeight:"56px"},children:[f.jsx(b0,{className:"w-5 h-5"}),"DELETE QUEST",f.jsx(b0,{className:"w-5 h-5"})]})]})]})})]})}),document.body)}const O5=[{id:"1",title:"Looking for Board Game Buddies!",description:"New to the city and missing game nights with friends. Want to start a regular group? I have Catan, Wingspan, and Ticket to Ride. Let's make some memories!",category:"Social",location:"My Place (Koramangala)",date:"2025-09-02",time:"7:00 PM",cost:"Free",difficulty:"Beginner",organizer:"alex_newbie",isEpic:!0,image:"https://images.unsplash.com/photo-1607748732922-4dabb64163d0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmcmllbmRzJTIwaGFuZ2luZyUyMG91dCUyMHRvZ2V0aGVyfGVufDF8fHx8MTc1NjQ2ODQwMnww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},{id:"2",title:"Early Morning Hike Companion Needed",description:"I love sunrise hikes but hate going alone! Looking for someone who enjoys nature and good conversation. We can motivate each other to stay fit.",category:"Adventure",location:"Nandi Hills",date:"2025-09-05",time:"5:30 AM",cost:"Free",difficulty:"Intermediate",organizer:"sam_hikes",image:"https://images.unsplash.com/photo-1654860394661-85e83e85c0d2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdW5yaXNlJTIwbW91bnRhaW4lMjBoaWtpbmclMjB0cmFpbHxlbnwxfHx8fDE3NTY1NjcwOTZ8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},{id:"3",title:"Learn Italian Cooking with Me",description:"I'm learning to cook Italian food from YouTube but it's more fun with company! Want to experiment with pasta recipes together? We can split ingredients cost.",category:"Learning",location:"My Kitchen (Whitefield)",date:"2025-09-07",time:"3:00 PM",cost:"500",difficulty:"Beginner",organizer:"maria_cooks",image:"https://images.unsplash.com/photo-1640459637803-ad56dc973061?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjb29raW5nJTIwcGFzdGElMjBraXRjaGVuJTIwdG9nZXRoZXJ8ZW58MXx8fHwxNzU2NTY3MDk2fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},{id:"4",title:"Gym Buddy for Rock Climbing",description:"Been climbing alone for months and want someone to belay with! I can teach basics if you're new. Looking for a regular climbing partner.",category:"Adventure",location:"Equilibrium Climbing Gym",date:"2025-09-08",time:"6:00 PM",cost:"800",difficulty:"Expert",organizer:"jake_climbs",image:"https://images.unsplash.com/photo-1633859023075-fada2199a42e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxpbmRvb3IlMjByb2NrJTIwY2xpbWJpbmclMjBneW18ZW58MXx8fHwxNzU2NTY3MDk3fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},{id:"5",title:"Watercolor Painting Together",description:"I paint alone in my room and it gets lonely. Want to paint together at a nice caf? Beginners welcome - I can share techniques I've learned.",category:"Creative",location:"Caf Wanderlust (Indiranagar)",date:"2025-09-10",time:"10:00 AM",cost:"300",difficulty:"Beginner",organizer:"luna_paints",image:"https://images.unsplash.com/photo-1520882089059-2d00b02047fc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3YXRlcmNvbG9yJTIwcGFpbnRpbmclMjBhcnQlMjBzdXBwbGllc3xlbnwxfHx8fDE3NTY1NjcwOTd8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"}],L5=["All","Social","Adventure","Learning","Creative","Sports","Food","Music","Art","Tech","Travel","Fitness"];function V_({isProfileCompleted:n=!0,onStartProfileCreation:e,isLoggedIn:t=!1,quests:r=[],onQuestSaved:i,onGoogleSignIn:a,onQuestCreationRequest:c}){const[h,p]=T.useState("All"),[g,_]=T.useState("Bangalore, Karnataka"),[y,x]=T.useState(!1),C=r.length>0?r:O5,P=(U,I)=>{const W={Social:{borderColor:"var(--neon-pink)",color:I?"var(--background)":"var(--neon-pink)",background:I?"linear-gradient(135deg, var(--neon-pink) 0%, rgba(236, 72, 153, 0.8) 100%)":"rgba(236, 72, 153, 0.1)",boxShadow:I?"0 0 20px rgba(236, 72, 153, 0.5)":"0 0 10px rgba(236, 72, 153, 0.2)"},Adventure:{borderColor:"var(--neon-green)",color:I?"var(--background)":"var(--neon-green)",background:I?"linear-gradient(135deg, var(--neon-green) 0%, rgba(16, 185, 129, 0.8) 100%)":"rgba(16, 185, 129, 0.1)",boxShadow:I?"0 0 20px rgba(16, 185, 129, 0.5)":"0 0 10px rgba(16, 185, 129, 0.2)"},Learning:{borderColor:"var(--neon-purple)",color:I?"var(--background)":"var(--neon-purple)",background:I?"linear-gradient(135deg, var(--neon-purple) 0%, rgba(168, 85, 247, 0.8) 100%)":"rgba(168, 85, 247, 0.1)",boxShadow:I?"0 0 20px rgba(168, 85, 247, 0.5)":"0 0 10px rgba(168, 85, 247, 0.2)"},Creative:{borderColor:"var(--neon-orange)",color:I?"var(--background)":"var(--neon-orange)",background:I?"linear-gradient(135deg, var(--neon-orange) 0%, rgba(245, 158, 11, 0.8) 100%)":"rgba(245, 158, 11, 0.1)",boxShadow:I?"0 0 20px rgba(245, 158, 11, 0.5)":"0 0 10px rgba(245, 158, 11, 0.2)"},Sports:{borderColor:"var(--neon-green)",color:I?"var(--background)":"var(--neon-green)",background:I?"linear-gradient(135deg, var(--neon-green) 0%, rgba(16, 185, 129, 0.8) 100%)":"rgba(16, 185, 129, 0.1)",boxShadow:I?"0 0 20px rgba(16, 185, 129, 0.5)":"0 0 10px rgba(16, 185, 129, 0.2)"},Food:{borderColor:"var(--neon-pink)",color:I?"var(--background)":"var(--neon-pink)",background:I?"linear-gradient(135deg, var(--neon-pink) 0%, rgba(236, 72, 153, 0.8) 100%)":"rgba(236, 72, 153, 0.1)",boxShadow:I?"0 0 20px rgba(236, 72, 153, 0.5)":"0 0 10px rgba(236, 72, 153, 0.2)"},Music:{borderColor:"var(--neon-purple)",color:I?"var(--background)":"var(--neon-purple)",background:I?"linear-gradient(135deg, var(--neon-purple) 0%, rgba(168, 85, 247, 0.8) 100%)":"rgba(168, 85, 247, 0.1)",boxShadow:I?"0 0 20px rgba(168, 85, 247, 0.5)":"0 0 10px rgba(168, 85, 247, 0.2)"},Art:{borderColor:"var(--neon-orange)",color:I?"var(--background)":"var(--neon-orange)",background:I?"linear-gradient(135deg, var(--neon-orange) 0%, rgba(245, 158, 11, 0.8) 100%)":"rgba(245, 158, 11, 0.1)",boxShadow:I?"0 0 20px rgba(245, 158, 11, 0.5)":"0 0 10px rgba(245, 158, 11, 0.2)"},Tech:{borderColor:"var(--neon-cyan)",color:I?"var(--background)":"var(--neon-cyan)",background:I?"linear-gradient(135deg, var(--neon-cyan) 0%, rgba(0, 245, 255, 0.8) 100%)":"rgba(0, 245, 255, 0.1)",boxShadow:I?"0 0 20px rgba(0, 245, 255, 0.5)":"0 0 10px rgba(0, 245, 255, 0.2)"},Travel:{borderColor:"var(--neon-green)",color:I?"var(--background)":"var(--neon-green)",background:I?"linear-gradient(135deg, var(--neon-green) 0%, rgba(16, 185, 129, 0.8) 100%)":"rgba(16, 185, 129, 0.1)",boxShadow:I?"0 0 20px rgba(16, 185, 129, 0.5)":"0 0 10px rgba(16, 185, 129, 0.2)"},Fitness:{borderColor:"var(--neon-pink)",color:I?"var(--background)":"var(--neon-pink)",background:I?"linear-gradient(135deg, var(--neon-pink) 0%, rgba(236, 72, 153, 0.8) 100%)":"rgba(236, 72, 153, 0.1)",boxShadow:I?"0 0 20px rgba(236, 72, 153, 0.5)":"0 0 10px rgba(236, 72, 153, 0.2)"},All:{borderColor:"var(--neon-cyan)",color:I?"var(--background)":"var(--neon-cyan)",background:I?"linear-gradient(135deg, var(--neon-cyan) 0%, var(--neon-purple) 100%)":"var(--hud-bg)",boxShadow:I?"0 0 20px rgba(0, 245, 255, 0.5)":"0 0 10px rgba(0, 245, 255, 0.2)"}};return W[U]||W.All},k=C.filter(U=>h==="All"||U.category===h),A=k.filter(U=>U.isEpic),V=k.filter(U=>!U.isEpic);return f.jsxs("div",{className:"min-h-screen bg-background",children:[!n&&f.jsx("div",{className:"px-4 pt-2 pb-4",children:f.jsxs("div",{className:"gaming-panel p-4 border-2 border-neon-cyan/50 bg-gradient-to-r from-neon-cyan/5 via-neon-purple/5 to-neon-pink/5 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-cyan/10 via-neon-purple/10 to-neon-pink/10 opacity-50 animate-pulse"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-neon-cyan to-neon-purple flex items-center justify-center",children:f.jsx(Zd,{className:"w-6 h-6 text-white"})}),f.jsx("div",{children:f.jsx("h3",{className:"font-bold text-foreground",children:"Complete your profile"})})]}),f.jsx("div",{className:"mb-4",children:f.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Ready to find your squad? Complete your profile with your interests, personality, and bio to start connecting with fellow quest seekers in your area! "})}),f.jsxs("button",{onClick:e,className:"neon-button px-6 py-3 w-full flex items-center justify-center gap-2 touch-manipulation",style:{minHeight:"48px"},children:[f.jsx(Ps,{className:"w-4 h-4"}),"Complete Profile",f.jsx(Ps,{className:"w-4 h-4"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-neon-cyan/20 to-transparent"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-tr from-neon-purple/20 to-transparent"})]})}),f.jsx("div",{className:"px-4 pt-2 pb-1",children:f.jsx(_4,{selectedCity:g,onCityChange:_})}),f.jsx("div",{className:"gaming-panel p-4 mx-4 mb-0",children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"flex gap-3 overflow-x-auto pb-3 px-1 scroll-smooth snap-x snap-mandatory mobile-scroll",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:L5.map(U=>{const W=P(U,h===U);return f.jsx("button",{className:"px-5 py-3 cursor-pointer whitespace-nowrap text-sm transition-all snap-start flex-shrink-0 border rounded-full backdrop-blur-sm font-bold uppercase tracking-wider touch-manipulation active:scale-95",style:{background:W.background,borderColor:W.borderColor,color:W.color,boxShadow:W.boxShadow,minHeight:"44px"},onClick:()=>p(U),children:U},U)})}),f.jsx("div",{className:"absolute top-0 right-0 bottom-3 w-8 pointer-events-none bg-gradient-to-l from-background via-background/80 to-transparent"}),f.jsx("div",{className:"absolute top-0 left-0 bottom-3 w-8 pointer-events-none bg-gradient-to-r from-background via-background/80 to-transparent"})]})}),f.jsxs("div",{className:"pt-2 space-y-4",children:[A.length>0&&f.jsx("div",{className:"space-y-0",children:A.map(U=>f.jsx(f_,{quest:U,isProfileCompleted:n,onStartProfileCreation:e,isLoggedIn:t,onGoogleSignIn:a},U.id))}),V.length>0&&f.jsx("div",{className:"space-y-0",children:V.map(U=>f.jsx(f_,{quest:U,isProfileCompleted:n,onStartProfileCreation:e,isLoggedIn:t,onGoogleSignIn:a},U.id))}),k.length===0&&f.jsx("div",{className:"gaming-panel mx-4 p-8 border border-neon-purple/30",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-neon-purple/20 flex items-center justify-center",children:f.jsx(Vp,{className:"w-8 h-8 text-neon-purple"})}),f.jsx("h3",{className:"font-bold mb-3 text-foreground uppercase tracking-wider",children:"New Territory Unlocked!"}),f.jsx("p",{className:"text-muted-foreground mb-6 text-sm leading-relaxed",children:"No quests in this category yet! Be the pioneer and create your own adventure."}),f.jsx("div",{className:"space-y-3",children:f.jsx("button",{className:"neon-button px-8 py-4 w-full touch-manipulation flex items-center justify-center",style:{minHeight:"48px"},onClick:()=>{t?x(!0):c?.()},children:"CREATE QUEST"})})]})})]}),y&&f.jsx(nT,{onClose:()=>x(!1),onQuestSaved:i})]})}const V5=[{id:"1",title:"Board Game Tournament",date:"2025-09-02",time:"7:00 PM",location:"Downtown Caf",category:"Social",description:"Join us for a fun evening of board games! Perfect for meeting new people and having great conversations."},{id:"2",title:"Photography Walk",date:"2025-09-10",time:"9:00 AM",location:"City Park",category:"Creative",description:"Explore the city through your lens. Bring your camera and let's capture some amazing shots together!"},{id:"3",title:"Hiking Adventure",date:"2025-08-25",time:"6:00 AM",location:"Mountain Trail",category:"Adventure",description:"Early morning hike to catch the sunrise. Great workout and even better views!"}],F5=[{id:"saved1",title:"Cooking Workshop: Italian Cuisine",date:"2025-09-15",time:"3:00 PM",location:"Culinary Studio",category:"Learning",description:"Learn to make authentic Italian pasta and sauces from a professional chef.",organizer:"Chef Marco",participants:8,maxParticipants:12},{id:"saved2",title:"Beach Volleyball Tournament",date:"2025-09-08",time:"10:00 AM",location:"Marina Beach",category:"Adventure",description:"Competitive beach volleyball with prizes for winners. All skill levels welcome!",organizer:"SportZone",participants:16,maxParticipants:20},{id:"saved3",title:"Art Gallery Opening",date:"2025-09-12",time:"6:30 PM",location:"Modern Art Gallery",category:"Creative",description:"Exclusive preview of contemporary art exhibition with wine and networking.",organizer:"ArtSpace",participants:25,maxParticipants:40}],U5=[{id:"joined1",title:"Weekend Gaming Marathon",date:"2025-09-07",time:"2:00 PM",location:"Gaming Lounge",category:"Social",description:"Epic gaming session with board games, video games, and lots of snacks!",organizer:"GameMaster",participants:12,maxParticipants:15,joinedDate:"2025-08-28",status:"confirmed"},{id:"joined2",title:"Morning Yoga in the Park",date:"2025-09-05",time:"7:00 AM",location:"Central Park",category:"Adventure",description:"Start your day with peaceful yoga surrounded by nature. Mats provided.",organizer:"YogaGuru",participants:8,maxParticipants:10,joinedDate:"2025-08-25",status:"confirmed"}];function z5({onEditQuest:n,onNavigateToChats:e,onOpenChat:t,quests:r=[],userUid:i}){const[a,c]=T.useState("organized"),h=i?r.filter(I=>I.organizerUid===i):[],[p,g]=T.useState([...h,...V5]),[_,y]=T.useState(F5),[x,C]=T.useState(U5),P=I=>({Social:{background:"rgba(236, 72, 153, 0.85)",borderColor:"var(--neon-pink)",color:"var(--background)",textShadow:"0 0 8px rgba(236, 72, 153, 0.8)"},Adventure:{background:"rgba(16, 185, 129, 0.85)",borderColor:"var(--neon-green)",color:"var(--background)",textShadow:"0 0 8px rgba(16, 185, 129, 0.8)"},Learning:{background:"rgba(168, 85, 247, 0.85)",borderColor:"var(--neon-purple)",color:"var(--background)",textShadow:"0 0 8px rgba(168, 85, 247, 0.8)"},Creative:{background:"rgba(245, 158, 11, 0.85)",borderColor:"var(--neon-orange)",color:"var(--background)",textShadow:"0 0 8px rgba(245, 158, 11, 0.8)"}})[I]||{background:"rgba(0, 245, 255, 0.85)",borderColor:"var(--neon-cyan)",color:"var(--background)",textShadow:"0 0 8px rgba(0, 245, 255, 0.8)"},k=I=>{n(I)},A=I=>{t?t(I.id,I.title):e?.()},V=I=>{console.log("Sending join request for quest:",I)},U=I=>{y(_.filter(W=>W.id!==I))};return f.jsx("div",{className:"min-h-screen bg-background",children:f.jsx("div",{className:"p-4 pt-6",children:f.jsxs("div",{className:"space-y-4 px-4",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsx("button",{onClick:()=>c("organized"),className:`py-3 px-3 font-bold transition-all uppercase tracking-wider text-sm ${a==="organized"?"gaming-filter active":"gaming-filter"}`,children:" MY QUESTS"}),f.jsx("button",{onClick:()=>c("saved"),className:`py-3 px-3 font-bold transition-all uppercase tracking-wider text-sm ${a==="saved"?"gaming-filter active":"gaming-filter"}`,children:" SAVED"}),f.jsx("button",{onClick:()=>c("joined"),className:`py-3 px-3 font-bold transition-all uppercase tracking-wider text-sm ${a==="joined"?"gaming-filter active":"gaming-filter"}`,children:" JOINED"})]}),a==="organized"&&f.jsx("div",{className:"space-y-4",children:p.map(I=>f.jsx("div",{className:"hud-card",children:f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"font-bold text-lg text-foreground",children:I.title}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Zl,{className:"w-4 h-4 text-neon-purple"}),f.jsxs("span",{children:[I.date," at ",I.time]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Zr,{className:"w-4 h-4 text-neon-red"}),f.jsx("span",{children:I.location})]})]}),f.jsx("div",{className:"flex flex-col items-end gap-2",children:f.jsx("div",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider rounded-full border backdrop-blur-sm",style:{background:P(I.category).background,borderColor:P(I.category).borderColor,color:P(I.category).color,textShadow:P(I.category).textShadow,boxShadow:`0 0 15px ${P(I.category).borderColor}30`},children:I.category})})]}),f.jsx("div",{className:"mt-4",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>k(I),className:"gaming-filter flex-1 py-3 font-bold hover:border-neon-cyan hover:text-neon-cyan transition-all uppercase tracking-wider flex items-center justify-center",children:[f.jsx(cC,{className:"w-4 h-4 mr-2"}),"MANAGE"]}),f.jsxs("button",{onClick:()=>A(I),className:"gaming-filter flex-1 py-3 font-bold hover:border-neon-cyan hover:text-neon-cyan transition-all uppercase tracking-wider flex items-center justify-center",children:[f.jsx(Lp,{className:"w-4 h-4 mr-2"}),"SQUAD CHAT"]})]})})]})},I.id))}),p.length===0&&a==="organized"&&f.jsx("div",{className:"gaming-panel p-8 mx-4",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-6xl mb-4 pulse-glow",children:""}),f.jsx("h3",{className:"font-bold mb-2 text-foreground uppercase tracking-wider",children:"NO QUESTS CREATED"}),f.jsx("p",{className:"text-muted-foreground mb-6",children:"Forge your first adventure to become a legendary guide!"}),f.jsx("button",{className:"neon-button px-8 py-3",children:" CREATE FIRST QUEST"})]})}),a==="saved"&&f.jsx("div",{className:"space-y-4",children:_.length===0?f.jsx("div",{className:"gaming-panel p-8",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-6xl mb-4 pulse-glow",children:""}),f.jsx("h3",{className:"font-bold mb-2 text-foreground uppercase tracking-wider",children:"NO SAVED QUESTS"}),f.jsx("p",{className:"text-muted-foreground mb-6",children:"Bookmark interesting quests to join later!"}),f.jsx("button",{className:"gaming-filter px-8 py-3 font-bold hover:border-neon-cyan hover:text-neon-cyan transition-all uppercase tracking-wider",children:" BROWSE QUESTS"})]})}):_.map(I=>f.jsx("div",{className:"hud-card",children:f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"space-y-2 flex-1",children:[f.jsx("h3",{className:"font-bold text-lg text-foreground",children:I.title}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Zl,{className:"w-4 h-4 text-neon-purple"}),f.jsxs("span",{children:[I.date," at ",I.time]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Zr,{className:"w-4 h-4 text-neon-red"}),f.jsx("span",{children:I.location})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Fp,{className:"w-4 h-4 text-neon-cyan"}),f.jsxs("span",{children:[I.participants,"/",I.maxParticipants," members"]})]}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.jsx("span",{children:"Organized by: "}),f.jsx("span",{className:"text-neon-cyan font-medium",children:I.organizer})]})]}),f.jsxs("div",{className:"flex flex-col items-end gap-2",children:[f.jsx("div",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider rounded-full border backdrop-blur-sm",style:{background:P(I.category).background,borderColor:P(I.category).borderColor,color:P(I.category).color,textShadow:P(I.category).textShadow,boxShadow:`0 0 15px ${P(I.category).borderColor}30`},children:I.category}),f.jsx("div",{className:"px-2 py-1 text-xs bg-neon-orange/20 text-neon-orange rounded-full border border-neon-orange/30",children:"SAVED"})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:I.description}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>V(I.id),className:"neon-button flex-1 py-3 font-bold text-sm uppercase tracking-wider flex items-center justify-center",children:" JOIN QUEST"}),f.jsx("button",{onClick:()=>U(I.id),className:"gaming-filter px-4 py-3 font-bold hover:border-neon-red hover:text-neon-red transition-all uppercase tracking-wider flex items-center justify-center",children:""})]})]})]})},I.id))}),a==="joined"&&f.jsx("div",{className:"space-y-4",children:x.length===0?f.jsx("div",{className:"gaming-panel p-8",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-6xl mb-4 pulse-glow",children:""}),f.jsx("h3",{className:"font-bold mb-2 text-foreground uppercase tracking-wider",children:"NO JOINED QUESTS"}),f.jsx("p",{className:"text-muted-foreground mb-6",children:"Join some adventures to start your journey!"}),f.jsx("button",{className:"gaming-filter px-8 py-3 font-bold hover:border-neon-cyan hover:text-neon-cyan transition-all uppercase tracking-wider",children:" BROWSE QUESTS"})]})}):x.map(I=>f.jsx("div",{className:"hud-card",children:f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"space-y-2 flex-1",children:[f.jsx("h3",{className:"font-bold text-lg text-foreground",children:I.title}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Zl,{className:"w-4 h-4 text-neon-purple"}),f.jsxs("span",{children:[I.date," at ",I.time]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Zr,{className:"w-4 h-4 text-neon-red"}),f.jsx("span",{children:I.location})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Fp,{className:"w-4 h-4 text-neon-cyan"}),f.jsxs("span",{children:[I.participants,"/",I.maxParticipants," members"]})]}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.jsx("span",{children:"Organized by: "}),f.jsx("span",{className:"text-neon-cyan font-medium",children:I.organizer})]}),f.jsxs("div",{className:"text-xs text-neon-green",children:[" Joined on ",I.joinedDate]})]}),f.jsxs("div",{className:"flex flex-col items-end gap-2",children:[f.jsx("div",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider rounded-full border backdrop-blur-sm",style:{background:P(I.category).background,borderColor:P(I.category).borderColor,color:P(I.category).color,textShadow:P(I.category).textShadow,boxShadow:`0 0 15px ${P(I.category).borderColor}30`},children:I.category}),f.jsx("div",{className:"px-2 py-1 text-xs bg-neon-green/20 text-neon-green rounded-full border border-neon-green/30",children:"JOINED"})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:I.description}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>A(I),className:"gaming-filter flex-1 py-3 font-bold hover:border-neon-cyan hover:text-neon-cyan transition-all uppercase tracking-wider flex items-center justify-center",children:[f.jsx(Lp,{className:"w-4 h-4 mr-2"}),"SQUAD CHAT"]}),f.jsx("button",{className:"gaming-filter px-4 py-3 font-bold hover:border-neon-purple hover:text-neon-purple transition-all uppercase tracking-wider flex items-center justify-center",children:""})]})]})]})},I.id))})]})})})}const B5=[{id:"1",questTitle:"Board Game Tournament",questCategory:"Social",participants:8,lastMessage:"Hey everyone! Just arrived at the venue. See you inside! ",lastMessageTime:"2 min ago",lastMessageBy:"Rahul",unreadCount:3,questDate:"2025-09-02",questLocation:"Downtown Caf",isActive:!0},{id:"2",questTitle:"Photography Walk",questCategory:"Creative",participants:5,lastMessage:"Uploading some shots from today! Amazing golden hour ",lastMessageTime:"1 hour ago",lastMessageBy:"Priya",unreadCount:0,questDate:"2025-09-10",questLocation:"City Park",isActive:!0},{id:"3",questTitle:"Coffee Crawl Adventure",questCategory:"Social",participants:12,lastMessage:"Next stop is Third Wave! Their cold brew is legendary ",lastMessageTime:"3 hours ago",lastMessageBy:"Arjun",unreadCount:1,questDate:"2025-08-30",questLocation:"Koramangala",isActive:!0},{id:"4",questTitle:"Hiking Adventure",questCategory:"Adventure",participants:6,lastMessage:"Thanks everyone for an amazing trek! Same time next month?",lastMessageTime:"2 days ago",lastMessageBy:"Neha",unreadCount:0,questDate:"2025-08-25",questLocation:"Mountain Trail",isActive:!1},{id:"5",questTitle:"Art Workshop",questCategory:"Learning",participants:10,lastMessage:"Loved the watercolor techniques we learned today! ",lastMessageTime:"1 week ago",lastMessageBy:"Kavya",unreadCount:0,questDate:"2025-08-20",questLocation:"Art Studio",isActive:!1}];function F_({onOpenChat:n}){const[e,t]=T.useState("active"),r=B5.filter(a=>e==="active"&&a.isActive||e==="past"&&!a.isActive),i=(a,c)=>{n(a,c)};return f.jsx("div",{className:"min-h-screen bg-background",children:f.jsxs("div",{className:"p-4 pt-6",children:[f.jsx("div",{className:"flex gap-2 mb-6",children:[{id:"active",label:"ACTIVE"},{id:"past",label:"COMPLETED"}].map(a=>f.jsx("button",{onClick:()=>t(a.id),className:`py-3 px-4 font-bold transition-all uppercase tracking-wider flex-1 ${e===a.id?"gaming-filter active":"gaming-filter"}`,children:a.label},a.id))}),f.jsx("div",{className:"space-y-4",children:r.length===0?f.jsx("div",{className:"gaming-panel p-8",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-6xl mb-4 pulse-glow",children:""}),f.jsx("h3",{className:"font-bold mb-2 text-foreground uppercase tracking-wider",children:"NO CHATS FOUND"}),f.jsx("p",{className:"text-muted-foreground mb-6",children:"Join some quests to start chatting!"})]})}):r.map(a=>f.jsx("div",{onClick:()=>i(a.id,a.questTitle),className:"hud-card cursor-pointer hover:scale-[1.02] transition-transform active:scale-[0.98] touch-manipulation",children:f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("h3",{className:"font-bold text-lg text-foreground flex-1",children:a.questTitle}),a.unreadCount>0&&f.jsx("div",{className:"gaming-counter px-2 py-1 text-xs font-bold ml-2",children:a.unreadCount})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:a.lastMessage})]})},a.id))})]})})}function $5(n,e){return T.useReducer((t,r)=>e[t][r]??t,n)}var tl=n=>{const{present:e,children:t}=n,r=H5(e),i=typeof t=="function"?t({present:r.isPresent}):T.Children.only(t),a=lt(r.ref,W5(i));return typeof t=="function"||r.isPresent?T.cloneElement(i,{ref:a}):null};tl.displayName="Presence";function H5(n){const[e,t]=T.useState(),r=T.useRef(null),i=T.useRef(n),a=T.useRef("none"),c=n?"mounted":"unmounted",[h,p]=$5(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const g=od(r.current);a.current=h==="mounted"?g:"none"},[h]),pn(()=>{const g=r.current,_=i.current;if(_!==n){const x=a.current,C=od(g);n?p("MOUNT"):C==="none"||g?.display==="none"?p("UNMOUNT"):p(_&&x!==C?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,p]),pn(()=>{if(e){let g;const _=e.ownerDocument.defaultView??window,y=C=>{const k=od(r.current).includes(CSS.escape(C.animationName));if(C.target===e&&k&&(p("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",g=_.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},x=C=>{C.target===e&&(a.current=od(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{_.clearTimeout(g),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:T.useCallback(g=>{r.current=g?getComputedStyle(g):null,t(g)},[])}}function od(n){return n?.animationName||"none"}function W5(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var jp="rovingFocusGroup.onEntryFocus",G5={bubbles:!1,cancelable:!0},Mc="RovingFocusGroup",[km,rT,q5]=Og(Mc),[K5,Nh]=Fo(Mc,[q5]),[Q5,Y5]=K5(Mc),sT=T.forwardRef((n,e)=>f.jsx(km.Provider,{scope:n.__scopeRovingFocusGroup,children:f.jsx(km.Slot,{scope:n.__scopeRovingFocusGroup,children:f.jsx(X5,{...n,ref:e})})}));sT.displayName=Mc;var X5=T.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:_=!1,...y}=n,x=T.useRef(null),C=lt(e,x),P=wh(a),[k,A]=wc({prop:c,defaultProp:h??null,onChange:p,caller:Mc}),[V,U]=T.useState(!1),I=ds(g),W=rT(t),X=T.useRef(!1),[ne,M]=T.useState(0);return T.useEffect(()=>{const S=x.current;if(S)return S.addEventListener(jp,I),()=>S.removeEventListener(jp,I)},[I]),f.jsx(Q5,{scope:t,orientation:r,dir:P,loop:i,currentTabStopId:k,onItemFocus:T.useCallback(S=>A(S),[A]),onItemShiftTab:T.useCallback(()=>U(!0),[]),onFocusableItemAdd:T.useCallback(()=>M(S=>S+1),[]),onFocusableItemRemove:T.useCallback(()=>M(S=>S-1),[]),children:f.jsx(Je.div,{tabIndex:V||ne===0?-1:0,"data-orientation":r,...y,ref:C,style:{outline:"none",...n.style},onMouseDown:Ae(n.onMouseDown,()=>{X.current=!0}),onFocus:Ae(n.onFocus,S=>{const N=!X.current;if(S.target===S.currentTarget&&N&&!V){const j=new CustomEvent(jp,G5);if(S.currentTarget.dispatchEvent(j),!j.defaultPrevented){const O=W().filter(le=>le.focusable),F=O.find(le=>le.active),D=O.find(le=>le.id===k),ke=[F,D,...O].filter(Boolean).map(le=>le.ref.current);aT(ke,_)}}X.current=!1}),onBlur:Ae(n.onBlur,()=>U(!1))})})}),oT="RovingFocusGroupItem",iT=T.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:a,children:c,...h}=n,p=Ba(),g=a||p,_=Y5(oT,t),y=_.currentTabStopId===g,x=rT(t),{onFocusableItemAdd:C,onFocusableItemRemove:P,currentTabStopId:k}=_;return T.useEffect(()=>{if(r)return C(),()=>P()},[r,C,P]),f.jsx(km.ItemSlot,{scope:t,id:g,focusable:r,active:i,children:f.jsx(Je.span,{tabIndex:y?0:-1,"data-orientation":_.orientation,...h,ref:e,onMouseDown:Ae(n.onMouseDown,A=>{r?_.onItemFocus(g):A.preventDefault()}),onFocus:Ae(n.onFocus,()=>_.onItemFocus(g)),onKeyDown:Ae(n.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){_.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const V=e3(A,_.orientation,_.dir);if(V!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let I=x().filter(W=>W.focusable).map(W=>W.ref.current);if(V==="last")I.reverse();else if(V==="prev"||V==="next"){V==="prev"&&I.reverse();const W=I.indexOf(A.currentTarget);I=_.loop?t3(I,W+1):I.slice(W+1)}setTimeout(()=>aT(I))}}),children:typeof c=="function"?c({isCurrentTabStop:y,hasTabStop:k!=null}):c})})});iT.displayName=oT;var J5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Z5(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function e3(n,e,t){const r=Z5(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return J5[r]}function aT(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function t3(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var lT=sT,cT=iT,Nm=["Enter"," "],n3=["ArrowDown","PageUp","Home"],uT=["ArrowUp","PageDown","End"],r3=[...n3,...uT],s3={ltr:[...Nm,"ArrowRight"],rtl:[...Nm,"ArrowLeft"]},o3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dc="Menu",[_c,i3,a3]=Og(Dc),[ji,dT]=Fo(Dc,[a3,Th,Nh]),Rh=Th(),hT=Nh(),[l3,Oi]=ji(Dc),[c3,jc]=ji(Dc),fT=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:a,modal:c=!0}=n,h=Rh(e),[p,g]=T.useState(null),_=T.useRef(!1),y=ds(a),x=wh(i);return T.useEffect(()=>{const C=()=>{_.current=!0,document.addEventListener("pointerdown",P,{capture:!0,once:!0}),document.addEventListener("pointermove",P,{capture:!0,once:!0})},P=()=>_.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",P,{capture:!0}),document.removeEventListener("pointermove",P,{capture:!0})}},[]),f.jsx(mE,{...h,children:f.jsx(l3,{scope:e,open:t,onOpenChange:y,content:p,onContentChange:g,children:f.jsx(c3,{scope:e,onClose:T.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:_,dir:x,modal:c,children:r})})})};fT.displayName=Dc;var u3="MenuAnchor",Yg=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=Rh(t);return f.jsx(gE,{...i,...r,ref:e})});Yg.displayName=u3;var Xg="MenuPortal",[d3,pT]=ji(Xg,{forceMount:void 0}),mT=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,a=Oi(Xg,e);return f.jsx(d3,{scope:e,forceMount:t,children:f.jsx(tl,{present:t||a.open,children:f.jsx(qg,{asChild:!0,container:i,children:r})})})};mT.displayName=Xg;var ir="MenuContent",[h3,Jg]=ji(ir),gT=T.forwardRef((n,e)=>{const t=pT(ir,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,a=Oi(ir,n.__scopeMenu),c=jc(ir,n.__scopeMenu);return f.jsx(_c.Provider,{scope:n.__scopeMenu,children:f.jsx(tl,{present:r||a.open,children:f.jsx(_c.Slot,{scope:n.__scopeMenu,children:c.modal?f.jsx(f3,{...i,ref:e}):f.jsx(p3,{...i,ref:e})})})})}),f3=T.forwardRef((n,e)=>{const t=Oi(ir,n.__scopeMenu),r=T.useRef(null),i=lt(e,r);return T.useEffect(()=>{const a=r.current;if(a)return bE(a)},[]),f.jsx(Zg,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ae(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),p3=T.forwardRef((n,e)=>{const t=Oi(ir,n.__scopeMenu);return f.jsx(Zg,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),m3=Ma("MenuContent.ScrollLock"),Zg=T.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:h,onEntryFocus:p,onEscapeKeyDown:g,onPointerDownOutside:_,onFocusOutside:y,onInteractOutside:x,onDismiss:C,disableOutsideScroll:P,...k}=n,A=Oi(ir,t),V=jc(ir,t),U=Rh(t),I=hT(t),W=i3(t),[X,ne]=T.useState(null),M=T.useRef(null),S=lt(e,M,A.onContentChange),N=T.useRef(0),j=T.useRef(""),O=T.useRef(0),F=T.useRef(null),D=T.useRef("right"),ye=T.useRef(0),ke=P?Kg:T.Fragment,le=P?{as:m3,allowPinchZoom:!0}:void 0,pe=J=>{const se=j.current+J,B=W().filter(ee=>!ee.disabled),Z=document.activeElement,ie=B.find(ee=>ee.ref.current===Z)?.textValue,ue=B.map(ee=>ee.textValue),ge=C3(ue,se,ie),xe=B.find(ee=>ee.textValue===ge)?.ref.current;(function ee(fe){j.current=fe,window.clearTimeout(N.current),fe!==""&&(N.current=window.setTimeout(()=>ee(""),1e3))})(se),xe&&setTimeout(()=>xe.focus())};T.useEffect(()=>()=>window.clearTimeout(N.current),[]),Wb();const H=T.useCallback(J=>D.current===F.current?.side&&N3(J,F.current?.area),[]);return f.jsx(h3,{scope:t,searchRef:j,onItemEnter:T.useCallback(J=>{H(J)&&J.preventDefault()},[H]),onItemLeave:T.useCallback(J=>{H(J)||(M.current?.focus(),ne(null))},[H]),onTriggerLeave:T.useCallback(J=>{H(J)&&J.preventDefault()},[H]),pointerGraceTimerRef:O,onPointerGraceIntentChange:T.useCallback(J=>{F.current=J},[]),children:f.jsx(ke,{...le,children:f.jsx(Vg,{asChild:!0,trapped:i,onMountAutoFocus:Ae(a,J=>{J.preventDefault(),M.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:f.jsx(Lg,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:g,onPointerDownOutside:_,onFocusOutside:y,onInteractOutside:x,onDismiss:C,children:f.jsx(lT,{asChild:!0,...I,dir:V.dir,orientation:"vertical",loop:r,currentTabStopId:X,onCurrentTabStopIdChange:ne,onEntryFocus:Ae(p,J=>{V.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(yE,{role:"menu","aria-orientation":"vertical","data-state":PT(A.open),"data-radix-menu-content":"",dir:V.dir,...U,...k,ref:S,style:{outline:"none",...k.style},onKeyDown:Ae(k.onKeyDown,J=>{const B=J.target.closest("[data-radix-menu-content]")===J.currentTarget,Z=J.ctrlKey||J.altKey||J.metaKey,ie=J.key.length===1;B&&(J.key==="Tab"&&J.preventDefault(),!Z&&ie&&pe(J.key));const ue=M.current;if(J.target!==ue||!r3.includes(J.key))return;J.preventDefault();const xe=W().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);uT.includes(J.key)&&xe.reverse(),S3(xe)}),onBlur:Ae(n.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(N.current),j.current="")}),onPointerMove:Ae(n.onPointerMove,xc(J=>{const se=J.target,B=ye.current!==J.clientX;if(J.currentTarget.contains(se)&&B){const Z=J.clientX>ye.current?"right":"left";D.current=Z,ye.current=J.clientX}}))})})})})})})});gT.displayName=ir;var g3="MenuGroup",ey=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return f.jsx(Je.div,{role:"group",...r,ref:e})});ey.displayName=g3;var y3="MenuLabel",yT=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return f.jsx(Je.div,{...r,ref:e})});yT.displayName=y3;var Xd="MenuItem",U_="menu.itemSelect",Ah=T.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,a=T.useRef(null),c=jc(Xd,n.__scopeMenu),h=Jg(Xd,n.__scopeMenu),p=lt(e,a),g=T.useRef(!1),_=()=>{const y=a.current;if(!t&&y){const x=new CustomEvent(U_,{bubbles:!0,cancelable:!0});y.addEventListener(U_,C=>r?.(C),{once:!0}),Bb(y,x),x.defaultPrevented?g.current=!1:c.onClose()}};return f.jsx(vT,{...i,ref:p,disabled:t,onClick:Ae(n.onClick,_),onPointerDown:y=>{n.onPointerDown?.(y),g.current=!0},onPointerUp:Ae(n.onPointerUp,y=>{g.current||y.currentTarget?.click()}),onKeyDown:Ae(n.onKeyDown,y=>{const x=h.searchRef.current!=="";t||x&&y.key===" "||Nm.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Ah.displayName=Xd;var vT=T.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...a}=n,c=Jg(Xd,t),h=hT(t),p=T.useRef(null),g=lt(e,p),[_,y]=T.useState(!1),[x,C]=T.useState("");return T.useEffect(()=>{const P=p.current;P&&C((P.textContent??"").trim())},[a.children]),f.jsx(_c.ItemSlot,{scope:t,disabled:r,textValue:i??x,children:f.jsx(cT,{asChild:!0,...h,focusable:!r,children:f.jsx(Je.div,{role:"menuitem","data-highlighted":_?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:g,onPointerMove:Ae(n.onPointerMove,xc(P=>{r?c.onItemLeave(P):(c.onItemEnter(P),P.defaultPrevented||P.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(n.onPointerLeave,xc(P=>c.onItemLeave(P))),onFocus:Ae(n.onFocus,()=>y(!0)),onBlur:Ae(n.onBlur,()=>y(!1))})})})}),v3="MenuCheckboxItem",wT=T.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return f.jsx(TT,{scope:n.__scopeMenu,checked:t,children:f.jsx(Ah,{role:"menuitemcheckbox","aria-checked":Jd(t)?"mixed":t,...i,ref:e,"data-state":ny(t),onSelect:Ae(i.onSelect,()=>r?.(Jd(t)?!0:!t),{checkForDefaultPrevented:!1})})})});wT.displayName=v3;var _T="MenuRadioGroup",[w3,_3]=ji(_T,{value:void 0,onValueChange:()=>{}}),xT=T.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,a=ds(r);return f.jsx(w3,{scope:n.__scopeMenu,value:t,onValueChange:a,children:f.jsx(ey,{...i,ref:e})})});xT.displayName=_T;var bT="MenuRadioItem",ET=T.forwardRef((n,e)=>{const{value:t,...r}=n,i=_3(bT,n.__scopeMenu),a=t===i.value;return f.jsx(TT,{scope:n.__scopeMenu,checked:a,children:f.jsx(Ah,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":ny(a),onSelect:Ae(r.onSelect,()=>i.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});ET.displayName=bT;var ty="MenuItemIndicator",[TT,x3]=ji(ty,{checked:!1}),ST=T.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,a=x3(ty,t);return f.jsx(tl,{present:r||Jd(a.checked)||a.checked===!0,children:f.jsx(Je.span,{...i,ref:e,"data-state":ny(a.checked)})})});ST.displayName=ty;var b3="MenuSeparator",IT=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return f.jsx(Je.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});IT.displayName=b3;var E3="MenuArrow",CT=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=Rh(t);return f.jsx(vE,{...i,...r,ref:e})});CT.displayName=E3;var T3="MenuSub",[lV,kT]=ji(T3),Jl="MenuSubTrigger",NT=T.forwardRef((n,e)=>{const t=Oi(Jl,n.__scopeMenu),r=jc(Jl,n.__scopeMenu),i=kT(Jl,n.__scopeMenu),a=Jg(Jl,n.__scopeMenu),c=T.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:p}=a,g={__scopeMenu:n.__scopeMenu},_=T.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return T.useEffect(()=>_,[_]),T.useEffect(()=>{const y=h.current;return()=>{window.clearTimeout(y),p(null)}},[h,p]),f.jsx(Yg,{asChild:!0,...g,children:f.jsx(vT,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":PT(t.open),...n,ref:eh(e,i.onTriggerChange),onClick:y=>{n.onClick?.(y),!(n.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ae(n.onPointerMove,xc(y=>{a.onItemEnter(y),!y.defaultPrevented&&!n.disabled&&!t.open&&!c.current&&(a.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{t.onOpenChange(!0),_()},100))})),onPointerLeave:Ae(n.onPointerLeave,xc(y=>{_();const x=t.content?.getBoundingClientRect();if(x){const C=t.content?.dataset.side,P=C==="right",k=P?-5:5,A=x[P?"left":"right"],V=x[P?"right":"left"];a.onPointerGraceIntentChange({area:[{x:y.clientX+k,y:y.clientY},{x:A,y:x.top},{x:V,y:x.top},{x:V,y:x.bottom},{x:A,y:x.bottom}],side:C}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(y),y.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(n.onKeyDown,y=>{const x=a.searchRef.current!=="";n.disabled||x&&y.key===" "||s3[r.dir].includes(y.key)&&(t.onOpenChange(!0),t.content?.focus(),y.preventDefault())})})})});NT.displayName=Jl;var RT="MenuSubContent",AT=T.forwardRef((n,e)=>{const t=pT(ir,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,a=Oi(ir,n.__scopeMenu),c=jc(ir,n.__scopeMenu),h=kT(RT,n.__scopeMenu),p=T.useRef(null),g=lt(e,p);return f.jsx(_c.Provider,{scope:n.__scopeMenu,children:f.jsx(tl,{present:r||a.open,children:f.jsx(_c.Slot,{scope:n.__scopeMenu,children:f.jsx(Zg,{id:h.contentId,"aria-labelledby":h.triggerId,...i,ref:g,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:_=>{c.isUsingKeyboardRef.current&&p.current?.focus(),_.preventDefault()},onCloseAutoFocus:_=>_.preventDefault(),onFocusOutside:Ae(n.onFocusOutside,_=>{_.target!==h.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ae(n.onEscapeKeyDown,_=>{c.onClose(),_.preventDefault()}),onKeyDown:Ae(n.onKeyDown,_=>{const y=_.currentTarget.contains(_.target),x=o3[c.dir].includes(_.key);y&&x&&(a.onOpenChange(!1),h.trigger?.focus(),_.preventDefault())})})})})})});AT.displayName=RT;function PT(n){return n?"open":"closed"}function Jd(n){return n==="indeterminate"}function ny(n){return Jd(n)?"indeterminate":n?"checked":"unchecked"}function S3(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function I3(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function C3(n,e,t){const i=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let c=I3(n,Math.max(a,0));i.length===1&&(c=c.filter(g=>g!==t));const p=c.find(g=>g.toLowerCase().startsWith(i.toLowerCase()));return p!==t?p:void 0}function k3(n,e){const{x:t,y:r}=n;let i=!1;for(let a=0,c=e.length-1;a<e.length;c=a++){const h=e[a],p=e[c],g=h.x,_=h.y,y=p.x,x=p.y;_>r!=x>r&&t<(y-g)*(r-_)/(x-_)+g&&(i=!i)}return i}function N3(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return k3(t,e)}function xc(n){return e=>e.pointerType==="mouse"?n(e):void 0}var R3=fT,A3=Yg,P3=mT,M3=gT,D3=ey,j3=yT,O3=Ah,L3=wT,V3=xT,F3=ET,U3=ST,z3=IT,B3=CT,$3=NT,H3=AT,Ph="DropdownMenu",[W3]=Fo(Ph,[dT]),_n=dT(),[G3,MT]=W3(Ph),DT=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:a,onOpenChange:c,modal:h=!0}=n,p=_n(e),g=T.useRef(null),[_,y]=wc({prop:i,defaultProp:a??!1,onChange:c,caller:Ph});return f.jsx(G3,{scope:e,triggerId:Ba(),triggerRef:g,contentId:Ba(),open:_,onOpenChange:y,onOpenToggle:T.useCallback(()=>y(x=>!x),[y]),modal:h,children:f.jsx(R3,{...p,open:_,onOpenChange:y,dir:r,modal:h,children:t})})};DT.displayName=Ph;var jT="DropdownMenuTrigger",OT=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,a=MT(jT,t),c=_n(t);return f.jsx(A3,{asChild:!0,...c,children:f.jsx(Je.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:eh(e,a.triggerRef),onPointerDown:Ae(n.onPointerDown,h=>{!r&&h.button===0&&h.ctrlKey===!1&&(a.onOpenToggle(),a.open||h.preventDefault())}),onKeyDown:Ae(n.onKeyDown,h=>{r||(["Enter"," "].includes(h.key)&&a.onOpenToggle(),h.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(h.key)&&h.preventDefault())})})})});OT.displayName=jT;var q3="DropdownMenuPortal",LT=n=>{const{__scopeDropdownMenu:e,...t}=n,r=_n(e);return f.jsx(P3,{...r,...t})};LT.displayName=q3;var VT="DropdownMenuContent",FT=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=MT(VT,t),a=_n(t),c=T.useRef(!1);return f.jsx(M3,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Ae(n.onCloseAutoFocus,h=>{c.current||i.triggerRef.current?.focus(),c.current=!1,h.preventDefault()}),onInteractOutside:Ae(n.onInteractOutside,h=>{const p=h.detail.originalEvent,g=p.button===0&&p.ctrlKey===!0,_=p.button===2||g;(!i.modal||_)&&(c.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FT.displayName=VT;var K3="DropdownMenuGroup",Q3=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return f.jsx(D3,{...i,...r,ref:e})});Q3.displayName=K3;var Y3="DropdownMenuLabel",X3=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return f.jsx(j3,{...i,...r,ref:e})});X3.displayName=Y3;var J3="DropdownMenuItem",UT=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return f.jsx(O3,{...i,...r,ref:e})});UT.displayName=J3;var Z3="DropdownMenuCheckboxItem",eL=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return f.jsx(L3,{...i,...r,ref:e})});eL.displayName=Z3;var tL="DropdownMenuRadioGroup",nL=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return f.jsx(V3,{...i,...r,ref:e})});nL.displayName=tL;var rL="DropdownMenuRadioItem",sL=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return f.jsx(F3,{...i,...r,ref:e})});sL.displayName=rL;var oL="DropdownMenuItemIndicator",iL=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return f.jsx(U3,{...i,...r,ref:e})});iL.displayName=oL;var aL="DropdownMenuSeparator",lL=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return f.jsx(z3,{...i,...r,ref:e})});lL.displayName=aL;var cL="DropdownMenuArrow",uL=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return f.jsx(B3,{...i,...r,ref:e})});uL.displayName=cL;var dL="DropdownMenuSubTrigger",hL=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return f.jsx($3,{...i,...r,ref:e})});hL.displayName=dL;var fL="DropdownMenuSubContent",pL=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return f.jsx(H3,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pL.displayName=fL;var mL=DT,gL=OT,yL=LT,vL=FT,wL=UT;function _L({...n}){return f.jsx(mL,{"data-slot":"dropdown-menu",...n})}function xL({...n}){return f.jsx(gL,{"data-slot":"dropdown-menu-trigger",...n})}function bL({className:n,sideOffset:e=4,...t}){return f.jsx(yL,{children:f.jsx(vL,{"data-slot":"dropdown-menu-content",sideOffset:e,className:An("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function z_({className:n,inset:e,variant:t="default",...r}){return f.jsx(wL,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:An("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}const EL=[{id:"1",senderId:"user1",senderName:"Rahul",content:"Hey everyone! Just arrived at the venue. See you inside! ",timestamp:"2:30 PM",type:"text"},{id:"2",senderId:"user2",senderName:"Priya",content:"Great! I'm running 5 minutes late",timestamp:"2:32 PM",type:"text"},{id:"3",senderId:"user1",senderName:"Rahul",content:"No worries! We'll wait for you",timestamp:"2:33 PM",type:"text",replyTo:{messageId:"2",senderName:"Priya",content:"Great! I'm running 5 minutes late"}},{id:"4",senderId:"user3",senderName:"Arjun",content:"https://example.com/boardgame-setup.jpg",timestamp:"2:35 PM",type:"image",imageUrl:"https://images.unsplash.com/photo-1580087700722-bf9a33bc5952?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxib2FyZCUyMGdhbWVzJTIwdGFibGUlMjBzZXR1cHxlbnwxfHx8fDE3NTY1Nzk5MTl8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},{id:"5",senderId:"user4",senderName:"Kavya",content:"Perfect setup! Love the new games you brought",timestamp:"2:37 PM",type:"text",replyTo:{messageId:"4",senderName:"Arjun",content:"Image"}},{id:"6",senderId:"user2",senderName:"Priya",content:"Downtown Caf, MG Road",timestamp:"2:40 PM",type:"location",location:{name:"Downtown Caf",coordinates:"12.9716, 77.5946"}},{id:"7",senderId:"currentUser",senderName:"You",content:"Perfect! I'll be there in 10 minutes ",timestamp:"2:42 PM",type:"text",replyTo:{messageId:"6",senderName:"Priya",content:"Downtown Caf, MG Road"}}],Wl="currentUser",id="You";function TL({chatId:n,questTitle:e,onBack:t,onLeaveChat:r}){const[i,a]=T.useState(EL),[c,h]=T.useState(""),[p,g]=T.useState(null),[_,y]=T.useState(!1),[x,C]=T.useState(!1),P=T.useRef(null),k=T.useRef(null),A=()=>{P.current?.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{A()},[i]);const V=()=>{if(!c.trim())return;const N={id:Date.now().toString(),senderId:Wl,senderName:id,content:c,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:"text",replyTo:p?{messageId:p.id,senderName:p.senderName,content:p.content}:void 0};a(j=>[...j,N]),h(""),g(null)},U=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),V())},I=N=>{const j=N.target.files?.[0];if(j){const O=URL.createObjectURL(j),F={id:Date.now().toString(),senderId:Wl,senderName:id,content:j.name,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:"image",imageUrl:O};a(D=>[...D,F]),y(!1)}},W=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(N=>{const j={id:Date.now().toString(),senderId:Wl,senderName:id,content:"Current Location",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:"location",location:{name:"My Location",coordinates:`${N.coords.latitude.toFixed(4)}, ${N.coords.longitude.toFixed(4)}`}};a(O=>[...O,j])},()=>{const N={id:Date.now().toString(),senderId:Wl,senderName:id,content:"Sample Location",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:"location",location:{name:"Quest Location",coordinates:"12.9716, 77.5946"}};a(j=>[...j,N])})},X=N=>{g(N)},ne=()=>{C(!x),x?ot.success("Chat unmuted! You'll receive notifications again"):ot.success("Chat muted! You won't receive notifications",{description:"You can unmute anytime from the menu"})},M=()=>{window.confirm("Are you sure you want to leave this quest? You will be removed from the event and won't be able to rejoin unless the quest creator invites you again.")&&(ot.success("Removed from quest successfully",{description:"You are no longer part of this adventure"}),r?.())},S=N=>{const j=N.senderId===Wl;return f.jsxs("div",{className:`flex gap-2 mb-3 ${j?"flex-row-reverse":""}`,children:[f.jsx("div",{className:`w-7 h-7 rounded-full bg-gradient-to-r from-neon-cyan to-neon-purple flex items-center justify-center text-xs font-bold text-white flex-shrink-0 ${j?"from-neon-pink to-neon-orange":""}`,children:N.senderName.charAt(0).toUpperCase()}),f.jsxs("div",{className:`flex-1 max-w-[75%] ${j?"flex flex-col items-end":""}`,children:[!j&&f.jsx("div",{className:"text-xs font-bold text-foreground mb-1",children:N.senderName}),f.jsxs("div",{className:`hud-card p-2.5 relative group ${j?"bg-gradient-to-r from-neon-cyan to-neon-purple text-white":"bg-input-background text-foreground"}`,children:[N.replyTo&&f.jsxs("div",{className:`mb-2 p-2 rounded border-l-2 border-neon-cyan ${j?"bg-white/10":"bg-muted/50"}`,children:[f.jsx("div",{className:`text-xs font-bold mb-1 ${j?"text-white/80":"text-neon-cyan"}`,children:N.replyTo.senderName}),f.jsx("div",{className:`text-xs truncate ${j?"text-white/70":"text-muted-foreground"}`,children:N.replyTo.content})]}),N.type==="text"&&f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"text-sm break-words pr-12",children:N.content}),f.jsx("div",{className:`absolute bottom-0 right-0 text-xs ${j?"text-white/70":"text-muted-foreground"}`,children:N.timestamp})]}),N.type==="image"&&f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:N.imageUrl,alt:"Shared image",className:"max-w-full h-auto rounded-lg mb-2",style:{maxHeight:"200px"}}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"text-xs opacity-75 flex-1",children:N.content}),f.jsx("div",{className:`text-xs ml-2 ${j?"text-white/70":"text-muted-foreground"}`,children:N.timestamp})]})]}),N.type==="location"&&f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Zr,{className:"w-4 h-4 text-neon-red"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-sm font-bold",children:N.location?.name}),f.jsx("div",{className:"text-xs opacity-75",children:N.location?.coordinates})]})]}),f.jsx("div",{className:`text-xs text-right ${j?"text-white/70":"text-muted-foreground"}`,children:N.timestamp})]}),!j&&f.jsx("button",{onClick:()=>X(N),className:"absolute -right-10 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity p-2 rounded-full hover:bg-muted",children:f.jsx(iC,{className:"w-4 h-4 text-muted-foreground"})})]})]})]},N.id)};return f.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[f.jsx("div",{className:"gaming-panel p-4 m-4 mb-0",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-muted transition-colors",children:f.jsx(Am,{className:"w-5 h-5 text-foreground"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h1",{className:"font-bold text-lg text-foreground",children:e}),x&&f.jsx(T0,{className:"w-4 h-4 text-neon-orange",title:"Chat is muted"})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:i.length>0?`${new Set(i.map(N=>N.senderId)).size} members`:"No members"})]}),f.jsxs(_L,{children:[f.jsx(xL,{asChild:!0,children:f.jsx("button",{className:"p-2 rounded-full hover:bg-muted transition-colors",children:f.jsx(zI,{className:"w-5 h-5 text-foreground"})})}),f.jsxs(bL,{align:"end",className:"w-48 hud-card border-border bg-card/95 backdrop-blur-md",children:[f.jsxs(z_,{onClick:ne,className:"flex items-center gap-3 p-3 hover:bg-muted/50 cursor-pointer transition-colors",children:[f.jsx(T0,{className:"w-4 h-4 text-neon-orange"}),f.jsx("span",{className:"text-sm font-medium",children:x?"Unmute Chat":"Mute Chat"})]}),f.jsxs(z_,{onClick:M,className:"flex items-center gap-3 p-3 hover:bg-destructive/10 cursor-pointer transition-colors text-destructive focus:text-destructive",children:[f.jsx(JI,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Leave Quest"})]})]})]})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-3 py-2",children:[i.map(S),f.jsx("div",{ref:P})]}),p&&f.jsx("div",{className:"mx-3 hud-card p-2 border-l-2 border-neon-cyan bg-input-background",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"text-xs text-neon-cyan font-bold",children:["Replying to ",p.senderName]}),f.jsx("div",{className:"text-xs text-muted-foreground truncate",children:p.content})]}),f.jsx("button",{onClick:()=>g(null),className:"text-muted-foreground hover:text-foreground ml-2 p-1 text-lg leading-none",children:""})]})}),_&&f.jsx("div",{className:"mx-3 hud-card p-2.5 mb-2",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>k.current?.click(),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-muted transition-colors flex-1",children:[f.jsx($I,{className:"w-4 h-4 text-neon-purple"}),f.jsx("span",{className:"text-sm",children:"Gallery"})]}),f.jsxs("button",{onClick:()=>{k.current?.click()},className:"flex items-center gap-2 p-2 rounded-lg hover:bg-muted transition-colors flex-1",children:[f.jsx(q_,{className:"w-4 h-4 text-neon-green"}),f.jsx("span",{className:"text-sm",children:"Camera"})]})]})}),f.jsx("div",{className:"p-3",children:f.jsx("div",{className:"hud-card p-2.5",children:f.jsxs("div",{className:"flex items-end gap-2",children:[f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>y(!_),className:"p-2 rounded-lg hover:bg-muted transition-colors",children:f.jsx(YI,{className:"w-5 h-5 text-neon-purple"})}),f.jsx("button",{onClick:W,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:f.jsx(Zr,{className:"w-5 h-5 text-neon-green"})})]}),f.jsx("div",{className:"flex-1",children:f.jsx("textarea",{value:c,onChange:N=>h(N.target.value),onKeyPress:U,placeholder:"Type a message...",className:"w-full resize-none rounded-lg border border-border bg-input-background text-foreground placeholder-muted-foreground focus:border-neon-cyan focus:ring-2 focus:ring-neon-cyan/20 transition-all p-2 text-sm",rows:1,style:{minHeight:"36px",maxHeight:"120px"}})}),f.jsx("button",{onClick:V,disabled:!c.trim(),className:"p-2 rounded-lg neon-button disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx(Y_,{className:"w-5 h-5"})})]})})}),f.jsx("input",{ref:k,type:"file",accept:"image/*",onChange:I,className:"hidden"})]})}const yt={username:"HeroAlex",bio:"Seasoned grass-toucher and adventure seeker! Spreading the joy of real-world connections one quest at a time.",avatar:"https://images.unsplash.com/photo-1633868060075-d77201a3bbab?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxyZXRybyUyMGdhbWluZyUyMDgtYml0fGVufDF8fHx8MTc1NjU0NjIwMXww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",level:15,rupees:3847,fullName:"Alexander Kumar",age:26,city:"Mumbai",gender:"Male",personalityType:"extrovert",interests:["Board Games","Outdoor Adventures","Tech & Coding","Food & Drinks","Travel & Exploration"],stats:{adventuresCompleted:28,adventuresOrganized:12},achievements:[{id:"first-adventure",name:"First Steps",description:"Completed your first adventure",icon:"",unlocked:!0},{id:"social-butterfly",name:"Social Butterfly",description:"Joined 10 social events",icon:"",unlocked:!0},{id:"adventure-guide",name:"Adventure Guide",description:"Organized 10 adventures",icon:"",unlocked:!0},{id:"grass-toucher",name:"Grass Toucher",description:"Completed 25 outdoor adventures",icon:"",unlocked:!0},{id:"realm-explorer",name:"Realm Explorer",description:"Try 5 different categories",icon:"",unlocked:!0},{id:"legendary-hero",name:"Legendary Hero",description:"Reach level 20",icon:"",unlocked:!1}],recentActivity:['Completed "Epic Board Game Night" adventure','Organized "Sunset Peak Hiking" expedition','Saved "Italian Pasta Making" workshop']},Gl={introvert:{title:"Introvert",subtitle:"Borderline Autistic",icon:"",color:"neon-purple"},extrovert:{title:"Extrovert",subtitle:"Can Talk to a Wall and Make it Fun",icon:"",color:"neon-orange"},mysterious:{title:"Mysterious",subtitle:"Personality Synced with Mercury Retrogrades",icon:"",color:"neon-cyan"}};function SL({isProfileCompleted:n=!0,onStartProfileCreation:e,onEditProfile:t}){return f.jsxs("div",{className:"min-h-screen bg-background",children:[n&&f.jsxs("div",{className:"px-4 pt-2 pb-6",children:[f.jsxs("div",{className:"relative overflow-hidden rounded-2xl mb-6",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-neon-cyan/15 via-neon-purple/20 to-neon-pink/15"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-neon-green/10 via-transparent to-neon-orange/10"}),f.jsx("div",{className:"absolute top-4 right-4 w-24 h-24 bg-neon-cyan/20 rounded-full blur-2xl animate-pulse"}),f.jsx("div",{className:"absolute bottom-4 left-4 w-32 h-32 bg-neon-purple/15 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-20 bg-neon-pink/10 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}}),f.jsxs("div",{className:"relative z-10 p-6",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-neon-cyan via-neon-purple to-neon-pink flex items-center justify-center shadow-lg",children:f.jsx(cp,{className:"w-6 h-6 text-white"})}),f.jsx("div",{className:"text-center",children:f.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"Hero Dashboard"})}),f.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-neon-green via-neon-cyan to-neon-purple flex items-center justify-center shadow-lg animate-pulse",children:f.jsx(Ps,{className:"w-6 h-6 text-white"})})]}),f.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 rounded-full bg-gradient-to-r from-neon-orange/20 via-neon-pink/20 to-neon-purple/20 border border-neon-orange/40 backdrop-blur-sm",children:[f.jsx(E0,{className:"w-5 h-5 text-neon-orange"}),f.jsxs("span",{className:"font-bold text-neon-orange",children:["Level ",yt.level," Hero"]}),f.jsx("div",{className:"w-8 h-8 rounded-full bg-neon-orange/30 flex items-center justify-center border border-neon-orange/50",children:f.jsx("span",{className:"text-sm font-bold text-neon-orange",children:yt.level})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[f.jsxs("div",{className:"relative p-5 rounded-xl bg-gradient-to-br from-neon-green/10 to-neon-cyan/10 border border-neon-green/30 backdrop-blur-sm",children:[f.jsx("div",{className:"absolute top-2 right-2",children:f.jsx("div",{className:"w-3 h-3 rounded-full bg-neon-green animate-pulse"})}),f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-neon-green to-neon-cyan flex items-center justify-center",children:f.jsx(Vp,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-neon-green",children:yt.stats.adventuresCompleted}),f.jsx("div",{className:"text-xs text-muted-foreground font-semibold uppercase tracking-wider",children:"Completed"})]})]}),f.jsx("div",{className:"text-xs text-neon-green font-semibold",children:" Adventures Done"})]}),f.jsxs("div",{className:"relative p-5 rounded-xl bg-gradient-to-br from-neon-purple/10 to-neon-pink/10 border border-neon-purple/30 backdrop-blur-sm",children:[f.jsx("div",{className:"absolute top-2 right-2",children:f.jsx("div",{className:"w-3 h-3 rounded-full bg-neon-purple animate-pulse",style:{animationDelay:"0.5s"}})}),f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-neon-purple to-neon-pink flex items-center justify-center",children:f.jsx(cp,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-neon-purple",children:yt.stats.adventuresOrganized}),f.jsx("div",{className:"text-xs text-muted-foreground font-semibold uppercase tracking-wider",children:"Led"})]})]}),f.jsx("div",{className:"text-xs text-neon-purple font-semibold",children:" Led Adventures"})]})]}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h3",{className:"text-sm font-bold text-foreground uppercase tracking-wider mb-4 text-center",children:"Hero Achievements"}),f.jsx("div",{className:"grid grid-cols-4 gap-3",children:yt.achievements.slice(0,4).map(r=>f.jsxs("div",{className:`p-3 rounded-xl text-center backdrop-blur-sm ${r.unlocked?"bg-gradient-to-br from-neon-cyan/15 to-neon-blue/15 border border-neon-cyan/40":"bg-gradient-to-br from-muted/20 to-muted/10 border border-muted/30 opacity-50"}`,children:[f.jsx("div",{className:"text-2xl mb-1",children:r.icon}),f.jsx("div",{className:`text-xs font-bold ${r.unlocked?"text-neon-cyan":"text-muted-foreground"}`,children:r.name.split(" ")[0]})]},r.id))})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 rounded-full bg-gradient-to-r from-neon-cyan/20 via-neon-purple/20 to-neon-pink/20 border border-neon-cyan/40 backdrop-blur-sm mb-4",children:[f.jsx(cp,{className:"w-5 h-5 text-neon-cyan animate-pulse"}),f.jsx("span",{className:"font-bold text-neon-cyan uppercase tracking-wider",children:"Your Legend Continues"}),f.jsx(Ps,{className:"w-5 h-5 text-neon-pink animate-pulse",style:{animationDelay:"0.5s"}})]}),f.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed max-w-sm mx-auto",children:"Every hero's journey is unique  forge your path and inspire others! "})]})]})]}),f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"gaming-panel p-4 border border-neon-purple/30",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(gC,{className:"w-5 h-5 text-neon-purple"}),f.jsx("h3",{className:"font-bold text-foreground uppercase tracking-wider",children:"Recent Heroics"})]}),f.jsx("div",{className:"space-y-3",children:yt.recentActivity.map((r,i)=>f.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg gaming-panel",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-neon-green/20 flex items-center justify-center",children:f.jsx("span",{className:"text-sm",children:""})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-sm font-semibold text-foreground",children:r}),f.jsx("div",{className:"text-xs text-muted-foreground",children:i===0?"2 days ago":i===1?"5 days ago":"1 week ago"})]}),f.jsxs("div",{className:"text-xs text-neon-green font-bold",children:["+",50-i*10," XP"]})]},i))})]})}),f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"hud-card p-6 text-center border-2 border-neon-orange/30 bg-gradient-to-r from-neon-orange/5 via-neon-pink/5 to-neon-purple/5 relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0",children:[f.jsx("div",{className:"absolute top-0 left-0 w-20 h-20 rounded-full bg-neon-orange/10 blur-xl animate-pulse"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 rounded-full bg-neon-pink/10 blur-xl animate-pulse",style:{animationDelay:"1.5s"}})]}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-gradient-to-r from-neon-orange to-neon-pink flex items-center justify-center",children:f.jsx(dC,{className:"w-6 h-6 text-white"})}),f.jsx("h3",{className:"font-bold text-foreground uppercase tracking-wider mb-2",children:yt.username}),f.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed mb-4",children:yt.bio}),f.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full gaming-panel border border-neon-cyan/30",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsxs("span",{className:"text-sm font-bold text-neon-cyan uppercase tracking-wider",children:[yt.rupees.toLocaleString()," Rupees"]})]})]})]})}),f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"gaming-panel p-6 border border-neon-purple/30",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Zd,{className:"w-5 h-5 text-neon-purple"}),f.jsx("h3",{className:"font-bold text-foreground uppercase tracking-wider",children:"Hero Profile"})]}),t&&f.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-lg gaming-panel border border-neon-cyan/30 hover:border-neon-cyan transition-all active:scale-95 touch-manipulation",children:[f.jsx(pC,{className:"w-4 h-4 text-neon-cyan"}),f.jsx("span",{className:"text-sm font-semibold text-neon-cyan",children:"Edit"})]})]}),f.jsxs("div",{className:"flex items-start gap-4 mb-6 p-4 rounded-xl bg-gradient-to-br from-neon-cyan/5 to-neon-purple/5 border border-neon-cyan/20",children:[f.jsx("div",{className:"w-20 h-20 rounded-full border-2 border-neon-cyan/30 overflow-hidden bg-gradient-to-br from-neon-cyan/10 to-neon-purple/10",children:f.jsx(Dm,{src:yt.avatar,alt:yt.username,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"mb-3",children:[f.jsx("h4",{className:"text-lg font-bold text-foreground",children:yt.fullName}),f.jsxs("p",{className:"text-sm text-neon-cyan font-semibold",children:["@",yt.username]})]}),f.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Zl,{className:"w-4 h-4 text-neon-green"}),f.jsxs("span",{children:[yt.age," years"]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Zr,{className:"w-4 h-4 text-neon-orange"}),f.jsx("span",{children:yt.city})]})]})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(Q_,{className:"w-4 h-4 text-neon-pink"}),f.jsx("h5",{className:"font-semibold text-foreground",children:"About Me"})]}),f.jsx("div",{className:"p-4 rounded-lg gaming-panel bg-gradient-to-br from-neon-pink/5 to-neon-orange/5",children:f.jsx("p",{className:"text-sm text-foreground leading-relaxed",children:yt.bio})})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(GI,{className:"w-4 h-4 text-neon-purple"}),f.jsx("h5",{className:"font-semibold text-foreground",children:"Quest Style"})]}),f.jsx("div",{className:"p-4 rounded-lg gaming-panel bg-gradient-to-br from-neon-purple/5 to-neon-cyan/5 border border-neon-purple/20",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"text-2xl",children:Gl[yt.personalityType].icon}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h6",{className:"font-bold text-foreground",children:Gl[yt.personalityType].title}),f.jsx(Ps,{className:`w-4 h-4 text-${Gl[yt.personalityType].color}`})]}),f.jsx("p",{className:`text-sm font-medium text-${Gl[yt.personalityType].color}`,children:Gl[yt.personalityType].subtitle})]})]})})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(Vp,{className:"w-4 h-4 text-neon-green"}),f.jsx("h5",{className:"font-semibold text-foreground",children:"Quest Interests"})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:yt.interests.map((r,i)=>f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold gaming-panel border ${{0:"border-neon-cyan/30 text-neon-cyan bg-neon-cyan/5",1:"border-neon-purple/30 text-neon-purple bg-neon-purple/5",2:"border-neon-green/30 text-neon-green bg-neon-green/5",3:"border-neon-orange/30 text-neon-orange bg-neon-orange/5",4:"border-neon-pink/30 text-neon-pink bg-neon-pink/5"}[i%5]}`,children:r},r))})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-3 rounded-lg gaming-panel bg-gradient-to-br from-neon-green/5 to-neon-cyan/5",children:[f.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Gender"}),f.jsx("div",{className:"font-semibold text-foreground",children:yt.gender})]}),f.jsxs("div",{className:"p-3 rounded-lg gaming-panel bg-gradient-to-br from-neon-orange/5 to-neon-pink/5",children:[f.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Location"}),f.jsx("div",{className:"font-semibold text-foreground",children:yt.city})]})]})]})})]}),!n&&f.jsx("div",{className:"px-4 pt-2 pb-4",children:f.jsxs("div",{className:"gaming-panel p-4 border-2 border-neon-cyan/50 bg-gradient-to-r from-neon-cyan/5 via-neon-purple/5 to-neon-pink/5 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-cyan/10 via-neon-purple/10 to-neon-pink/10 opacity-50 animate-pulse"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-neon-cyan to-neon-purple flex items-center justify-center",children:f.jsx(E0,{className:"w-6 h-6 text-white"})}),f.jsx("div",{children:f.jsx("h3",{className:"font-bold text-foreground",children:"Complete your profile"})})]}),f.jsx("div",{className:"mb-4",children:f.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Ready to become a hero? Complete your profile to unlock your adventure dashboard and start your epic journey! "})}),f.jsxs("button",{onClick:e,className:"neon-button px-6 py-3 w-full flex items-center justify-center gap-2 touch-manipulation",style:{minHeight:"48px"},children:[f.jsx(Ps,{className:"w-4 h-4"}),"Complete Profile",f.jsx(Ps,{className:"w-4 h-4"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-neon-cyan/20 to-transparent"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-tr from-neon-purple/20 to-transparent"})]})})]})}function B_({className:n,type:e,...t}){return f.jsx("input",{type:e,"data-slot":"input",className:An("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var IL="Label",zT=T.forwardRef((n,e)=>f.jsx(Je.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));zT.displayName=IL;var CL=zT;function ba({className:n,...e}){return f.jsx(CL,{"data-slot":"label",className:An("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function kL({className:n,...e}){return f.jsx("textarea",{"data-slot":"textarea",className:An("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}var ry="Radio",[NL,BT]=Fo(ry),[RL,AL]=NL(ry),$T=T.forwardRef((n,e)=>{const{__scopeRadio:t,name:r,checked:i=!1,required:a,disabled:c,value:h="on",onCheck:p,form:g,..._}=n,[y,x]=T.useState(null),C=lt(e,A=>x(A)),P=T.useRef(!1),k=y?g||!!y.closest("form"):!0;return f.jsxs(RL,{scope:t,checked:i,disabled:c,children:[f.jsx(Je.button,{type:"button",role:"radio","aria-checked":i,"data-state":qT(i),"data-disabled":c?"":void 0,disabled:c,value:h,..._,ref:C,onClick:Ae(n.onClick,A=>{i||p?.(),k&&(P.current=A.isPropagationStopped(),P.current||A.stopPropagation())})}),k&&f.jsx(GT,{control:y,bubbles:!P.current,name:r,value:h,checked:i,required:a,disabled:c,form:g,style:{transform:"translateX(-100%)"}})]})});$T.displayName=ry;var HT="RadioIndicator",WT=T.forwardRef((n,e)=>{const{__scopeRadio:t,forceMount:r,...i}=n,a=AL(HT,t);return f.jsx(tl,{present:r||a.checked,children:f.jsx(Je.span,{"data-state":qT(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});WT.displayName=HT;var PL="RadioBubbleInput",GT=T.forwardRef(({__scopeRadio:n,control:e,checked:t,bubbles:r=!0,...i},a)=>{const c=T.useRef(null),h=lt(c,a),p=wE(t),g=oE(e);return T.useEffect(()=>{const _=c.current;if(!_)return;const y=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(y,"checked").set;if(p!==t&&C){const P=new Event("click",{bubbles:r});C.call(_,t),_.dispatchEvent(P)}},[p,t,r]),f.jsx(Je.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:h,style:{...i.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});GT.displayName=PL;function qT(n){return n?"checked":"unchecked"}var ML=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Mh="RadioGroup",[DL]=Fo(Mh,[Nh,BT]),KT=Nh(),QT=BT(),[jL,OL]=DL(Mh),YT=T.forwardRef((n,e)=>{const{__scopeRadioGroup:t,name:r,defaultValue:i,value:a,required:c=!1,disabled:h=!1,orientation:p,dir:g,loop:_=!0,onValueChange:y,...x}=n,C=KT(t),P=wh(g),[k,A]=wc({prop:a,defaultProp:i??null,onChange:y,caller:Mh});return f.jsx(jL,{scope:t,name:r,required:c,disabled:h,value:k,onValueChange:A,children:f.jsx(lT,{asChild:!0,...C,orientation:p,dir:P,loop:_,children:f.jsx(Je.div,{role:"radiogroup","aria-required":c,"aria-orientation":p,"data-disabled":h?"":void 0,dir:P,...x,ref:e})})})});YT.displayName=Mh;var XT="RadioGroupItem",JT=T.forwardRef((n,e)=>{const{__scopeRadioGroup:t,disabled:r,...i}=n,a=OL(XT,t),c=a.disabled||r,h=KT(t),p=QT(t),g=T.useRef(null),_=lt(e,g),y=a.value===i.value,x=T.useRef(!1);return T.useEffect(()=>{const C=k=>{ML.includes(k.key)&&(x.current=!0)},P=()=>x.current=!1;return document.addEventListener("keydown",C),document.addEventListener("keyup",P),()=>{document.removeEventListener("keydown",C),document.removeEventListener("keyup",P)}},[]),f.jsx(cT,{asChild:!0,...h,focusable:!c,active:y,children:f.jsx($T,{disabled:c,required:a.required,checked:y,...p,...i,name:a.name,ref:_,onCheck:()=>a.onValueChange(i.value),onKeyDown:Ae(C=>{C.key==="Enter"&&C.preventDefault()}),onFocus:Ae(i.onFocus,()=>{x.current&&g.current?.click()})})})});JT.displayName=XT;var LL="RadioGroupIndicator",ZT=T.forwardRef((n,e)=>{const{__scopeRadioGroup:t,...r}=n,i=QT(t);return f.jsx(WT,{...i,...r,ref:e})});ZT.displayName=LL;var VL=YT,FL=JT,UL=ZT;function zL({className:n,...e}){return f.jsx(VL,{"data-slot":"radio-group",className:An("grid gap-3",n),...e})}function BL({className:n,...e}){return f.jsx(FL,{"data-slot":"radio-group-item",className:An("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:f.jsx(UL,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:f.jsx(jI,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const $L=["Board Games","Video Games","Sports","Outdoor Adventures","Food & Drinks","Arts & Crafts","Music & Concerts","Movies & TV","Books & Reading","Tech & Coding","Fitness & Wellness","Travel & Exploration","Photography","Dancing","Comedy & Entertainment"],HL=[{id:"introvert",title:"Introvert",subtitle:"Borderline Autistic",description:"Prefers small groups, thoughtful conversations, and meaningful connections",icon:"",color:"neon-purple"},{id:"extrovert",title:"Extrovert",subtitle:"Can Talk to a Wall and Make it Fun",description:"Loves big groups, spontaneous quests, and making everyone laugh",icon:"",color:"neon-orange"},{id:"mysterious",title:"Mysterious",subtitle:"Personality Synced with Mercury Retrogrades",description:"Unpredictable, deep thinker, probably knows your star sign better than you",icon:"",color:"neon-cyan"}],WL=["Male","Female","Non-binary","Prefer not to say","Other"],GL=["Mumbai","Delhi","Bangalore","Chennai","Hyderabad","Pune","Kolkata","Ahmedabad","Jaipur","Goa","Kochi","Chandigarh","Indore","Nagpur","Coimbatore","Lucknow","Kanpur","Visakhapatnam","Bhopal","Patna","Vadodara","Ludhiana","Agra","Nashik","Faridabad","Meerut","Rajkot","Kalyan-Dombivli","Vasai-Virar","Varanasi"];function qL({onProfileComplete:n,onExit:e}){const[t,r]=T.useState(1),[i,a]=T.useState(null),[c,h]=T.useState([]),[p,g]=T.useState({username:"",age:"",city:"",gender:"",bio:"",personalityType:""}),_=T.useRef(null),y=4,x=(I,W)=>{g(X=>({...X,[I]:W}))},C=I=>{const W=I.target.files?.[0];if(W){if(W.size>5*1024*1024){ot.error("Image size should be less than 5MB");return}const X=new FileReader;X.onload=ne=>{a(ne.target?.result)},X.readAsDataURL(W)}},P=I=>{h(W=>W.includes(I)?W.filter(X=>X!==I):W.length<5?[...W,I]:(ot.error("You can select up to 5 interests"),W))},k=()=>{switch(t){case 1:if(!p.username.trim())return ot.error("Username is required"),!1;if(p.username.length<3)return ot.error("Username must be at least 3 characters"),!1;if(!p.age||parseInt(p.age)<13||parseInt(p.age)>100)return ot.error("Please enter a valid age (13-100)"),!1;if(!p.city.trim())return ot.error("City is required"),!1;if(!p.gender)return ot.error("Please select your gender"),!1;break;case 2:if(c.length===0)return ot.error("Please select at least one interest"),!1;break;case 3:if(!p.bio.trim())return ot.error("Bio is required"),!1;if(p.bio.length<20)return ot.error("Bio should be at least 20 characters"),!1;break;case 4:if(!p.personalityType)return ot.error("Please select your personality type"),!1;break}return!0},A=()=>{k()&&(t<y?r(I=>I+1):V())},V=()=>{const I={...p,interests:c,profileImage:i};ot.success("Profile created successfully! Welcome to TouchGrass! ",{description:"Time to start your first quest!"}),n(I)},U=()=>{switch(t){case 1:return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Let's Get You Started"}),f.jsx("p",{className:"text-muted-foreground",children:"Tell us about yourself, quest seeker!"})]}),f.jsx("div",{className:"flex flex-col items-center space-y-4",children:f.jsx("div",{className:"relative",children:f.jsx("button",{onClick:()=>_.current?.click(),className:"w-32 h-32 rounded-full border-2 border-dashed border-neon-cyan bg-input-background flex items-center justify-center overflow-hidden hover:border-neon-purple transition-colors cursor-pointer",children:i?f.jsx(Dm,{src:i,alt:"Profile",className:"w-full h-full object-cover"}):f.jsxs("div",{className:"text-center",children:[f.jsx(q_,{className:"w-8 h-8 text-neon-cyan mx-auto mb-2"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Add Photo"})]})})})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs(ba,{htmlFor:"username",className:"flex items-center gap-2",children:[f.jsx(Zd,{className:"w-4 h-4 text-neon-cyan"}),"Username"]}),f.jsx(B_,{id:"username",value:p.username,onChange:I=>x("username",I.target.value),placeholder:"Choose your quest name",className:"mt-1"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsxs(ba,{htmlFor:"age",className:"flex items-center gap-2",children:[f.jsx(Zl,{className:"w-4 h-4 text-neon-green"}),"Age"]}),f.jsx(B_,{id:"age",type:"number",value:p.age,onChange:I=>x("age",I.target.value),placeholder:"25",min:"13",max:"100",className:"mt-1"})]}),f.jsxs("div",{children:[f.jsxs(ba,{htmlFor:"city",className:"flex items-center gap-2",children:[f.jsx(Zr,{className:"w-4 h-4 text-neon-orange"}),"City"]}),f.jsxs(Gd,{value:p.city,onValueChange:I=>x("city",I),children:[f.jsx(Kd,{className:"mt-1",children:f.jsx(qd,{placeholder:"Select your city"})}),f.jsx(Qd,{className:"max-h-60",children:GL.map(I=>f.jsxs(Yd,{value:I,children:[" ",I]},I))})]})]})]}),f.jsxs("div",{children:[f.jsxs(ba,{className:"flex items-center gap-2",children:[f.jsx(Fp,{className:"w-4 h-4 text-neon-purple"}),"Gender"]}),f.jsxs(Gd,{value:p.gender,onValueChange:I=>x("gender",I),children:[f.jsx(Kd,{className:"mt-1",children:f.jsx(qd,{placeholder:"Select your gender"})}),f.jsx(Qd,{children:WL.map(I=>f.jsx(Yd,{value:I,children:I},I))})]})]})]})]});case 2:return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"What Quests Call to You?"}),f.jsx("p",{className:"text-muted-foreground",children:"Select up to 5 interests (you can change these later)"})]}),f.jsx("div",{className:"grid grid-cols-2 gap-3",children:$L.map(I=>f.jsx("button",{onClick:()=>P(I),className:`p-3 rounded-lg border text-sm font-medium transition-all ${c.includes(I)?"bg-gradient-to-r from-neon-cyan to-neon-purple text-white border-neon-cyan shadow-lg":"bg-input-background border-border text-foreground hover:border-neon-cyan hover:shadow-md"}`,children:I},I))}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",c.length,"/5"]})})]});case 3:return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Tell Your Story"}),f.jsx("p",{className:"text-muted-foreground",children:"Let other quest seekers know what makes you unique!"})]}),f.jsxs("div",{children:[f.jsxs(ba,{htmlFor:"bio",className:"flex items-center gap-2",children:[f.jsx(Q_,{className:"w-4 h-4 text-neon-pink"}),"Your Bio"]}),f.jsx(kL,{id:"bio",value:p.bio,onChange:I=>x("bio",I.target.value),placeholder:"Tell us about yourself, your interests, what kind of quests you're looking for, or anything else you'd like fellow quest seekers to know! Be creative - this is your chance to shine! ",rows:6,className:"mt-1 resize-none"}),f.jsxs("div",{className:"flex justify-between mt-2",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 20 characters"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.bio.length,"/500"]})]})]})]});case 4:return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"What's Your Vibe?"}),f.jsx("p",{className:"text-muted-foreground",children:"Choose your social quest style"})]}),f.jsx(zL,{value:p.personalityType,onValueChange:I=>x("personalityType",I),className:"space-y-4",children:HL.map(I=>f.jsx("div",{className:"relative",children:f.jsxs(ba,{htmlFor:I.id,className:`hud-card p-4 cursor-pointer transition-all block ${p.personalityType===I.id?"border-neon-cyan shadow-lg ring-2 ring-neon-cyan/20":"hover:border-neon-cyan/50"}`,children:[f.jsx(BL,{value:I.id,id:I.id,className:"sr-only"}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"text-3xl",children:I.icon}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h3",{className:"text-lg font-bold text-foreground",children:I.title}),f.jsx(Ps,{className:`w-4 h-4 text-${I.color}`})]}),f.jsx("p",{className:`text-sm font-medium text-${I.color} mb-2`,children:I.subtitle}),f.jsx("p",{className:"text-sm text-muted-foreground",children:I.description})]})]})]})},I.id))})]});default:return null}};return f.jsxs("div",{className:"min-h-screen bg-background p-4",children:[f.jsxs("div",{className:"max-w-md mx-auto",children:[f.jsxs("div",{className:"gaming-panel p-4 mb-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h1",{className:"text-xl font-bold gradient-text",children:"Create Profile"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",t," of ",y]}),f.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-input-background border border-border hover:border-neon-cyan transition-colors flex items-center justify-center",children:f.jsx(Mm,{className:"w-4 h-4 text-muted-foreground hover:text-neon-cyan transition-colors"})})]})]}),f.jsx("div",{className:"gaming-progress h-2",children:f.jsx("div",{className:"gaming-progress-fill transition-all duration-500 ease-out",style:{width:`${t/y*100}%`}})})]}),f.jsx("div",{className:"gaming-panel p-6 mb-6",children:U()}),f.jsxs("div",{className:"flex gap-3",children:[t>1&&f.jsxs(Wp,{variant:"outline",onClick:()=>r(I=>I-1),className:"flex items-center gap-2 flex-1",children:[f.jsx(Am,{className:"w-4 h-4"}),"Back"]}),f.jsx(Wp,{onClick:A,className:"neon-button flex items-center gap-2 flex-1",children:t<y?f.jsxs(f.Fragment,{children:["Next",f.jsx(EI,{className:"w-4 h-4"})]}):f.jsxs(f.Fragment,{children:["Complete Profile",f.jsx(Ps,{className:"w-4 h-4"})]})})]})]}),f.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:C,className:"hidden"})]})}function KL({activeTab:n,onTabChange:e}){const t=[{id:"board",label:"DISCOVER",icon:sC},{id:"my-quests",label:"QUESTS",icon:Up},{id:"chats",label:"CHATS",icon:Lp},{id:"profile",label:"HERO",icon:CI}];return f.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",style:{background:"var(--hud-bg)",borderTop:"1px solid var(--hud-border)",backdropFilter:"blur(20px)",boxShadow:"0 -8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(0, 245, 255, 0.1)",paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:f.jsx("div",{className:"flex justify-around items-center py-4",style:{paddingLeft:"max(8px, env(safe-area-inset-left))",paddingRight:"max(8px, env(safe-area-inset-right))"},children:t.map(r=>{const i=n===r.id;return f.jsxs("button",{onClick:()=>e(r.id),className:`flex flex-col items-center px-2 py-2 transition-all duration-300 transform group touch-manipulation min-w-[64px] min-h-[60px] ${i?"scale-105 -translate-y-0.5":"active:scale-95"}`,children:[f.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 flex items-center justify-center ${i?"bg-gradient-to-r from-neon-cyan to-neon-purple border-2 border-neon-cyan":"bg-hud-bg border border-hud-border active:border-neon-cyan/50"}`,style:{boxShadow:i?"0 0 20px rgba(0, 245, 255, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.2)":"none",minWidth:"48px",minHeight:"48px"},children:f.jsx(r.icon,{size:18,className:`transition-all duration-300 ${i?"text-background drop-shadow-[0_0_8px_rgba(0,245,255,0.8)]":"text-muted-foreground group-active:text-neon-cyan"}`})}),f.jsx("span",{className:`text-xs mt-1.5 font-bold uppercase tracking-wider transition-colors duration-300 text-center ${i?"text-neon-cyan text-glow-cyan":"text-muted-foreground group-active:text-neon-cyan/80"}`,children:r.label})]},r.id)})})})}const eS=bb(ic,"quests"),QL=async n=>{try{return{id:(await LD(eS,{...n,createdAt:mi(),updatedAt:mi()})).id,...n}}catch(e){throw new Error(e.message||"Failed to create quest")}},YL=n=>{const e=PD(eS,MD("createdAt","desc"));return VD(e,t=>{const r=t.docs.map(i=>({id:i.id,...i.data()}));n(r)})},XL=[{id:"social",name:"Social",description:"Meet people and make friends",icon:"",color:"#EC4899",sortOrder:1},{id:"adventure",name:"Adventure",description:"Thrilling outdoor activities",icon:"",color:"#10B981",sortOrder:2},{id:"learning",name:"Learning",description:"Educational experiences and workshops",icon:"",color:"#A855F7",sortOrder:3},{id:"creative",name:"Creative",description:"Arts, crafts, and creative pursuits",icon:"",color:"#F59E0B",sortOrder:4},{id:"sports",name:"Sports",description:"Fitness and sporting activities",icon:"",color:"#10B981",sortOrder:5},{id:"food",name:"Food",description:"Culinary experiences and dining",icon:"",color:"#EC4899",sortOrder:6},{id:"music",name:"Music",description:"Concerts, bands, and musical events",icon:"",color:"#A855F7",sortOrder:7},{id:"tech",name:"Tech",description:"Technology workshops and coding",icon:"",color:"#00F5FF",sortOrder:8}],JL=[{id:"bangalore",name:"Bangalore",state:"Karnataka",country:"India",latitude:12.9716,longitude:77.5946,timezone:"Asia/Kolkata",activeQuestsCount:0,activeUsers:0,isPopular:!0},{id:"delhi",name:"Delhi",state:"Delhi",country:"India",latitude:28.7041,longitude:77.1025,timezone:"Asia/Kolkata",activeQuestsCount:0,activeUsers:0,isPopular:!0},{id:"mumbai",name:"Mumbai",state:"Maharashtra",country:"India",latitude:19.076,longitude:72.8777,timezone:"Asia/Kolkata",activeQuestsCount:0,activeUsers:0,isPopular:!0}],ZL=[{id:"first_quest",name:"First Quest",description:"Created your first quest",icon:"",requirement:{type:"quests_created",value:1},rewardTokens:50,rewardExperience:10,category:"creator",isSecret:!1,tier:"bronze",isActive:!0,sortOrder:1},{id:"social_butterfly",name:"Social Butterfly",description:"Joined 10 quests",icon:"",requirement:{type:"quests_joined",value:10},rewardTokens:200,rewardExperience:50,category:"social",isSecret:!1,tier:"silver",isActive:!0,sortOrder:2},{id:"quest_master",name:"Quest Master",description:"Created 25 successful quests",icon:"",requirement:{type:"quests_created",value:25},rewardTokens:1e3,rewardExperience:250,category:"creator",isSecret:!1,tier:"platinum",isActive:!0,sortOrder:3}],eV=async()=>{try{console.log("Initializing database...");for(const n of XL){const e=gd(ic,"categories",n.id),t={...n,totalQuests:0,activeQuests:0,isActive:!0,createdAt:mi(),updatedAt:mi()};await Tp(e,t),console.log(` Category "${n.name}" initialized`)}for(const n of JL){const e=gd(ic,"cities",n.id),t={...n,createdAt:mi(),updatedAt:mi()};await Tp(e,t),console.log(` City "${n.name}" initialized`)}for(const n of ZL){const e=gd(ic,"achievements",n.id),t={...n,createdAt:mi()};await Tp(e,t),console.log(` Achievement "${n.name}" initialized`)}return console.log(" Database initialization completed successfully"),!0}catch(n){throw console.error(" Error initializing database:",n),new Error(`Database initialization failed: ${n.message}`)}},tV=async()=>{try{const n=bb(ic,"categories");return(await OD(n)).size>0}catch(n){return console.error("Error checking database setup:",n),!1}},nV=async()=>{try{if(console.log(" Initializing EventBuddy Database..."),await tV()){console.log(" Database already initialized");return}await eV(),console.log(" Database initialization completed successfully!"),console.log(" Collections created: categories, cities, achievements"),console.log(" Security rules need to be set via Firebase Console")}catch(n){throw console.error(" Database initialization failed:",n),new Error(`Database initialization failed: ${n.message}`)}},tS=T.createContext({user:null,loading:!0,quests:[],questsLoading:!0,dbInitialized:!1}),rV=()=>{const n=T.useContext(tS);if(!n)throw new Error("useFirebase must be used within FirebaseProvider");return n},sV=({children:n})=>{const[e,t]=T.useState(null),[r,i]=T.useState(!0),[a,c]=T.useState([]),[h,p]=T.useState(!0),[g,_]=T.useState(!1);T.useEffect(()=>{(async()=>{try{console.log(" Initializing database..."),await nV(),_(!0),console.log(" Database initialization completed")}catch(C){console.error(" Database initialization failed:",C),_(!0)}})()},[]),T.useEffect(()=>{const x=g4(C=>{t(C),i(!1)});return()=>x()},[]),T.useEffect(()=>{const x=YL(C=>{c(C),p(!1)});return()=>x()},[]);const y={user:e,loading:r,quests:a,questsLoading:h,dbInitialized:g};return f.jsx(tS.Provider,{value:y,children:n})};function oV(){const{user:n,loading:e,quests:t}=rV(),[r,i]=T.useState("board"),[a,c]=T.useState(null),[h,p]=T.useState(null),[g,_]=T.useState(""),[y,x]=T.useState(!0),[C,P]=T.useState(!1);T.useEffect(()=>{P(!!n)},[n]);const k=O=>{i(O),c(null),p(null)},A=O=>{c(O),i("create-quest")},V=()=>{c(null),i("create-quest")},U=()=>{i(a?"my-quests":"board"),c(null)},I=async O=>{if(!n){ot.error("You must be logged in to create quests");return}try{if(a)ot.success("Quest updated successfully! ");else{const F={...O,organizerUid:n.uid,organizerName:n.displayName||"Anonymous",isEpic:!0,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhZHZlbnR1cmUlMjB0cmVra2luZ3xlbnwwfHx8fDE3NTY0Njg0MDJ8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"};await QL(F),ot.success("Epic quest launched! ")}}catch(F){ot.error(F.message||"Failed to save quest");return}i(a?"my-quests":"board"),c(null)},W=(O,F)=>{p(O),_(F),i("chat-detail")},X=()=>{i("chats"),p(null),_("")},ne=()=>{i("chats"),p(null),_("")},M=O=>{console.log("Profile created:",O),x(!0),P(!0),i("board")},S=()=>{i("board")},N=async()=>{try{const{user:O}=await Ub();O&&(ot.success(`Welcome, ${O.displayName||"User"}! `),i("board"))}catch(O){ot.error(O.message||"Failed to sign in")}},j=()=>{switch(r){case"board":return f.jsx(V_,{isProfileCompleted:y,onStartProfileCreation:()=>i("profile-creation"),isLoggedIn:C,quests:t,onQuestSaved:I,onGoogleSignIn:N});case"my-quests":return f.jsx(z5,{onEditQuest:A,onNavigateToChats:()=>i("chats"),onOpenChat:W,quests:t,userUid:n?.uid});case"chats":return f.jsx(F_,{onOpenChat:W});case"chat-detail":return h?f.jsx(TL,{chatId:h,questTitle:g,onBack:X,onLeaveChat:ne}):f.jsx(F_,{onOpenChat:W});case"profile":return f.jsx(SL,{isProfileCompleted:y,onStartProfileCreation:()=>i("profile-creation"),onEditProfile:()=>i("profile-creation")});case"profile-creation":return f.jsx(qL,{onProfileComplete:M,onExit:S});case"create-quest":return f.jsx(nT,{questToEdit:a,onQuestSaved:()=>i("my-quests"),onDiscard:U});default:return f.jsx(V_,{})}};return f.jsxs("div",{className:"relative size-full min-h-screen bg-background overflow-x-hidden",children:[f.jsx("style",{children:`
        @viewport { width: device-width; initial-scale: 1; }
        html { 
          -webkit-text-size-adjust: 100%; 
          -webkit-tap-highlight-color: transparent;
        }
        body { 
          overscroll-behavior: none;
          -webkit-overflow-scrolling: touch;
        }
      `}),!["chat-detail","profile-creation"].includes(r)&&f.jsx(SC,{}),f.jsx("main",{className:`${["chat-detail","profile-creation"].includes(r)?"pb-0":"pt-2 pb-24"} px-0`,children:j()}),["board","my-quests"].includes(r)&&y&&f.jsx("div",{className:"fixed z-50 touch-manipulation",style:{bottom:"calc(112px + env(safe-area-inset-bottom))",right:"max(16px, calc(16px + env(safe-area-inset-right)))",width:"56px",height:"56px"},children:f.jsxs("button",{onClick:V,className:"w-full h-full rounded-full floating-action-button transition-all duration-300 transform active:scale-90 group flex items-center justify-center",children:[f.jsx(nC,{size:20,className:"text-white drop-shadow-[0_0_8px_rgba(255,255,255,0.8)] transition-transform duration-300 group-active:rotate-90 relative z-10"}),f.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-neon-cyan opacity-75",style:{animation:"ping 2s cubic-bezier(0, 0, 0.2, 1) infinite"}})]})}),!["chat-detail","profile-creation"].includes(r)&&f.jsx(KL,{activeTab:r==="create-quest"?"my-quests":r,onTabChange:k}),f.jsx(ZC,{position:"top-center",closeButton:!0,richColors:!0,theme:"light",toastOptions:{style:{padding:"16px",fontSize:"14px"}}})]})}function iV(){return f.jsx(sV,{children:f.jsx(oV,{})})}gI.createRoot(document.getElementById("root")).render(f.jsx(iV,{}));
